SET DATEFIRST 7
SET ANSI_NULLS OFF
SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED
SET LOCK_TIMEOUT -1
SET QUOTED_IDENTIFIER OFF
GO

/************************************************************************/
/*                         TABLAS DE CONVERSION                         */
/************************************************************************/

/************************* CFDFLEX_UNIDADES *************************/
IF NOT EXISTS(SELECT * FROM TablaST WHERE TablaST = 'CFDFLEX_UNIDADES') INSERT TablaST (TablaST) VALUES ('CFDFLEX_UNIDADES') 
GO
--DELETE TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES'
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'ca')   INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'ca',   'CAJA')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'kg')	 INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'kg',   'KILO')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'mt')	 INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'mt',   'METRO LINEAL') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'pza')  INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'pza',  'PIEZA') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'pzas') INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'pzas', 'PIEZA') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'ton')	 INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'ton',  'TONELADA') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'mt2')	 INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'mt2',  'METRO CUADRADO') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'mt3')	 INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'mt3',  'METRO CUBICO') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'gr')	 INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'gr',   'GRAMO') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'lt')	 INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'lt',   'LITRO') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'grn')	 INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'grn',  'GRAMO NETO') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'bo')	 INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'bo',   'BOTELLA') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'ba')	 INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'ba',   'BARRIL') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'kit')	 INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'kit',  'JUEGO') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'cab')	 INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'cab',  'CABEZA') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'pa')	 INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'pa',   'PAR') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'kil')	 INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'kil',  'KILOWATT') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'mi')	 INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'mi',   'MILLAR') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'kh')	 INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'kh',   'KILOWATT/HORA') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'de')	 INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'de',   'DECENAS') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'ci')	 INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'ci',   'CIENTOS') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_UNIDADES' AND Nombre = 'do')	 INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_UNIDADES', 'do',   'DOCENAS') 
GO


/************************* CFDFLEX_MONEDAS *************************/
IF NOT EXISTS(SELECT * FROM TablaST WHERE TablaST = 'CFDFLEX_MONEDAS')  INSERT TablaST (TablaST) VALUES ('CFDFLEX_MONEDAS') 
GO

IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_MONEDAS' AND Nombre = 'Dolares') INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_MONEDAS', 'Dolares', 'USD')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_MONEDAS' AND Nombre = 'Pesos')   INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_MONEDAS', 'Pesos', 'MXN')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_MONEDAS' AND Nombre = 'Euros')   INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_MONEDAS', 'Euros', 'XEU')
GO

/************************* CFDFLEX_UNIDADES *************************/
IF NOT EXISTS(SELECT * FROM TablaST WHERE TablaST = 'CFDFLEX_EDIFAC_UNIDADES') INSERT TablaST (TablaST) VALUES ('CFDFLEX_EDIFAC_UNIDADES') 
GO

IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_EDIFAC_UNIDADES' AND Nombre = 'Caja')      INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_EDIFAC_UNIDADES', 'Caja', 'CA')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_EDIFAC_UNIDADES' AND Nombre = 'Kilogramo') INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_EDIFAC_UNIDADES', 'Kilogramo', 'KGM')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_EDIFAC_UNIDADES' AND Nombre = 'Metro')     INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_EDIFAC_UNIDADES', 'Metro', 'MTR') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_EDIFAC_UNIDADES' AND Nombre = 'PZA')       INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_EDIFAC_UNIDADES', 'PZA', 'EA') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'CFDFLEX_EDIFAC_UNIDADES' AND Nombre = 'Unidades')  INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('CFDFLEX_EDIFAC_UNIDADES', 'Unidades', 'PCE') 
GO


/************************* FEMSA *************************/
IF NOT EXISTS(SELECT * FROM TablaST WHERE TablaST = 'FEMSA')  INSERT TablaST (TablaST) VALUES ('FEMSA') 
GO
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'FEMSA' AND Nombre = 'Dolares') INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('FEMSA', 'Dolares', 'USD')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'FEMSA' AND Nombre = 'Pesos')   INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('FEMSA', 'Pesos', 'MXN')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'FEMSA' AND Nombre = 'Euros')   INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('FEMSA', 'Euros', 'EUR')
GO
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'FEMSA' AND Nombre = 'VTAS.F') INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('FEMSA', 'VTAS.F', '1')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'FEMSA' AND Nombre = 'VTAS.VC')   INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('FEMSA', 'VTAS.VC', '2')
GO

/************************* SORIANA *************************/
IF NOT EXISTS(SELECT * FROM TablaST WHERE TablaST = 'SORIANA')  INSERT TablaST (TablaST) VALUES ('SORIANA') 
GO
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'SORIANA' AND Nombre = 'Dolares') INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('SORIANA', 'Dolares', '2')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'SORIANA' AND Nombre = 'Pesos')   INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('SORIANA', 'Pesos', '1')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'SORIANA' AND Nombre = 'Euros')   INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('SORIANA', 'Euros', '3')

/************************* AMC7.1 *************************/
IF NOT EXISTS(SELECT * FROM TablaST WHERE TablaST = 'AMC7.1')  INSERT TablaST (TablaST) VALUES ('AMC7.1') 
GO
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'AMC7.1' AND Nombre = 'Dolares') INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('AMC7.1', 'Dolares', 'USD')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'AMC7.1' AND Nombre = 'Pesos')   INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('AMC7.1', 'Pesos', 'MXN')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'AMC7.1' AND Nombre = 'Euros')   INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('AMC7.1', 'Euros', 'EUR')


/************************* EDIFACT_D01B_CFDVenta *************************/
IF NOT EXISTS(SELECT * FROM TablaST WHERE TablaST = 'EDIFACT_D01B_CFDVenta')  INSERT TablaST (TablaST) VALUES ('EDIFACT_D01B_CFDVenta') 
GO
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'EDIFACT_D01B_CFDVenta' AND Nombre = 'Dolares') INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('EDIFACT_D01B_CFDVenta', 'Dolares', 'USD')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'EDIFACT_D01B_CFDVenta' AND Nombre = 'Pesos')   INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('EDIFACT_D01B_CFDVenta', 'Pesos', 'MXN')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'EDIFACT_D01B_CFDVenta' AND Nombre = 'Euros')   INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('EDIFACT_D01B_CFDVenta', 'Euros', 'EUR')

IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'EDIFACT_D01B_CFDVenta' AND Nombre = 'VTAS.D') INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('EDIFACT_D01B_CFDVenta', 'VTAS.D', '381')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'EDIFACT_D01B_CFDVenta' AND Nombre = 'VTAS.B')   INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('EDIFACT_D01B_CFDVenta', 'VTAS.B', '383')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'EDIFACT_D01B_CFDVenta' AND Nombre = 'VTAS.F')   INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('EDIFACT_D01B_CFDVenta', 'VTAS.F', '380')

IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'EDIFACT_D01B_CFDVenta' AND Nombre = 'CANCELADO') INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('EDIFACT_D01B_CFDVenta', 'CANCELADO', '1')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'EDIFACT_D01B_CFDVenta' AND Nombre = 'CONCLUIDO')   INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('EDIFACT_D01B_CFDVenta', 'CONCLUIDO', '9')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'EDIFACT_D01B_CFDVenta' AND Nombre = 'PENDIENTE')   INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('EDIFACT_D01B_CFDVenta', 'PENDIENTE', '9')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'EDIFACT_D01B_CFDVenta' AND Nombre = 'SINAFECTAR')   INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('EDIFACT_D01B_CFDVenta', 'SINAFECTAR', '9')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'EDIFACT_D01B_CFDVenta' AND Nombre = 'BORRADOR')   INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('EDIFACT_D01B_CFDVenta', 'BORRADOR', '9')

IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'EDIFACT_D01B_CFDVenta' AND Nombre = 'Caja')      INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('EDIFACT_D01B_CFDVenta', 'Caja', 'CA')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'EDIFACT_D01B_CFDVenta' AND Nombre = 'Kilogramo') INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('EDIFACT_D01B_CFDVenta', 'Kilogramo', 'KGM')
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'EDIFACT_D01B_CFDVenta' AND Nombre = 'Metro')     INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('EDIFACT_D01B_CFDVenta', 'Metro', 'MTR') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'EDIFACT_D01B_CFDVenta' AND Nombre = 'PZA')       INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('EDIFACT_D01B_CFDVenta', 'PZA', 'EA') 
IF NOT EXISTS(SELECT * FROM TablaSTD WHERE TablaST = 'EDIFACT_D01B_CFDVenta' AND Nombre = 'Unidades')  INSERT TablaSTD (TablaST, Nombre, Valor) VALUES ('EDIFACT_D01B_CFDVenta', 'Unidades', 'PCE') 
GO

/************************************************************************/
/*Funciones*/
/************************************************************************/
/**************** fneDocQuitarAcentos ****************/
if exists (select * FROM sysobjects WHERE name = 'fneDocQuitarAcentos') drop function dbo.fneDocQuitarAcentos
GO
CREATE FUNCTION fneDocQuitarAcentos (@XML varchar(max))
RETURNS varchar(max)
WITH ENCRYPTION
AS BEGIN
  DECLARE 
	@XMLResult				varchar(max)
	 
  SET @XMLResult = REPLACE(@XML,'á','a') 
  SET @XMLResult = REPLACE(@XMLResult,'é','e')  
  SET @XMLResult = REPLACE(@XMLResult,'í','i')    
  SET @XMLResult = REPLACE(@XMLResult,'ó','o')      
  SET @XMLResult = REPLACE(@XMLResult,'ú','u')        
  SET @XMLResult = REPLACE(@XMLResult,'ñ','n')          
  
  RETURN @XMLResult  
  
END
GO

/**************** fnEdifactDivisor ****************/
if exists (select * FROM sysobjects WHERE name = 'fnEdifactDivisor') drop function dbo.fnEdifactDivisor
GO
CREATE FUNCTION fnEdifactDivisor   
 (  
 @Texto     varchar(255),   
 @LongitudMaxima   int  
 )  
RETURNS varchar(255)  
WITH ENCRYPTION  
AS BEGIN  
  DECLARE   
  @Resultado   varchar(255),  
  @Continuar   bit,  
  @TextoLongitud  int,  
  @Sobrante    varchar(255),  
  @SobranteLongitud  int  
  
  SET @Resultado = ''  
  SET @SobranteLongitud = LEN(@Texto)  
  IF  @SobranteLongitud > @LongitudMaxima  
  BEGIN  
    SET @Sobrante = @Texto  
    SET @Continuar = 1  
    WHILE @Continuar = 1  
    BEGIN  
      SET @Resultado = @Resultado + LEFT(@Sobrante,@LongitudMaxima) + ':'  
      SET @Sobrante = SUBSTRING(@Sobrante,@LongitudMaxima+1,@SobranteLongitud-@LongitudMaxima)  
      SET @SobranteLongitud = LEN(@Sobrante)  
      IF @SobranteLongitud <= @LongitudMaxima  
      BEGIN  
        SET @Continuar = 0  
      END  
    END  
    SET @Resultado = @Resultado + @Sobrante  
  END ELSE  
  BEGIN  
 SET @Resultado = @Texto  
  END  
    
  RETURN (@Resultado)  
END
GO

/************************************************************************/
/*AMC7.1*/
/************************************************************************/

/********************************* VTAS-AMC7.1-eDoc *********************************/
IF NOT EXISTS(SELECT * FROM eDoc WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1') 
INSERT INTO eDoc (Modulo, eDoc, TipoXML, Documento, XSD, TipoCFD) SELECT 'VTAS', 'AMC7.1',1, 
'{Encabezado}      
<requestForPayment xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="SimpleInvoiceType" contentVersion="1.3.1" documentStructureVersion="AMC7.1" documentStatus="[VentaEstatusCancelacion]" DeliveryDate="[VentaFechaRegistro]">        
  <requestForPaymentIdentification>          
    <entityType>[VentaTipoDocumento]</entityType>          
    <uniqueCreatorIdentification>[VentaMovID]</uniqueCreatorIdentification>        
  </requestForPaymentIdentification>        
  <specialInstruction code="ZZZ">          
    <text>[VentaImporteLetra]</text>        
  </specialInstruction>        
  <orderIdentification>         
    <referenceIdentification type="ON">[VentaOrdenCompra]</referenceIdentification>          
    <ReferenceDate>[VentaOrdenCompraFecha]</ReferenceDate>         
  </orderIdentification>        
  <AdditionalInformation>          
    <referenceIdentification type="ATZ">[NoAprobacion]</referenceIdentification>        
  </AdditionalInformation>        
  <DeliveryNote>            
    <referenceIdentification>[VentaReciboFolio]</referenceIdentification>            
    <ReferenceDate>[VentaReciboFecha]</ReferenceDate>        
  </DeliveryNote>        
  <buyer>          
    <gln>[ClienteGLN]</gln>          
    <contactInformation>            
      <personOrDepartmentName>             
        <text>[ClaveDepartamento]</text>            
      </personOrDepartmentName>          
    </contactInformation>        
  </buyer>        
  <seller>         
    <gln>[EmpresaGLN]</gln>         
    <alternatePartyIdentification type="SELLER_ASSIGNED_IDENTIFIER_FOR_A_PARTY">[ProveedorID]</alternatePartyIdentification>        
  </seller>        
  <shipTo>          
    <gln>[ClienteGLN]</gln>          
    <nameAndAddress>            
      <name>[ClienteNombre]</name>            
      <streetAddressOne>[ClienteDireccion]</streetAddressOne>            
      <city>[ClienteCiudad]</city>            
      <postalCode>[ClienteCodigoPostal]</postalCode>          
    </nameAndAddress>        
  </shipTo>        
  <currency currencyISOCode="[VentaMoneda]">          
    <currencyFunction>BILLING_CURRENCY</currencyFunction>          
    <rateOfChange>[VentaTipoCambio]</rateOfChange>        
  </currency>        
  <paymentTerms paymentTermsEvent="[VentaTipoPago]" PaymentTermsRelationTime="REFERENCE_AFTER">          
    <netPayment netPaymentTermsType="BASIC_NET">            
      <paymentTimePeriod>              
        <timePeriodDue timePeriod="DAYS">                
          <value>[CondicionDiasVencimiento]</value>              
        </timePeriodDue>            
      </paymentTimePeriod>          
    </netPayment>        
  </paymentTerms>        
  <allowanceCharge settlementType="OFF_INVOICE" allowanceChargeType="ALLOWANCE_GLOBAL">          
    <specialServicesType>[DescuentoGlobalClave]</specialServicesType>          
    <monetaryAmountOrPercentage>               
      <rate base="INVOICE_VALUE">              
        <percentage>[VentaPorcentajeDescuento]</percentage>            
      </rate>          
    </monetaryAmountOrPercentage>        
  </allowanceCharge>  
{/Encabezado}  
{Detalle}      
  <lineItem type="SimpleInvoiceLineItemType" number="«Consecutivo1»">        
    <tradeItemIdentification>          
      <gtin>[EAN13]</gtin>        
    </tradeItemIdentification>        
    <alternateTradeItemIdentification type="SUPPLIER_ASSIGNED">[SKUCliente]</alternateTradeItemIdentification>        
    <tradeItemDescriptionInformation language="ES">          
      <longText>[ArticuloDescripcion]</longText>        
    </tradeItemDescriptionInformation>        
    <invoicedQuantity unitOfMeasure="[UnidadClave]">[VentaDCantidad]</invoicedQuantity>        
    <grossPrice>          
      <Amount>[VentaDPrecioBruto]</Amount>        
    </grossPrice>        
    <netPrice>          
      <Amount>[VentaDPrecioNeto]</Amount>        
    </netPrice>  
{/Detalle}    
{DetalleImpuesto}        
    <tradeItemTaxInformation>          
      <taxTypeDescription>[Clave]</taxTypeDescription>          
      <tradeItemTaxAmount>            
        <taxPercentage>[Tasa]</taxPercentage>            
        <taxAmount>[Importe]</taxAmount>          
      </tradeItemTaxAmount>          
      <taxCategory>[TipoImpuesto]</taxCategory>        
    </tradeItemTaxInformation>  
{/DetalleImpuesto}      
{Detalle2}          
    <totalLineAmount>          
      <grossAmount>            
        <Amount>[VentaDImporteBruto]</Amount>          
      </grossAmount>          
      <netAmount>            
        <Amount>[VentaDImporteNeto]</Amount>          
      </netAmount>        
    </totalLineAmount>      
  </lineItem>  
{/Detalle2}        
{Total}            
  <totalAmount>    
    <Amount>[VentaTotal]</Amount>    
  </totalAmount>    
  <TotalAllowanceCharge allowanceOrChargeType="ALLOWANCE">      
    <Amount>[VentaImporteDescuento]</Amount>    
  </TotalAllowanceCharge>    
  <baseAmount>      
    <Amount>[VentaSubTotal]</Amount>    
  </baseAmount>  
{/Total}          
{Impuestos}              
  <tax type="[VentaImpuesto1Clave]">      
    <taxPercentage>[Porcentaje]</taxPercentage>      
    <taxAmount>[Importe]</taxAmount>      
    <taxCategory>[CategoriaImpuesto]</taxCategory>    
  </tax>  
{/Impuestos}     
{Total2}                       
  <payableAmount><Amount>[VentaTotal]</Amount></payableAmount></requestForPayment>  
{/Total2}',
'', 0
GO
 
/* VTAS-AMC7.1-eDocD*/
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'AMC7.1', 2,  'Encabezado','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Detalle')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'AMC7.1', 4,  'Detalle','Encabezado','CFDVentaD',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'DetalleImpuesto')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'AMC7.1', 6,  'DetalleImpuesto','Detalle','CFDVentaDMovImpuesto',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Detalle2')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'AMC7.1', 8,  'Detalle2','Encabezado','CFDVentaD',1,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Total')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'AMC7.1', 10,  'Total','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Impuestos')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'AMC7.1', 12,  'Impuestos','','CFDVentaMovImpuesto',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Total2')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'AMC7.1', 14,  'Total2','','CFDVenta',1,'' 
GO
 
/* VTAS-AMC7.1-eDocDMapeoCampo*/
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaEstatusCancelacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[VentaEstatusCancelacion]',  'VentaEstatusCancelacion','',1,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaFechaRegistro]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[VentaFechaRegistro]',  'VentaFechaRegistro','AAAA-MM-DD',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoDocumento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[VentaTipoDocumento]',  'VentaTipoDocumento','',1,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaMovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[VentaMovID]',  'VentaMovID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaImporteLetra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[VentaImporteLetra]',  'VentaImporteLetra','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaOrdenCompra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[VentaOrdenCompra]',  'VentaOrdenCompra','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteGLN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[ClienteGLN]',  'ClienteGLN','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteNombre]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[ClienteNombre]',  'ClienteNombre','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteDireccion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[ClienteDireccion]',  'SUBSTRING(ClienteDireccion,1,35)','',0,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteCiudad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[ClienteCiudad]',  'ClienteLocalidad','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteCodigoPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[ClienteCodigoPostal]',  'ClienteCodigoPostal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaMoneda]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[VentaMoneda]',  'VentaMoneda','',1,1,'<VentaMoneda></VentaMoneda>', 'CFDFLEX_MONEDAS' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoCambio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[VentaTipoCambio]',  'VentaTipoCambio','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[VentaTipoPago]',  'VentaTipoPago','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CondicionDiasVencimiento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[CondicionDiasVencimiento]',  'CondicionDiasVencimiento','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DescuentoGlobalClave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[DescuentoGlobalClave]',  'VentaDescuentoGlobalClave','',1,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaPorcentajeDescuento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[VentaPorcentajeDescuento]',  'VentaPorcentajeDescuentoGlobal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NoAprobacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[NoAprobacion]',  'CFDnoAprobacion','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaOrdenCompraFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[VentaOrdenCompraFecha]',  'VentaOrdenCompraFecha','AAAA-MM-DD',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaReciboFolio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[VentaReciboFolio]',  'VentaEntregaRecibo','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaReciboFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[VentaReciboFecha]',  'VentaEntregaReciboFecha','AAAA-MM-DD',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClaveDepartamento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[ClaveDepartamento]',  'CteDeptoClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaGLN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[EmpresaGLN]',  'EmpresaGLN','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ProveedorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Encabezado'), '[ProveedorID]',  'ClienteProveedorID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[EAN13]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Detalle'), '[EAN13]',  'EAN13','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[SKUCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Detalle'), '[SKUCliente]',  'SKUCliente','',0,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[ArticuloDescripcion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Detalle'), '[ArticuloDescripcion]',  'VentaDDescripcion','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[UnidadClave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Detalle'), '[UnidadClave]',  'UnidadClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDCantidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Detalle'), '[VentaDCantidad]',  'VentaDCantidad','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDPrecioBruto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Detalle'), '[VentaDPrecioBruto]',  'VentaDImporteUnitario','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDPrecioNeto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Detalle'), '[VentaDPrecioNeto]',  'VentaDSubTotalUnitario','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'DetalleImpuesto' AND eddmc.CampoXML = '[Clave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'DetalleImpuesto'), '[Clave]',  'VentaDImpuestoClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'DetalleImpuesto' AND eddmc.CampoXML = '[Tasa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'DetalleImpuesto'), '[Tasa]',  'VentaDImpuestoTasa','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'DetalleImpuesto' AND eddmc.CampoXML = '[Importe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'DetalleImpuesto'), '[Importe]',  'VentaDImpuestoImporte','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'DetalleImpuesto' AND eddmc.CampoXML = '[TipoImpuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'DetalleImpuesto'), '[TipoImpuesto]',  'VentaDCategoriaImpuesto','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Detalle2' AND eddmc.CampoXML = '[VentaDImporteBruto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Detalle2'), '[VentaDImporteBruto]',  'VentaDImporte','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Detalle2' AND eddmc.CampoXML = '[VentaDImporteNeto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Detalle2'), '[VentaDImporteNeto]',  'VentaDSubTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[VentaTotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Total'), '[VentaTotal]',  'VentaTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[VentaImporteDescuento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Total'), '[VentaImporteDescuento]',  'VentaDescuentoImporte','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[VentaSubTotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Total'), '[VentaSubTotal]',  'VentaSubTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[VentaImpuesto1Clave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Impuestos'), '[VentaImpuesto1Clave]',  'ImpuestoClave','',0,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[Porcentaje]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Impuestos'), '[Porcentaje]',  'Tasa','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[Importe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Impuestos'), '[Importe]',  'Importe','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[CategoriaImpuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Impuestos'), '[CategoriaImpuesto]',  'CategoriaImpuesto','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'AMC7.1' AND edd.Seccion = 'Total2' AND eddmc.CampoXML = '[VentaTotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'AMC7.1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'AMC7.1' AND Seccion = 'Total2'), '[VentaTotal]',  'VentaTotal','',0,0,'', '' 
GO
 
/************************************************************************/
/*CPLR1*/
/************************************************************************/
/********************************* VTAS-CPLR1-eDoc *********************************/
IF NOT EXISTS(SELECT * FROM eDoc WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1') 
INSERT INTO eDoc (Modulo, eDoc, TipoXML, Documento, XSD, TipoCFD) SELECT 'VTAS', 'CPLR1',1, 
'{Encabezado}      
<requestForPayment xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="SimpleInvoiceType" contentVersion="1.3.1" documentStructureVersion="AMC7.1" documentStatus="[VentaEstatusCancelacion]" DeliveryDate="[VentaFechaRegistro]">        
  <requestForPaymentIdentification>          
    <entityType>[VentaTipoDocumento]</entityType>          
    <uniqueCreatorIdentification>[VentaMovID]</uniqueCreatorIdentification>        
  </requestForPaymentIdentification>        
  <orderIdentification>          
    <referenceIdentification type="ON">[VentaOrdenCompra]</referenceIdentification>          
    <ReferenceDate>[VentaOrdenCompraFecha]</ReferenceDate>         
  </orderIdentification>        
  <seller>          
    <gln>[EmpresaGLN]</gln>          
    <alternatePartyIdentification type="SELLER_ASSIGNED_IDENTIFIER_FOR_A_PARTY">[ProveedorID]</alternatePartyIdentification>          
    <IndentificaTipoProv>2</IndentificaTipoProv>        
  </seller>        
  <shipTo>          
    <gln>[ClienteGLN]</gln>          
    <nameAndAddress>            
      <name>[ClienteNombre]</name>            
      <streetAddressOne>[ClienteDireccion]</streetAddressOne>            
      <city>[ClienteCiudad]</city>            
      <postalCode>[ClienteCodigoPostal]</postalCode>            
      <bodegaEnt>[BodegaEntrega]</bodegaEnt>          
    </nameAndAddress>        
  </shipTo>        
  <currency currencyISOCode="[VentaMoneda]">          
    <currencyFunction>BILLING_CURRENCY</currencyFunction>          
    <rateOfChange>[VentaTipoCambio]</rateOfChange>        
  </currency>    
  <TotalLotes><cantidad>[TotalLotes]</cantidad></TotalLotes>  
{/Encabezado}  
{Detalle}      
  <lineItem type="SimpleInvoiceLineItemType" number="«Consecutivo1»">        
    <tradeItemIdentification>          
      <gtin>[EAN13]</gtin>        
    </tradeItemIdentification>        
    <alternateTradeItemIdentification type="SUPPLIER_ASSIGNED">[SKUCliente]</alternateTradeItemIdentification>        
    <codigoTallaInternoCop>        
      <codigo>[CodigoCopel]</codigo>        
      <talla>[TallaCopel]</talla>        
    </codigoTallaInternoCop>        
    <tradeItemDescriptionInformation language="ES">          
      <longText>[ArticuloDescripcion]</longText>        
    </tradeItemDescriptionInformation>        
    <invoicedQuantity unitOfMeasure="[UnidadClave]">[VentaDCantidad]</invoicedQuantity>        
    <grossPrice>          
      <Amount>[VentaDPrecioBruto]</Amount>        
    </grossPrice>        
    <netPrice>          
      <Amount>[VentaDPrecioNeto]</Amount>        
    </netPrice>           
    <palletInformation>        
      <description type="EXCHANGE_PALLETS">[TipoEmpaque]</description>        
      <transport>            
        <methodOfPayment>PREPAID_BY_SELLER</methodOfPayment>        
        <prepactCant>[TotalCajaRenglon]</prepactCant>       
      </transport>      
    </palletInformation>       
    <allowanceCharge settlementType="OFF_INVOICE" allowanceChargeType="ALLOWANCE_GLOBAL">           
      <specialServicesType>PAD</specialServicesType>           
      <monetaryAmountOrPercentage>           
        <percentagePerUnit>0</percentagePerUnit>           
        <ratePerUnit>           
          <amountPerUnit>0.0</amountPerUnit>           
        </ratePerUnit>           
      </monetaryAmountOrPercentage>       
    </allowanceCharge>  
{/Detalle} 
{Detalle2}    
    <totalLineAmount>          
      <grossAmount>            
        <Amount>[VentaDImporteBruto]</Amount>          
      </grossAmount>          
      <netAmount>            
        <Amount>[VentaDImporteNeto]</Amount>          
      </netAmount>        
    </totalLineAmount>      
  </lineItem>  
{/Detalle2}        
{Total}            
  <totalAmount>    
    <Amount>[VentaTotal]</Amount>    
  </totalAmount>    
  <TotalAllowanceCharge allowanceOrChargeType="ALLOWANCE">      
    <specialServicesType>PAD</specialServicesType>      
    <Amount>[VentaImporteDescuento]</Amount>    
  </TotalAllowanceCharge>    
  <baseAmount>                                                    
    <Amount>[VentaSubTotal]</Amount>    
  </baseAmount>  
{/Total}          
{Impuestos}              
  <tax type="[VentaImpuesto1Clave]">      
    <taxPercentage>[Porcentaje]</taxPercentage>      
    <taxAmount>[Importe]</taxAmount>      
    <taxCategory>[CategoriaImpuesto]</taxCategory>    
  </tax>  
{/Impuestos}     
{Total2}    
  <payableAmount><Amount>[VentaTotal]</Amount></payableAmount>     
  <cadenaOriginal>        
    <Cadena>_CADENAORIGINAL_</Cadena>     
  </cadenaOriginal>    
</requestForPayment>  
{/Total2}',
'', 0
GO
 
/* VTAS-CPLR1-eDocD*/
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CPLR1', 2,  'Encabezado','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Detalle')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CPLR1', 4,  'Detalle','Encabezado','CFDVentaD',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Detalle2')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CPLR1', 8,  'Detalle2','Encabezado','CFDVentaD',1,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Total')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CPLR1', 10,  'Total','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Impuestos')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CPLR1', 12,  'Impuestos','','CFDVentaMovImpuesto',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Total2')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CPLR1', 14,  'Total2','','CFDVenta',1,'' 
GO
 
/* VTAS-CPLR1-eDocDMapeoCampo*/
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaEstatusCancelacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[VentaEstatusCancelacion]',  'VentaEstatusCancelacion','',1,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaFechaRegistro]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[VentaFechaRegistro]',  'VentaFechaRegistro','AAAA-MM-DD',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoDocumento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[VentaTipoDocumento]',  'VentaTipoDocumento','',1,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaMovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[VentaMovID]',  'VentaMovID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaImporteLetra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[VentaImporteLetra]',  'VentaImporteLetra','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaOrdenCompra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[VentaOrdenCompra]',  'VentaOrdenCompra','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteGLN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[ClienteGLN]',  'ClienteGLN','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteNombre]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[ClienteNombre]',  'ClienteNombre','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteDireccion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[ClienteDireccion]',  'SUBSTRING(ClienteDireccion,1,35)','',0,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteCiudad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[ClienteCiudad]',  'ClienteLocalidad','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteCodigoPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[ClienteCodigoPostal]',  'ClienteCodigoPostal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaMoneda]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[VentaMoneda]',  'VentaMoneda','',1,1,'<VentaMoneda></VentaMoneda>', 'CFDFLEX_MONEDAS'
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoCambio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[VentaTipoCambio]',  'VentaTipoCambio','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[VentaTipoPago]',  'VentaTipoPago','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CondicionDiasVencimiento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[CondicionDiasVencimiento]',  'CondicionDiasVencimiento','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DescuentoGlobalClave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[DescuentoGlobalClave]',  'VentaDescuentoGlobalClave','',1,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaPorcentajeDescuento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[VentaPorcentajeDescuento]',  'VentaPorcentajeDescuentoGlobal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NoAprobacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[NoAprobacion]',  'CFDnoAprobacion','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaOrdenCompraFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[VentaOrdenCompraFecha]',  'VentaOrdenCompraFecha','AAAA-MM-DD',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaReciboFolio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[VentaReciboFolio]',  'VentaEntregaRecibo','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaReciboFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[VentaReciboFecha]',  'VentaEntregaReciboFecha','AAAA-MM-DD',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClaveDepartamento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[ClaveDepartamento]',  'CteDeptoClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaGLN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[EmpresaGLN]',  'EmpresaGLN','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ProveedorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[ProveedorID]',  'ClienteProveedorID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[BodegaEntrega]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[BodegaEntrega]',  'CteEnviarAClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[TotalLotes]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Encabezado'), '[TotalLotes]',  '(SELECT SUM(VentaD.Cantidad) FROM VentaD WHERE VentaD.ID = CFDVenta.ID)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[EAN13]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Detalle'), '[EAN13]',  'EAN13','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[SKUCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Detalle'), '[SKUCliente]',  'SKUCliente','',0,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[ArticuloDescripcion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Detalle'), '[ArticuloDescripcion]',  'VentaDDescripcion','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[UnidadClave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Detalle'), '[UnidadClave]',  'UnidadClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDCantidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Detalle'), '[VentaDCantidad]',  'VentaDCantidad','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDPrecioBruto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Detalle'), '[VentaDPrecioBruto]',  'VentaDImporteUnitario','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDPrecioNeto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Detalle'), '[VentaDPrecioNeto]',  'VentaDSubTotalUnitario','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[CodigoCopel]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Detalle'), '[CodigoCopel]',  'SKUCliente','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[TallaCopel]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Detalle'), '[TallaCopel]',  'SKUCliente','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[TipoEmpaque]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Detalle'), '[TipoEmpaque]',  'TipoEmpaqueClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[TotalCajaRenglon]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Detalle'), '[TotalCajaRenglon]',  'VentaDCantidad','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Detalle2' AND eddmc.CampoXML = '[VentaDImporteBruto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Detalle2'), '[VentaDImporteBruto]',  'VentaDImporte','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Detalle2' AND eddmc.CampoXML = '[VentaDImporteNeto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Detalle2'), '[VentaDImporteNeto]',  'VentaDSubTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[VentaTotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Total'), '[VentaTotal]',  'VentaTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[VentaImporteDescuento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Total'), '[VentaImporteDescuento]',  'VentaDescuentoImporte','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[VentaSubTotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Total'), '[VentaSubTotal]',  'VentaSubTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[VentaImpuesto1Clave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Impuestos'), '[VentaImpuesto1Clave]',  'ImpuestoClave','',0,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[Porcentaje]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Impuestos'), '[Porcentaje]',  'Tasa','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[Importe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Impuestos'), '[Importe]',  'Importe','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[CategoriaImpuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Impuestos'), '[CategoriaImpuesto]',  'CategoriaImpuesto','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLR1' AND edd.Seccion = 'Total2' AND eddmc.CampoXML = '[VentaTotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLR1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLR1' AND Seccion = 'Total2'), '[VentaTotal]',  'VentaTotal','',0,0,'', '' 
GO

/************************************************************************/
/*CPLR1*/
/************************************************************************/
/********************************* VTAS-CPLM1-eDoc *********************************/
IF NOT EXISTS(SELECT * FROM eDoc WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1') 
INSERT INTO eDoc (Modulo, eDoc, TipoXML, Documento, XSD, TipoCFD) SELECT 'VTAS', 'CPLM1',1, 
'{Encabezado}      
<requestForPayment xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="SimpleInvoiceType" contentVersion="1.3.1" documentStructureVersion="CPLM1.0" documentStatus="[VentaEstatusCancelacion]" DeliveryDate="[VentaFechaRegistro]">        
  <requestForPaymentIdentification>          
    <entityType>[VentaTipoDocumento]</entityType>          
    <uniqueCreatorIdentification>[VentaMovID]</uniqueCreatorIdentification>        
  </requestForPaymentIdentification>        
  <orderIdentification>          
    <referenceIdentification type="ON">[VentaOrdenCompra]</referenceIdentification>          
    <ReferenceDate>[VentaOrdenCompraFecha]</ReferenceDate>          
    <FechaPromesaEnt>[FechaEntrega]</FechaPromesaEnt>        
  </orderIdentification>        
  <seller>          
    <gln>[EmpresaGLN]</gln>          
    <alternatePartyIdentification type="SELLER_ASSIGNED_IDENTIFIER_FOR_A_PARTY">[ProveedorID]</alternatePartyIdentification>          
    <IndentificaTipoProv>1</IndentificaTipoProv>        
  </seller>        
  <shipTo>          
    <gln>[ClienteSucGLN]</gln>          
    <nameAndAddress>            
      <name>[ClienteSucNombre]</name>            
      <streetAddressOne>[ClienteSucDireccion]</streetAddressOne>            
      <city>[ClienteSucCiudad]</city>            
      <postalCode>[ClienteSucCodigoPostal]</postalCode>          
    </nameAndAddress>             
    <BodegaDestino>[ClienteSucClave]</BodegaDestino>            
    <BodegaReceptora>[VentaEntregaMercancia]</BodegaReceptora>        
  </shipTo>        
  <currency currencyISOCode="[VentaMoneda]">          
    <currencyFunction>BILLING_CURRENCY</currencyFunction>          
    <rateOfChange>[VentaTipoCambio]</rateOfChange>        
  </currency>        
  <FleteCaja type="SELLER_PROVIDED">[EmpresaNombre]</FleteCaja>                    
  <allowanceCharge settlementType="BILL_BACK" allowanceChargeType="ALLOWANCE_GLOBAL">                
    <specialServicesType>AA</specialServicesType>                
    <monetaryAmountOrPercentage>                    
      <rate base="INVOICE_VALUE">                        
        <percentage>[DescuentoPorcentaje]</percentage>                    
      </rate>                
    </monetaryAmountOrPercentage>            
  </allowanceCharge>   
{/Encabezado}  
{Detalle}      
  <lineItem type="SimpleInvoiceLineItemType" number="«Consecutivo1»">        
    <tradeItemIdentification>          
      <gtin>[EAN13]</gtin>        
    </tradeItemIdentification>        
    <alternateTradeItemIdentification type="SUPPLIER_ASSIGNED">[SKUCliente]</alternateTradeItemIdentification>        
    <tradeItemDescriptionInformation language="ES">          
      <longText>[ArticuloDescripcion]</longText>        
    </tradeItemDescriptionInformation>        
    <invoicedQuantity unitOfMeasure="[UnidadClave]">[VentaDCantidad]</invoicedQuantity>        
    <grossPrice>          
      <Amount>[VentaDPrecioBruto]</Amount>        
    </grossPrice>        
    <netPrice>          
      <Amount>[VentaDPrecioNeto]</Amount>        
    </netPrice>    
    <modeloInformation>        
      <longText>[CodigoCopel]</longText>    
    </modeloInformation>       
    <allowanceCharge settlementType="OFF_INVOICE" allowanceChargeType="ALLOWANCE_GLOBAL">           
      <specialServicesType>PAD</specialServicesType>           
      <monetaryAmountOrPercentage>           
        <percentagePerUnit>0</percentagePerUnit>           
        <ratePerUnit>           
          <amountPerUnit>0.0</amountPerUnit>           
        </ratePerUnit>           
      </monetaryAmountOrPercentage>       
    </allowanceCharge>  
{/Detalle}  
{Detalle2}    
    <totalLineAmount>          
      <grossAmount>            
        <Amount>[VentaDImporteBruto]</Amount>          
      </grossAmount>          
      <netAmount>            
        <Amount>[VentaDImporteNeto]</Amount>          
      </netAmount>        
    </totalLineAmount>      
  </lineItem>   
{/Detalle2}        
{Total}            
  <totalAmount>    
    <Amount>[VentaTotal]</Amount>    
  </totalAmount>    
  <TotalAllowanceCharge allowanceOrChargeType="ALLOWANCE">      
    <specialServicesType>PAD</specialServicesType>      
    <Amount>[VentaImporteDescuento]</Amount>    
  </TotalAllowanceCharge>    
  <baseAmount>                                                    
    <Amount>[VentaSubTotal]</Amount>    
  </baseAmount>  
{/Total}          
{Impuestos}              
  <tax type="[VentaImpuesto1Clave]">      
    <taxPercentage>[Porcentaje]</taxPercentage>      
    <taxAmount>[Importe]</taxAmount>      
    <taxCategory>[CategoriaImpuesto]</taxCategory>    
  </tax>  
{/Impuestos}     
{Total2}    
  <payableAmount><Amount>[VentaTotal]</Amount></payableAmount>     
  <cadenaOriginal>        
    <Cadena>_CADENAORIGINAL_</Cadena>     
  </cadenaOriginal>    
</requestForPayment>  
{/Total2}',
'', 0
GO
 
/* VTAS-CPLM1-eDocD*/
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CPLM1', 2,  'Encabezado','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Detalle')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CPLM1', 4,  'Detalle','Encabezado','CFDVentaD',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Detalle2')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CPLM1', 8,  'Detalle2','Encabezado','CFDVentaD',1,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Total')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CPLM1', 10,  'Total','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Impuestos')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CPLM1', 12,  'Impuestos','','CFDVentaMovImpuesto',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Total2')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CPLM1', 14,  'Total2','','CFDVenta',1,'' 
GO
 
/* VTAS-CPLM1-eDocDMapeoCampo*/
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaEstatusCancelacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[VentaEstatusCancelacion]',  'VentaEstatusCancelacion','',1,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaFechaRegistro]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[VentaFechaRegistro]',  'VentaFechaRegistro','AAAA-MM-DD',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoDocumento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[VentaTipoDocumento]',  'VentaTipoDocumento','',1,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaMovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[VentaMovID]',  'VentaMovID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaImporteLetra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[VentaImporteLetra]',  'VentaImporteLetra','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaOrdenCompra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[VentaOrdenCompra]',  'VentaOrdenCompra','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteSucGLN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[ClienteSucGLN]',  'CteEnviarAGLN','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteSucNombre]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[ClienteSucNombre]',  'CteEnviarANombre','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteSucDireccion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[ClienteSucDireccion]',  'SUBSTRING(CteEnviarACalle,1,35)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteSucCiudad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[ClienteSucCiudad]',  'CteEnviarALocalidad','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteSucCodigoPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[ClienteSucCodigoPostal]',  'CteEnviarACodigoPostal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaMoneda]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[VentaMoneda]',  'VentaMoneda','',1,1,'<VentaMoneda></VentaMoneda>', 'CFDFLEX_MONEDAS'
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoCambio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[VentaTipoCambio]',  'VentaTipoCambio','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[VentaTipoPago]',  'VentaTipoPago','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CondicionDiasVencimiento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[CondicionDiasVencimiento]',  'CondicionDiasVencimiento','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DescuentoGlobalClave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[DescuentoGlobalClave]',  'VentaDescuentoGlobalClave','',1,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaPorcentajeDescuento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[VentaPorcentajeDescuento]',  'VentaPorcentajeDescuentoGlobal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NoAprobacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[NoAprobacion]',  'CFDnoAprobacion','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaOrdenCompraFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[VentaOrdenCompraFecha]',  'VentaOrdenCompraFecha','AAAA-MM-DD',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaReciboFolio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[VentaReciboFolio]',  'VentaEntregaRecibo','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaReciboFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[VentaReciboFecha]',  'VentaEntregaReciboFecha','AAAA-MM-DD',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClaveDepartamento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[ClaveDepartamento]',  'CteDeptoClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaGLN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[EmpresaGLN]',  'EmpresaGLN','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ProveedorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[ProveedorID]',  'ClienteProveedorID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[TotalLotes]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[TotalLotes]',  '(SELECT SUM(VentaD.Cantidad) FROM VentaD WHERE VentaD.ID = CFDVenta.ID)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DescuentoPorcentaje]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[DescuentoPorcentaje]',  'VentaPorcentajeDescuentoGlobal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaNombre]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[EmpresaNombre]',  'EmpresaNombre','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FechaEntrega]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[FechaEntrega]',  'VentaEntregaEmbarqueFecha','AAAA-MM-DD',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteSucClave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[ClienteSucClave]',  'CteEnviarAClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaEntregaMercancia]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Encabezado'), '[VentaEntregaMercancia]',  'VentaEntregaEntregaMercancia','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[EAN13]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Detalle'), '[EAN13]',  'EAN13','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[SKUCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Detalle'), '[SKUCliente]',  'SKUCliente','',0,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[ArticuloDescripcion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Detalle'), '[ArticuloDescripcion]',  'VentaDDescripcion','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[UnidadClave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Detalle'), '[UnidadClave]',  'UnidadClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDCantidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Detalle'), '[VentaDCantidad]',  'VentaDCantidad','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDPrecioBruto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Detalle'), '[VentaDPrecioBruto]',  'VentaDImporteUnitario','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDPrecioNeto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Detalle'), '[VentaDPrecioNeto]',  'VentaDSubTotalUnitario','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[CodigoCopel]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Detalle'), '[CodigoCopel]',  'SKUCliente','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[TipoEmpaque]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Detalle'), '[TipoEmpaque]',  'TipoEmpaqueClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[TotalCajaRenglon]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Detalle'), '[TotalCajaRenglon]',  'VentaDCantidad','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Detalle2' AND eddmc.CampoXML = '[VentaDImporteBruto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Detalle2'), '[VentaDImporteBruto]',  'VentaDImporte','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Detalle2' AND eddmc.CampoXML = '[VentaDImporteNeto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Detalle2'), '[VentaDImporteNeto]',  'VentaDSubTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[VentaTotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Total'), '[VentaTotal]',  'VentaTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[VentaImporteDescuento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Total'), '[VentaImporteDescuento]',  'VentaDescuentoImporte','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[VentaSubTotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Total'), '[VentaSubTotal]',  'VentaSubTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[VentaImpuesto1Clave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Impuestos'), '[VentaImpuesto1Clave]',  'ImpuestoClave','',0,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[Porcentaje]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Impuestos'), '[Porcentaje]',  'Tasa','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[Importe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Impuestos'), '[Importe]',  'Importe','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[CategoriaImpuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Impuestos'), '[CategoriaImpuesto]',  'CategoriaImpuesto','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CPLM1' AND edd.Seccion = 'Total2' AND eddmc.CampoXML = '[VentaTotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'CPLM1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CPLM1' AND Seccion = 'Total2'), '[VentaTotal]',  'VentaTotal','',0,0,'', '' 
GO
 

/************************************************************************/
/*Detallista*/
/************************************************************************/
/********************************* VTAS-Detallista-eDoc *********************************/
IF NOT EXISTS(SELECT * FROM eDoc WHERE Modulo = 'VTAS' AND eDoc = 'Detallista') 
INSERT INTO eDoc (Modulo, eDoc, TipoXML, Documento, XSD, TipoCFD) SELECT 'VTAS', 'Detallista',1, 
'{Encabezado}      
<detallista:detallista xmlns:detallista="http://www.sat.gob.mx/detallista" type="SimpleInvoiceType" contentVersion="1.3.1" documentStructureVersion="AMC8.1" documentStatus="[VentaEstatusCancelacion]">        
  <detallista:requestForPaymentIdentification>                               
    <detallista:entityType>[VentaTipoDocumento]</detallista:entityType>        
  </detallista:requestForPaymentIdentification>        
  <detallista:specialInstruction code="ZZZ">          
    <detallista:text>[VentaImporteLetra]</detallista:text>        
  </detallista:specialInstruction>        
  <detallista:orderIdentification>          
    <detallista:referenceIdentification type="ON">[VentaOrdenCompra]</detallista:referenceIdentification>          
    <detallista:ReferenceDate>[VentaOrdenCompraFecha]</detallista:ReferenceDate>         
  </detallista:orderIdentification>        
  <detallista:AdditionalInformation>          
    <detallista:referenceIdentification type="ATZ">[NoAprobacion]</detallista:referenceIdentification>        
  </detallista:AdditionalInformation>        
  <detallista:DeliveryNote>            
    <detallista:referenceIdentification>[VentaReciboFolio]</detallista:referenceIdentification>            
    <detallista:ReferenceDate>[VentaReciboFecha]</detallista:ReferenceDate>        
  </detallista:DeliveryNote>        
  <detallista:buyer>          
    <detallista:gln>[ClienteGLN]</detallista:gln>          
    <detallista:contactInformation>            
      <detallista:personOrDepartmentName>             
        <detallista:text>[ClaveDepartamento]</detallista:text>            
      </detallista:personOrDepartmentName>          
    </detallista:contactInformation>        
  </detallista:buyer>        
  <detallista:seller>         
    <detallista:gln>[EmpresaGLN]</detallista:gln>         
    <detallista:alternatePartyIdentification type="SELLER_ASSIGNED_IDENTIFIER_FOR_A_PARTY">[ProveedorID]</detallista:alternatePartyIdentification>        
  </detallista:seller>        
  <detallista:shipTo>          
    <detallista:gln>[ClienteGLN]</detallista:gln>          
    <detallista:nameAndAddress>            
      <detallista:name>[ClienteNombre]</detallista:name>            
      <detallista:streetAddressOne>[ClienteDireccion]</detallista:streetAddressOne>            
      <detallista:city>[ClienteCiudad]</detallista:city>            
      <detallista:postalCode>[ClienteCodigoPostal]</detallista:postalCode>          
    </detallista:nameAndAddress>        
  </detallista:shipTo>        
  <detallista:currency currencyISOCode="[VentaMoneda]">          
    <detallista:currencyFunction>BILLING_CURRENCY</detallista:currencyFunction>          
    <detallista:rateOfChange>[VentaTipoCambio]</detallista:rateOfChange>        
  </detallista:currency>        
  <detallista:paymentTerms paymentTermsEvent="[VentaTipoPago]" PaymentTermsRelationTime="REFERENCE_AFTER">          
    <detallista:netPayment netPaymentTermsType="BASIC_NET">            
      <detallista:paymentTimePeriod>              
        <detallista:timePeriodDue timePeriod="DAYS">                
          <detallista:value>[CondicionDiasVencimiento]</detallista:value>              
        </detallista:timePeriodDue>            
      </detallista:paymentTimePeriod>          
    </detallista:netPayment>        
  </detallista:paymentTerms>        
  <detallista:allowanceCharge settlementType="OFF_INVOICE" allowanceChargeType="ALLOWANCE_GLOBAL">          
    <detallista:specialServicesType>[DescuentoGlobalClave]</detallista:specialServicesType>          
    <detallista:monetaryAmountOrPercentage>            
      <detallista:rate base="INVOICE_VALUE">              
        <detallista:percentage>[VentaPorcentajeDescuento]</detallista:percentage>            
      </detallista:rate>          
    </detallista:monetaryAmountOrPercentage>        
  </detallista:allowanceCharge>  
{/Encabezado}  
{Detalle}      
  <detallista:lineItem type="SimpleInvoiceLineItemType" number="«Consecutivo1»">        
    <detallista:tradeItemIdentification>          
      <detallista:gtin>[EAN13]</detallista:gtin>        
    </detallista:tradeItemIdentification>        
    <detallista:alternateTradeItemIdentification type="SUPPLIER_ASSIGNED">[SKUCliente]</detallista:alternateTradeItemIdentification>        
    <detallista:tradeItemDescriptionInformation language="ES">          
      <detallista:longText>[ArticuloDescripcion]</detallista:longText>        
    </detallista:tradeItemDescriptionInformation>        
    <detallista:invoicedQuantity unitOfMeasure="[UnidadClave]">[VentaDCantidad]</detallista:invoicedQuantity>        
    <detallista:grossPrice>          
      <detallista:Amount>[VentaDPrecioBruto]</detallista:Amount>        
    </detallista:grossPrice>        
    <detallista:netPrice>          
      <detallista:Amount>[VentaDPrecioNeto]</detallista:Amount>        
    </detallista:netPrice>  
{/Detalle}    
{DetalleImpuesto}        
    <detallista:tradeItemTaxInformation>          
      <detallista:taxTypeDescription>[Clave]</detallista:taxTypeDescription>          
      <detallista:tradeItemTaxAmount>            
        <detallista:taxPercentage>[Tasa]</detallista:taxPercentage>            
        <detallista:taxAmount>[Importe]</detallista:taxAmount>          
      </detallista:tradeItemTaxAmount>          
      <detallista:taxCategory>[TipoImpuesto]</detallista:taxCategory>        
    </detallista:tradeItemTaxInformation>  
{/DetalleImpuesto}      
{Detalle2}          
    <detallista:totalLineAmount>          
      <detallista:grossAmount>            
        <detallista:Amount>[VentaDImporteBruto]</detallista:Amount>          
      </detallista:grossAmount>          
      <detallista:netAmount>            
        <detallista:Amount>[VentaDImporteNeto]</detallista:Amount>          
      </detallista:netAmount>        
    </detallista:totalLineAmount>      
  </detallista:lineItem>  
{/Detalle2}        
{Total}            
  <detallista:totalAmount>    
    <detallista:Amount>[VentaTotal]</detallista:Amount>    
  </detallista:totalAmount>    
  <detallista:TotalAllowanceCharge allowanceOrChargeType="ALLOWANCE">      
    <detallista:Amount>[VentaImporteDescuento]</detallista:Amount>    
  </detallista:TotalAllowanceCharge>    
</detallista:detallista>  
{/Total}',
'Detallista', 0
GO
 
/* VTAS-Detallista-eDocD*/
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'Detallista', 2,  'Encabezado','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Detalle')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'Detallista', 4,  'Detalle','Encabezado','CFDVentaD',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'DetalleImpuesto')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'Detallista', 6,  'DetalleImpuesto','Detalle','CFDVentaDMovImpuesto',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Detalle2')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'Detallista', 8,  'Detalle2','Encabezado','CFDVentaD',1,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Total')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'Detallista', 10,  'Total','','CFDVenta',0,'' 
GO
 
/* VTAS-Detallista-eDocDMapeoCampo*/
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaEstatusCancelacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[VentaEstatusCancelacion]',  'VentaEstatusCancelacion','',1,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaFechaRegistro]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[VentaFechaRegistro]',  'VentaFechaRegistro','AAAA-MM-DD',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoDocumento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[VentaTipoDocumento]',  'VentaTipoDocumento','',1,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaMovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[VentaMovID]',  'VentaMovID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaImporteLetra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[VentaImporteLetra]',  'VentaImporteLetra','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaOrdenCompra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[VentaOrdenCompra]',  'VentaOrdenCompra','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteGLN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[ClienteGLN]',  'ClienteGLN','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteNombre]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[ClienteNombre]',  'SUBSTRING(ClienteNombre,1,35)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteDireccion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[ClienteDireccion]',  'SUBSTRING(ClienteDireccion,1,35)','',0,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteCiudad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[ClienteCiudad]',  'ClienteLocalidad','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteCodigoPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[ClienteCodigoPostal]',  'ClienteCodigoPostal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaMoneda]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[VentaMoneda]',  'VentaMoneda','',1,1,'<VentaMoneda></VentaMoneda>', 'CFDFLEX_MONEDAS'
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoCambio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[VentaTipoCambio]',  'VentaTipoCambio','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[VentaTipoPago]',  'VentaTipoPago','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CondicionDiasVencimiento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[CondicionDiasVencimiento]',  'CondicionDiasVencimiento','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DescuentoGlobalClave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[DescuentoGlobalClave]',  'VentaDescuentoGlobalClave','',1,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaPorcentajeDescuento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[VentaPorcentajeDescuento]',  'VentaPorcentajeDescuentoGlobal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NoAprobacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[NoAprobacion]',  'CFDnoAprobacion','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaOrdenCompraFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[VentaOrdenCompraFecha]',  'VentaOrdenCompraFecha','AAAA-MM-DD',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaReciboFolio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[VentaReciboFolio]',  'VentaEntregaRecibo','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaReciboFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[VentaReciboFecha]',  'VentaEntregaReciboFecha','AAAA-MM-DD',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClaveDepartamento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[ClaveDepartamento]',  'CteDeptoClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaGLN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[EmpresaGLN]',  'EmpresaGLN','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ProveedorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Encabezado'), '[ProveedorID]',  'ClienteProveedorID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[EAN13]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Detalle'), '[EAN13]',  'EAN13','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[SKUCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Detalle'), '[SKUCliente]',  'SKUCliente','',0,0,' ', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[ArticuloDescripcion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Detalle'), '[ArticuloDescripcion]',  'VentaDDescripcion','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[UnidadClave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Detalle'), '[UnidadClave]',  'UnidadClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDCantidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Detalle'), '[VentaDCantidad]',  'VentaDCantidad','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDPrecioBruto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Detalle'), '[VentaDPrecioBruto]',  'VentaDImporteUnitario','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDPrecioNeto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Detalle'), '[VentaDPrecioNeto]',  'VentaDSubTotalUnitario','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'DetalleImpuesto' AND eddmc.CampoXML = '[Clave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'DetalleImpuesto'), '[Clave]',  'VentaDImpuestoClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'DetalleImpuesto' AND eddmc.CampoXML = '[Tasa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'DetalleImpuesto'), '[Tasa]',  'VentaDImpuestoTasa','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'DetalleImpuesto' AND eddmc.CampoXML = '[Importe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'DetalleImpuesto'), '[Importe]',  'VentaDImpuestoImporte','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'DetalleImpuesto' AND eddmc.CampoXML = '[TipoImpuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'DetalleImpuesto'), '[TipoImpuesto]',  'VentaDCategoriaImpuesto','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Detalle2' AND eddmc.CampoXML = '[VentaDImporteBruto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Detalle2'), '[VentaDImporteBruto]',  'VentaDImporte','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Detalle2' AND eddmc.CampoXML = '[VentaDImporteNeto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Detalle2'), '[VentaDImporteNeto]',  'VentaDSubTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[VentaTotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Total'), '[VentaTotal]',  'VentaTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[VentaImporteDescuento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Total'), '[VentaImporteDescuento]',  'VentaDescuentoImporte','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Detallista' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[VentaSubTotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Detallista', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Detallista' AND Seccion = 'Total'), '[VentaSubTotal]',  'VentaSubTotal','',0,0,'', '' 
GO


/************************************************************************/
/*EDIFACT_D01B*/
/************************************************************************/
/********************************* VTAS-EDIFACT_D01B-eDoc *********************************/
IF NOT EXISTS(SELECT * FROM eDoc WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B') 
INSERT INTO eDoc (Modulo, eDoc, TipoXML, Documento, XSD, TipoCFD) SELECT 'VTAS', 'EDIFACT_D01B',1, '{Encabezado}<Documento>UNB+UNOA:2+[EmisorID]:ZZ+[ReceptorID]:08+[FechaEnvio]+[ReferenciaEnvio][Apostrofe]^Cuenta1^UNH+[ModuloID]+INVOIC:D:01B:UN:AMC002[Apostrofe]^Cuenta1^BGM+[NombreDocumento]+[NumeroDocumento]+[Estatus][Apostrofe]^Cuenta1^DTM+137:[FechaFactura]:102[Apostrofe]^Cuenta1^FTX+ZZZ+++[ImporteLetra]+ES[Apostrofe]^Cuenta1^RFF+ON:[OrdenCompra][Apostrofe]^Cuenta1^      DTM+171:[OrdenCompraFecha]:102[Apostrofe]^Cuenta1^RFF+BT:[Serie][Apostrofe]^Cuenta1^RFF+ATZ:[NoAprobacion][Apostrofe]^Cuenta1^RFF+DQ:[ReciboFolio][Apostrofe]^Cuenta1^                          DTM+171:[ReciboFecha]:102[Apostrofe]^Cuenta1^NAD+BY+[ClienteGLN]::9++[ClienteNombre]+[ClienteDireccion]:[ClienteColonia]+[ClienteDelegacion]+[ClienteEstado]+[ClientePostal][Apostrofe]^Cuenta1^RFF+GN:[ClienteRFC][Apostrofe]^Cuenta1^NAD+SU+[EmpresaGLN]::9++[EmpresaNombre]+[EmpresaDireccion]:[EmpresaColonia]+[EmpresaDelegacion]+[EmpresaEstado]+[EmpresaPostal][Apostrofe]^Cuenta1^RFF+GN:[EmpresaRFC][Apostrofe]^Cuenta1^RFF+IA:[ProveedorID][Apostrofe]^Cuenta1^NAD+II+[SucursalGLN]::9++[SucursalNombre]+[SucursalDireccion]:[SucursalColonia]+[SucursalDelegacion]+[SucursalEstado]+[SucursalPostal][Apostrofe]^Cuenta1^NAD+ST+[EnviarAGLN]::9++[EnviarANombre]+[EnviarADireccion]:[EnviarAColonia]+[EnviarADelegacion]+[EnviarAEstado]+[EnviarAPostal][Apostrofe]^Cuenta1^CUX+2:[MonedaClave]:4[Apostrofe]^Cuenta1^PAT+1++5:3:D:[DiasVencimiento][Apostrofe]^Cuenta1^PCD+12:[DescuentoProntoPago]:13[Apostrofe]^Cuenta1^ALC+A++++[DescuentoClave][Apostrofe]^Cuenta1^PCD+1:[DEscuentoGlobal]:13[Apostrofe]^Cuenta1^{/Encabezado}{detalle}LIN+«Consecutivo1»++[EAN13]:SRV::9[Apostrofe]^Cuenta1^PIA+1+[SKUCliente]:IN[Apostrofe]^Cuenta1^IMD+F++:::[ArtDescripcion]:[ArtDescripcion2]:ES[Apostrofe]^Cuenta1^QTY+47:[Cantidad]:[Unidad][Apostrofe]^Cuenta1^MOA+203:[ImporteLinea][Apostrofe]^Cuenta1^PRI+AAA:[Precio]::::[Unidad][Apostrofe]^Cuenta1^TAX+7+VAT+++:::[Impuesto1Linea]+B[Apostrofe]^Cuenta1^MOA+124:[Impuesto1ImporteLinea][Apostrofe]^Cuenta1^TAX+7+GST+++:::[Impuesto2Linea]+B[Apostrofe]^Cuenta1^MOA+124:[Impuesto2ImporteLinea][Apostrofe]^Cuenta1^^Cuenta2^{/detalle}{SeriesLotes}NAD+CM+[AduanaGLN]::9++[Aduana][Apostrofe]^Cuenta1^RFF+TN:[Pedimento][Apostrofe]^Cuenta1^DTM+171:[PedimentoFecha]:102[Apostrofe]^Cuenta1^{/SeriesLotes}{Detalle2}ALC+A+1++[Apostrofe]^Cuenta1^PCD+1:[PtjeDescuentoLinea][Apostrofe]^Cuenta1^MOA+204:[DescuentoLinea][Apostrofe]^Cuenta1^{/Detalle2}{Total}UNS+S[Apostrofe]^Cuenta1^CNT+2:~Cuenta2~[Apostrofe]^Cuenta1^MOA+9:[Total][Apostrofe]^Cuenta1^MOA+79:[SubTotalBruto][Apostrofe]^Cuenta1^ALC+A++++1++[DescuentoClave][Apostrofe]^Cuenta1^MOA+131:[PjeDescuentoGlobal][Apostrofe]^Cuenta1^MOA+125:[Subtotal][Apostrofe]^Cuenta1^{/Total}                                             {Impuestos}TAX+7+[ImpuestoClave]+++:::[ImpuestoPtje]+B[Apostrofe]^Cuenta1^MOA+124:[ImpuestoImporte][Apostrofe]^Cuenta1^{/Impuestos}{Fin}UNT+~Cuenta1~+[ModuloID][Apostrofe]^Cuenta1^UNZ+1+[ReferenciaEnvio][Apostrofe]^Cuenta1^</Documento>{/Fin}','', 0
GO
 
/* VTAS-EDIFACT_D01B-eDocD*/
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', 5,  'Encabezado','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'detalle')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', 10,  'detalle','Encabezado','CFDVentaD',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'SeriesLotes')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', 15,  'SeriesLotes','detalle','CFDVentaSerieLoteMov',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Total')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', 20,  'Total','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Impuestos')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', 25,  'Impuestos','Encabezado','CFDVentaMovImpuesto',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Fin')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', 30,  'Fin','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Detalle2')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', 17,  'Detalle2','Encabezado','CFDVentaD',0,'' 
GO
 
/* VTAS-EDIFACT_D01B-eDocDMapeoCampo*/
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmisorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[EmisorID]',  'ClienteEmisorID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ReceptorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[ReceptorID]',  'ClienteReceptorID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FechaEnvio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[FechaEnvio]',  'VariosAhora','AAMMDD:HHNN',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ModuloID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[ModuloID]',  'VariosModuloID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NombreDocumento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[NombreDocumento]',  'VentaClaveAfectacion','',1,0,'', 'EDIFACT_D01B_CFDVenta' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumeroDocumento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[NumeroDocumento]',  'VentaFolio','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Estatus]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[Estatus]',  'VentaEstatus','',1,0,'', 'EDIFACT_D01B_CFDVenta' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FechaFactura]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[FechaFactura]',  'VentaFechaRegistro','AAAAMMDD',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ImporteLetra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[ImporteLetra]',  'VentaImporteLetra','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[OrdenCompra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[OrdenCompra]',  'VentaOrdenCompra','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[OrdenCompraFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[OrdenCompraFecha]',  'VentaOrdenCompraFecha','AAAAMMDD',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Serie]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[Serie]',  'VentaSerie','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NoAprobacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[NoAprobacion]',  'CFDnoAprobacion','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ReciboFolio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[ReciboFolio]',  'VentaEntregaRecibo','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ReciboFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[ReciboFecha]',  'VentaEntregaReciboFecha','AAAAMMDD',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteGLN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[ClienteGLN]',  'ClienteGLN','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteNombre]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[ClienteNombre]',  'ClienteNombre','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteDireccion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[ClienteDireccion]',  'LEFT(ISNULL(ClienteCalle,'''') + '' '' + ISNULL(ClienteNumeroExterior,'''') ,35)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteColonia]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[ClienteColonia]',  'LEFT(ClienteColonia, 35)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteDelegacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[ClienteDelegacion]',  'LEFT(ClienteMunicipio,35)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteEstado]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[ClienteEstado]',  'LEFT(ClienteEstado,9)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClientePostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[ClientePostal]',  'ClienteCodigoPostal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteRFC]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[ClienteRFC]',  'ClienteRFC','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaGLN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[EmpresaGLN]',  'EmpresaGLN','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaNombre]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[EmpresaNombre]',  'EmpresaNombre','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaDireccion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[EmpresaDireccion]',  'LEFT(NULLIF(RTRIM(EmpresaCalle),'''') + '' '' + NULLIF(RTRIM(EmpresaNumeroExterior),''''),35)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaColonia]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[EmpresaColonia]',  'LEFT(EmpresaColonia,35)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaDelegacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[EmpresaDelegacion]',  'LEFT(EmpresaMunicipio,35)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaEstado]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[EmpresaEstado]',  'LEFT(EmpresaEstado,9)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[EmpresaPostal]',  'LEFT(EmpresaCodigoPostal,9)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaRFC]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[EmpresaRFC]',  'EmpresaRFC','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ProveedorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[ProveedorID]',  'ClienteProveedorID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SucursalGLN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[SucursalGLN]',  'SucursalGLN','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SucursalNombre]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[SucursalNombre]',  'SucursalNombre','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SucursalDireccion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[SucursalDireccion]',  'LEFT(NULLIF(RTRIM(SucursalCalle),'''') + '' '' + NULLIF(RTRIM(SucursalNumeroExterior),''''),35)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SucursalColonia]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[SucursalColonia]',  'LEFT(SucursalColonia,35)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SucursalDelegacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[SucursalDelegacion]',  'LEFT(SucursalMunicipio,35)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SucursalEstado]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[SucursalEstado]',  'LEFT(SucursalEstado,9)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SucursalPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[SucursalPostal]',  'SucursalCodigoPostal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EnviarAGLN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[EnviarAGLN]',  'CteEnviarAGLN','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EnviarANombre]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[EnviarANombre]',  'CteEnviarANombre','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EnviarADireccion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[EnviarADireccion]',  'LEFT(NULLIF(RTRIM(CteEnviarACalle),'''') + '' '' + NULLIF(RTRIM(CteEnviarANumeroExterior),''''),35)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EnviarADelegacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[EnviarADelegacion]',  'CteEnviarAMunicipio','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EnviarAEstado]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[EnviarAEstado]',  'LEFT(CteEnviarAEstado,9)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EnviarAPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[EnviarAPostal]',  'CteEnviarACodigoPostal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[MonedaClave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[MonedaClave]',  'VentaMoneda','',1,0,'', 'EDIFACT_D01B_CFDVenta' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DiasVencimiento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[DiasVencimiento]',  'CondicionDiasVencimiento','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DescuentoProntoPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[DescuentoProntoPago]',  'CondicionDescuentoProntoPago','',0,1,"PCD+12::13'^Cuenta1^", '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DescuentoClave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[DescuentoClave]',  'VentaDescuentoGlobalClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DEscuentoGlobal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[DEscuentoGlobal]',  'VentaPorcentajeDescuentoGlobal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EnviarAColonia]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[EnviarAColonia]',  'LEFT(CteEnviarAColonia,35)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Apostrofe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[Apostrofe]',  'CHAR(39)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ReferenciaEnvio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Encabezado'), '[ReferenciaEnvio]',  'VariosAhora','AAMMDDHHNNSSLL',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[EAN13]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'detalle'), '[EAN13]',  'EAN13','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[SKUCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'detalle'), '[SKUCliente]',  'SKUCliente','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[ArtDescripcion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'detalle'), '[ArtDescripcion]',  'VentaDDescripcion','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[ArtDescripcion2]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'detalle'), '[ArtDescripcion2]',  'VentaDDescripcion2','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[Cantidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'detalle'), '[Cantidad]',  'VentaDCantidad','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[Unidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'detalle'), '[Unidad]',  'UnidadClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[ImporteLinea]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'detalle'), '[ImporteLinea]',  'VentaDImporte','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[Precio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'detalle'), '[Precio]',  'VentaDImporteUnitario','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[Impuesto1Linea]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'detalle'), '[Impuesto1Linea]',  'ventaDImpuesto1','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[Impuesto1ImporteLinea]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'detalle'), '[Impuesto1ImporteLinea]',  'VentaDImpuesto1Total','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[Impuesto2Linea]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'detalle'), '[Impuesto2Linea]',  'ventaDImpuesto2','',0,1,"TAX+7+GST+++:::+B'^Cuenta1^", '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[Impuesto2ImporteLinea]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'detalle'), '[Impuesto2ImporteLinea]',  'VentaDImpuesto2Total','',0,1,"MOA+124:0.00'^Cuenta1^", '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[Apostrofe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'detalle'), '[Apostrofe]',  'CHAR(39)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'SeriesLotes' AND eddmc.CampoXML = '[AduanaGLN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'SeriesLotes'), '[AduanaGLN]',  'AduanaGLN','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'SeriesLotes' AND eddmc.CampoXML = '[Aduana]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'SeriesLotes'), '[Aduana]',  'Aduana','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'SeriesLotes' AND eddmc.CampoXML = '[Pedimento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'SeriesLotes'), '[Pedimento]',  'Propiedades','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'SeriesLotes' AND eddmc.CampoXML = '[PedimentoFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'SeriesLotes'), '[PedimentoFecha]',  'Fecha1','AAAAMMDD',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'SeriesLotes' AND eddmc.CampoXML = '[Apostrofe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'SeriesLotes'), '[Apostrofe]',  'CHAR(39)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[Total]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Total'), '[Total]',  'VentaTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[SubTotalBruto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Total'), '[SubTotalBruto]',  'ROUND(VentaSubTotal-VentaImporteDescuentoGlobal, 2)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[PjeDescuentoGlobal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Total'), '[PjeDescuentoGlobal]',  'VentaPorcentajeDescuentoGlobal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[DescuentoClave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Total'), '[DescuentoClave]',  'VentaDescuentoGlobalClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[Subtotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Total'), '[Subtotal]',  'VentaSubTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[Apostrofe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Total'), '[Apostrofe]',  'CHAR(39)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[ImpuestoClave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Impuestos'), '[ImpuestoClave]',  'ImpuestoClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[ImpuestoPtje]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Impuestos'), '[ImpuestoPtje]',  'Tasa','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[ImpuestoImporte]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Impuestos'), '[ImpuestoImporte]',  'Importe','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[Apostrofe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Impuestos'), '[Apostrofe]',  'CHAR(39)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Fin' AND eddmc.CampoXML = '[ModuloID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Fin'), '[ModuloID]',  'VariosModuloID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Fin' AND eddmc.CampoXML = '[ReferenciaEnvio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Fin'), '[ReferenciaEnvio]',  'VariosAhora','AAMMDDHHNNSSLL',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Fin' AND eddmc.CampoXML = '[Apostrofe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Fin'), '[Apostrofe]',  'CHAR(39)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Detalle2' AND eddmc.CampoXML = '[Apostrofe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Detalle2'), '[Apostrofe]',  'CHAR(39)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Detalle2' AND eddmc.CampoXML = '[PtjeDescuentoLinea]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Detalle2'), '[PtjeDescuentoLinea]',  'VentaDDescuentoLinea','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_D01B' AND edd.Seccion = 'Detalle2' AND eddmc.CampoXML = '[DescuentoLinea]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'EDIFACT_D01B', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_D01B' AND Seccion = 'Detalle2'), '[DescuentoLinea]',  'VentaDDescLineal','',0,0,'', '' 
GO
 

/************************************************************************/
/*FEMSA*/
/************************************************************************/
/********************************* VTAS-FEMSA-eDoc *********************************/
IF NOT EXISTS(SELECT * FROM eDoc WHERE Modulo = 'VTAS' AND eDoc = 'FEMSA') 
INSERT INTO eDoc (Modulo, eDoc, TipoXML, Documento, XSD, TipoCFD) SELECT 'VTAS', 'FEMSA',1, 
'{Encabezado}
<Documento>
  <FacturaFemsa>
    <noVersAdd>1</noVersAdd>
    <claseDoc>[MovTipo]</claseDoc>
    <noSociedad>[ReceptorID]</noSociedad>  
    <noProveedor>[ProveedorID]</noProveedor>
    <noPedido>[OrdenCompra]</noPedido>
    <moneda>[Moneda]</moneda>
    <noEntrada>[FolioRecibo]</noEntrada>
    <noRemision>[FolioEmbarque]</noRemision>
    <noSocio>[ClaveDepartamento]</noSocio>
    <centroCostos></centroCostos>
    <iniPerLiq></iniPerLiq>  
    <finPerLiq></finPerLiq>
    {/Encabezado}
    {Retenciones}
    <retencion1>[Retencion1]</retencion1>
    <retencion2>[Retencion2]</retencion2>
    <retencion3>[Retencion3]</retencion3>
     {/Retenciones}
     {Encabezado1}
    <email>[emailCobrador]</email>
  </FacturaFemsa>
</Documento>
{/Encabezado1}',
'', 0
GO
 
/* VTAS-FEMSA-eDocD*/
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'FEMSA' AND Seccion = 'Encabezado')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'FEMSA', 10,  'Encabezado','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'FEMSA' AND Seccion = 'Retenciones')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'FEMSA', 20,  'Retenciones','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'FEMSA' AND Seccion = 'Encabezado1')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'FEMSA', 30,  'Encabezado1','','CFDVenta',0,'' 
GO
 
/* VTAS-FEMSA-eDocDMapeoCampo*/
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'FEMSA' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[MovTipo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'FEMSA', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'FEMSA' AND Seccion = 'Encabezado'), '[MovTipo]',  'VentaClaveAfectacion','',1,0,'', 'FEMSA' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'FEMSA' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ReceptorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'FEMSA', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'FEMSA' AND Seccion = 'Encabezado'), '[ReceptorID]',  'ClienteReceptorID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'FEMSA' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ProveedorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'FEMSA', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'FEMSA' AND Seccion = 'Encabezado'), '[ProveedorID]',  'ClienteProveedorID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'FEMSA' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[OrdenCompra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'FEMSA', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'FEMSA' AND Seccion = 'Encabezado'), '[OrdenCompra]',  'VentaOrdenCompra','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'FEMSA' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Moneda]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'FEMSA', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'FEMSA' AND Seccion = 'Encabezado'), '[Moneda]',  'VentaMoneda','',1,0,'', 'FEMSA' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'FEMSA' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FolioRecibo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'FEMSA', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'FEMSA' AND Seccion = 'Encabezado'), '[FolioRecibo]',  'VentaEntregaRecibo','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'FEMSA' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FolioEmbarque]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'FEMSA', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'FEMSA' AND Seccion = 'Encabezado'), '[FolioEmbarque]',  'VentaEntregaEmbarque','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'FEMSA' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClaveDepartamento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'FEMSA', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'FEMSA' AND Seccion = 'Encabezado'), '[ClaveDepartamento]',  'CteDeptoClave','',0,0,'', '' 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'FEMSA' AND edd.Seccion = 'Retenciones' AND eddmc.CampoXML = '[Retencion1]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'FEMSA', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'FEMSA' AND Seccion = 'Retenciones'), '[Retencion1]',  "(SELECT Importe FROM CFDVentaMovRetencion m WHERE m.ID = CFDVenta.ID  AND Impuesto = 'ISR')",'',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'FEMSA' AND edd.Seccion = 'Retenciones' AND eddmc.CampoXML = '[Retencion2]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'FEMSA', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'FEMSA' AND Seccion = 'Retenciones'), '[Retencion2]',  "(SELECT Importe FROM CFDVentaMovRetencion m WHERE m.ID = CFDVenta.ID  AND Impuesto = 'IVA')",'',0,0,'', '' 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'FEMSA' AND edd.Seccion = 'Encabezado1' AND eddmc.CampoXML = '[emailCobrador]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'FEMSA', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'FEMSA' AND Seccion = 'Encabezado1'), '[emailCobrador]',  '(SELECT email FROM Personal WHERE Personal = CFDVenta.ClientePersonalCobrador )','',0,0,'', '' 
GO
 

/************************************************************************/
/*HOMEDEPOT*/
/************************************************************************/
/********************************* VTAS-HOMEDEPOT-eDoc *********************************/
IF NOT EXISTS(SELECT * FROM eDoc WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT') 
INSERT INTO eDoc (Modulo, eDoc, TipoXML, Documento, XSD, TipoCFD) SELECT 'VTAS', 'HOMEDEPOT',1, 
'{Encabezado} 
<Encabezado oc="[OrdenCompra]" folio="[Folio]" serie="[Serie]" fecha="[Fecha]" proveedor="[ProveedorID]" subtotal="[Subtotal]" iva="[IVAMonto]" total="[Total]" divisa="[Moneda]" tipoCambio="[TipoCambio]" descuento1="[DescuentoGlobal]">
{/Encabezado}
{Detalle}
  <Detalle SKU="[Articulo]" cantidad="[Cantidad]" descripcion="[Descripcion]" valor="[ValorUnitario]" unidad="[Unidad]" IVA="[IVA]" vendorPack="[FactorUnidad]" />
{/Detalle}
{Fin}
</Encabezado> 
{/Fin}',
'', 0
GO
 
/* VTAS-HOMEDEPOT-eDocD*/
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT' AND Seccion = 'Encabezado')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'HOMEDEPOT', 10,  'Encabezado','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT' AND Seccion = 'Detalle')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'HOMEDEPOT', 20,  'Detalle','Encabezado','CFDVentaD',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT' AND Seccion = 'Fin')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'HOMEDEPOT', 30,  'Fin','','CFDVenta',0,'' 
GO
 
/* VTAS-HOMEDEPOT-eDocDMapeoCampo*/
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HOMEDEPOT' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[OrdenCompra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HOMEDEPOT', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT' AND Seccion = 'Encabezado'), '[OrdenCompra]',  'VentaOrdenCompra','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HOMEDEPOT' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Folio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HOMEDEPOT', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT' AND Seccion = 'Encabezado'), '[Folio]',  'VentaFolio','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HOMEDEPOT' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Serie]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HOMEDEPOT', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT' AND Seccion = 'Encabezado'), '[Serie]',  'VentaSerie','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HOMEDEPOT' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Fecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HOMEDEPOT', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT' AND Seccion = 'Encabezado'), '[Fecha]',  'VentaMovID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HOMEDEPOT' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ProveedorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HOMEDEPOT', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT' AND Seccion = 'Encabezado'), '[ProveedorID]',  'ClienteProveedorID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HOMEDEPOT' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Subtotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HOMEDEPOT', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT' AND Seccion = 'Encabezado'), '[Subtotal]',  'VentaSubTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HOMEDEPOT' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[IVAMonto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HOMEDEPOT', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT' AND Seccion = 'Encabezado'), '[IVAMonto]',  'VentaImpuesto1Total','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HOMEDEPOT' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Total]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HOMEDEPOT', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT' AND Seccion = 'Encabezado'), '[Total]',  'VentaTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HOMEDEPOT' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DescuentoGlobal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HOMEDEPOT', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT' AND Seccion = 'Encabezado'), '[DescuentoGlobal]',  'VentaImporteDescuentoGlobal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HOMEDEPOT' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Moneda]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HOMEDEPOT', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT' AND Seccion = 'Encabezado'), '[Moneda]',  'VentaMoneda','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HOMEDEPOT' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[TipoCambio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HOMEDEPOT', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT' AND Seccion = 'Encabezado'), '[TipoCambio]',  'VentaTipoCambio','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HOMEDEPOT' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Articulo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HOMEDEPOT', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT' AND Seccion = 'Detalle'), '[Articulo]',  'VentaDArticulo','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HOMEDEPOT' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Cantidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HOMEDEPOT', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT' AND Seccion = 'Detalle'), '[Cantidad]',  'VentaDCantidad','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HOMEDEPOT' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Descripcion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HOMEDEPOT', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT' AND Seccion = 'Detalle'), '[Descripcion]',  'VentaDDescripcion','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HOMEDEPOT' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[ValorUnitario]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HOMEDEPOT', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT' AND Seccion = 'Detalle'), '[ValorUnitario]',  'VentaDPrecio','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HOMEDEPOT' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Unidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HOMEDEPOT', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT' AND Seccion = 'Detalle'), '[Unidad]',  'UnidadClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HOMEDEPOT' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[IVA]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HOMEDEPOT', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT' AND Seccion = 'Detalle'), '[IVA]',  'VentaDImpuesto1Total','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HOMEDEPOT' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[FactorUnidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HOMEDEPOT', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HOMEDEPOT' AND Seccion = 'Detalle'), '[FactorUnidad]',  'VentaDCantidad','',0,0,'', '' 
GO
 

 
/************************************************************************/
/*SorianaConsolidado*/
/************************************************************************/
/********************************* VTAS-SorianaConsolidado-eDoc *********************************/
IF NOT EXISTS(SELECT * FROM eDoc WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado') 
INSERT INTO eDoc (Modulo, eDoc, TipoXML, Documento, XSD, TipoCFD) SELECT 'VTAS', 'SorianaConsolidado',1, 
'{Encabezado}
<DSCargaRemisionProv>  
  <Remision  RowOrder="Remision1" id="1">  
    <Proveedor>[ProveedorID]</Proveedor>  
    <Remision>[MovID]</Remision>  
    <Consecutivo>0</Consecutivo>                                     
    <FechaRemision>[FechaFactura]</FechaRemision>  
    <Tienda>[SucursalCliente]</Tienda>  
    <TipoMoneda>[Moneda]</TipoMoneda>  
    <TipoBulto>[TipoBulto]</TipoBulto>  
    <EntregaMercancia>[EntregaMercancia]</EntregaMercancia>  
    <CumpleReqFiscales>true</CumpleReqFiscales>  
    <CantidadBultos>~Cuenta2~</CantidadBultos>  
    <Subtotal>[SubtoTotal]</Subtotal>  
    <IEPS>[IEPS]</IEPS>  
    <IVA>[IVA]</IVA>  
    <OtrosImpuestos>[OtrosImpuestos]</OtrosImpuestos>  
    <Total>[Total]</Total>  
    <CantidadPedidos>~Cuenta3~</CantidadPedidos>  
    <FechaEntregaMercancia>[FechaEntregaMercancia]</FechaEntregaMercancia>  
  </Remision>
{/Encabezado}
{Pedidos}^Cuenta3^  
  <Pedidos>  
    <Proveedor>[ProveedorID]</Proveedor>  
    <Remision>[MovID]</Remision>  
    <FolioPedido>[OrdenCompra]</FolioPedido>  
    <Tienda>[SucursalCliente]</Tienda>  
    <CantidadArticulos>[CantidadArticulos]</CantidadArticulos>  
  </Pedidos>
{/Pedidos}
{Articulos}  
  <Articulos>  
    <Proveedor>[ProveedorID]</Proveedor>  
    <Remision>[MovID]</Remision>  
    <FolioPedido>[OrdenCompra]</FolioPedido>  
    <Tienda>[SucursalCliente]</Tienda>  
    <Codigo>[CodigoBarras]</Codigo>  
    <CantidadUnidadCompra>[Cantidad]</CantidadUnidadCompra>  
    <CostoNetoUnidadCompra>[CostoUnitario]</CostoNetoUnidadCompra>  
    <PorcentajeIEPS>[PtjeIEPS]</PorcentajeIEPS>  
    <PorcentajeIVA>[PtjeIVA]</PorcentajeIVA>  
  </Articulos>
{/Articulos}
{CajasTarimas}^Cuenta2^  
  <CajasTarimas>  
    <Proveedor>[ProveedorID]</Proveedor>  
    <Remision>[MovID]</Remision>  
    <NumeroCajaTarima>[CajaNumero]</NumeroCajaTarima>  
    <CodigoBarraCajaTarima>[CajaCodigoBarra]</CodigoBarraCajaTarima>  
    <SucursalDistribuir>[ClienteEnviarD]</SucursalDistribuir>  
    <CantidadArticulos>[CantidadArticulos]</CantidadArticulos>  
  </CajasTarimas>
{/CajasTarimas}
{ArticulosPorCajaTarima}  
  <ArticulosPorCajaTarima>  
    <Proveedor>[ProveedorID]</Proveedor>  
    <Remision>[MovID]</Remision>  
    <FolioPedido>[OrdenCompra]</FolioPedido>  
    <NumeroCajaTarima>[CajaNumero]</NumeroCajaTarima>  
    <SucursalDistribuir>[ClienteEnviarAD]</SucursalDistribuir>  
    <Codigo>[CodigoBarras]</Codigo>  
    <CantidadUnidadCompra>[Factor]</CantidadUnidadCompra>  
  </ArticulosPorCajaTarima>
{/ArticulosPorCajaTarima}
{Final}
</DSCargaRemisionProv>
{/Final}',
'', 0
GO
 
/* VTAS-SorianaConsolidado-eDocD*/
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Encabezado')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', 10,  'Encabezado','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Pedidos')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', 20,  'Pedidos','','CFDSorianaPedidos',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Articulos')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', 30,  'Articulos','','CFDSorianaArticulos',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'CajasTarimas')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', 40,  'CajasTarimas','','CFDSorianaCajaTarima',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'ArticulosPorCajaTarima')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', 50,  'ArticulosPorCajaTarima','','CFDSorianaArtCajaTarima',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Final')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', 60,  'Final','','CFDVenta',0,'' 
GO
 
/* VTAS-SorianaConsolidado-eDocDMapeoCampo*/
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ProveedorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Encabezado'), '[ProveedorID]',  'ClienteProveedorID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[MovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Encabezado'), '[MovID]',  'VentaMovID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FechaFactura]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Encabezado'), '[FechaFactura]',  'VentaFechaRegistro','AAAA-MM-DD',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SucursalCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Encabezado'), '[SucursalCliente]',  'CteEnviarAClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Moneda]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Encabezado'), '[Moneda]',  'VentaMoneda','',1,0,'', 'Soriana' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[TipoBulto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Encabezado'), '[TipoBulto]',  '''1''','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EntregaMercancia]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Encabezado'), '[EntregaMercancia]',  '''5''','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SubtoTotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Encabezado'), '[SubtoTotal]',  'VentaSubTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Descuentos]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Encabezado'), '[Descuentos]',  'VentaDescuentoImporte','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[IEPS]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Encabezado'), '[IEPS]',  'VentaImpuesto2Total','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[IVA]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Encabezado'), '[IVA]',  'VentaImpuesto2Total','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[OtrosImpuestos]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Encabezado'), '[OtrosImpuestos]',  '''0''','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Total]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Encabezado'), '[Total]',  'VentaTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FechaEntregaMercancia]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Encabezado'), '[FechaEntregaMercancia]',  'VentaEntregaEmbarqueFecha','AAAA-MM-DD',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Pedidos' AND eddmc.CampoXML = '[ProveedorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Pedidos'), '[ProveedorID]',  'PedidosProveedor','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Pedidos' AND eddmc.CampoXML = '[MovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Pedidos'), '[MovID]',  'PedidosRemision','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Pedidos' AND eddmc.CampoXML = '[OrdenCompra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Pedidos'), '[OrdenCompra]',  'PedidosFolio','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Pedidos' AND eddmc.CampoXML = '[SucursalCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Pedidos'), '[SucursalCliente]',  'PedidosTienda','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Pedidos' AND eddmc.CampoXML = '[CantidadArticulos]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Pedidos'), '[CantidadArticulos]',  'PedidosCantidadArticulos','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Articulos' AND eddmc.CampoXML = '[ProveedorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Articulos'), '[ProveedorID]',  'SorianaProveedor','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Articulos' AND eddmc.CampoXML = '[MovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Articulos'), '[MovID]',  'SorianaRemision','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Articulos' AND eddmc.CampoXML = '[OrdenCompra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Articulos'), '[OrdenCompra]',  'SorianaFolioPedido','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Articulos' AND eddmc.CampoXML = '[SucursalCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Articulos'), '[SucursalCliente]',  'SorianaTienda','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Articulos' AND eddmc.CampoXML = '[CodigoBarras]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Articulos'), '[CodigoBarras]',  'SorianaCodigo','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Articulos' AND eddmc.CampoXML = '[Cantidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Articulos'), '[Cantidad]',  'SorianaCantidadUnidadCompra','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Articulos' AND eddmc.CampoXML = '[CostoUnitario]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Articulos'), '[CostoUnitario]',  'SorianaCostoNetoUnidadCompra','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Articulos' AND eddmc.CampoXML = '[PtjeIEPS]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Articulos'), '[PtjeIEPS]',  'SorianaPorcentajeIEPS','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'Articulos' AND eddmc.CampoXML = '[PtjeIVA]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'Articulos'), '[PtjeIVA]',  'SorianaPorcentajeIVA','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'CajasTarimas' AND eddmc.CampoXML = '[ProveedorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'CajasTarimas'), '[ProveedorID]',  'SorianaProveedor','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'CajasTarimas' AND eddmc.CampoXML = '[MovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'CajasTarimas'), '[MovID]',  'SorianaRemision','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'CajasTarimas' AND eddmc.CampoXML = '[CajaNumero]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'CajasTarimas'), '[CajaNumero]',  'SorianaNoCajaTarima','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'CajasTarimas' AND eddmc.CampoXML = '[CajaCodigoBarra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'CajasTarimas'), '[CajaCodigoBarra]',  'SorianaCodigoCaja','',0,1,'<CodigoBarraCajaTarima></CodigoBarraCajaTarima>', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'CajasTarimas' AND eddmc.CampoXML = '[ClienteEnviarD]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'CajasTarimas'), '[ClienteEnviarD]',  'SorianaSucursalDistribuir','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'CajasTarimas' AND eddmc.CampoXML = '[CantidadArticulos]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'CajasTarimas'), '[CantidadArticulos]',  'SorianaCantidadArticulos','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'ArticulosPorCajaTarima' AND eddmc.CampoXML = '[ProveedorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'ArticulosPorCajaTarima'), '[ProveedorID]',  'SorianaProveedor','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'ArticulosPorCajaTarima' AND eddmc.CampoXML = '[MovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'ArticulosPorCajaTarima'), '[MovID]',  'SorianaRemision','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'ArticulosPorCajaTarima' AND eddmc.CampoXML = '[OrdenCompra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'ArticulosPorCajaTarima'), '[OrdenCompra]',  'SorianaFolioPedido','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'ArticulosPorCajaTarima' AND eddmc.CampoXML = '[CajaNumero]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'ArticulosPorCajaTarima'), '[CajaNumero]',  'SorianaNoCaja','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'ArticulosPorCajaTarima' AND eddmc.CampoXML = '[ClienteEnviarAD]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'ArticulosPorCajaTarima'), '[ClienteEnviarAD]',  'SorianaSucursalDistribuir','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'ArticulosPorCajaTarima' AND eddmc.CampoXML = '[CodigoBarras]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'ArticulosPorCajaTarima'), '[CodigoBarras]',  'SorianaCodigo','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'SorianaConsolidado' AND edd.Seccion = 'ArticulosPorCajaTarima' AND eddmc.CampoXML = '[Factor]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'SorianaConsolidado', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'SorianaConsolidado' AND Seccion = 'ArticulosPorCajaTarima'), '[Factor]',  'SorianaCantidadUnidadCompra','',0,0,'', '' 
GO

/********************************* VTAS-Elektra-eDoc *********************************/
IF NOT EXISTS(SELECT * FROM eDoc WHERE Modulo = 'VTAS' AND eDoc = 'Elektra') 
INSERT INTO eDoc (Modulo, eDoc, TipoXML, Documento, XSD, TipoCFD) SELECT 'VTAS', 'Elektra',1, 
'{Encabezado}
<if:FacturaInterfactura TipoDocumento="[TipoDocumento]" xmlns:if="http://www.interfactura.com/schemas/documentos"> 
  <if:Emisor RI="[EmisorID]" NumProveedor="[NumeroProveedor]"/> 
  <if:Receptor RI="[ReceptorID]"/> 
  <if:Encabezado Fecha="[Fecha]" NumProveedor="[NumeroProveedor]" IVAPCT="[Impuesto1Porcentaje]" Iva="Impuesto1Importe" SubTotal="[Subtotal]" Total="[Total]" TotalDescuento="[DescuentoTotal]" MonedaDoc="[Moneda]" FolioOrdenCompra="[OrdenCompra]" PorcentajeDescuento="[Descuentoporcentaje]">
{/Encabezado}  
{Detalle} 
    <if:Cuerpo Renglon="«Consecutivo1»" Codigo="[CodigoArticulo]" Cantidad="[Cantidad]" Concepto="[Concepto]" PUnitario="[PrecioUnitario]" Importe="[Importe]"/>
{/Detalle}
{Fin} 
  </if:Encabezado> 
</if:FacturaInterfactura>
{/Fin}',
'', 0
GO
 
/* VTAS-Elektra-eDocD*/
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Elektra' AND Seccion = 'Encabezado')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'Elektra', 10,  'Encabezado','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Elektra' AND Seccion = 'Detalle')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'Elektra', 20,  'Detalle','','CFDVentaD',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Elektra' AND Seccion = 'Fin')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'Elektra', 30,  'Fin','','CFDVenta',0,'' 
GO
 
/* VTAS-Elektra-eDocDMapeoCampo*/
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Elektra' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[TipoDocumento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Elektra', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Elektra' AND Seccion = 'Encabezado'), '[TipoDocumento]',  'VentaTipoDocumento','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Elektra' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmisorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Elektra', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Elektra' AND Seccion = 'Encabezado'), '[EmisorID]',  'ClienteEmisorID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Elektra' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumeroProveedor]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Elektra', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Elektra' AND Seccion = 'Encabezado'), '[NumeroProveedor]',  'ClienteProveedorID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Elektra' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ReceptorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Elektra', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Elektra' AND Seccion = 'Encabezado'), '[ReceptorID]',  'ClienteReceptorID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Elektra' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Fecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Elektra', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Elektra' AND Seccion = 'Encabezado'), '[Fecha]',  'VentaFechaRegistro','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Elektra' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Impuesto1Porcentaje]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Elektra', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Elektra' AND Seccion = 'Encabezado'), '[Impuesto1Porcentaje]',  "(SELECT Tasa FROM CFDVentaMovImpuesto c WHERE c.ID = CFDVenta.ID  AND Impuesto = 'IVA')",'',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Elektra' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Subtotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Elektra', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Elektra' AND Seccion = 'Encabezado'), '[Subtotal]',  'VentaSubTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Elektra' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Total]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Elektra', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Elektra' AND Seccion = 'Encabezado'), '[Total]',  'VentaTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Elektra' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DescuentoTotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Elektra', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Elektra' AND Seccion = 'Encabezado'), '[DescuentoTotal]',  'VentaImporteDescuentoGlobal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Elektra' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Moneda]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Elektra', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Elektra' AND Seccion = 'Encabezado'), '[Moneda]',  'VentaMoneda','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Elektra' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[OrdenCompra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Elektra', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Elektra' AND Seccion = 'Encabezado'), '[OrdenCompra]',  'VentaOrdenCompra','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Elektra' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Descuentoporcentaje]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Elektra', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Elektra' AND Seccion = 'Encabezado'), '[Descuentoporcentaje]',  'VentaPorcentajeDescuentoGlobal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Elektra' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[CodigoArticulo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Elektra', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Elektra' AND Seccion = 'Detalle'), '[CodigoArticulo]',  'VentaDArticulo','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Elektra' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Cantidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Elektra', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Elektra' AND Seccion = 'Detalle'), '[Cantidad]',  'VentaDCantidad','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Elektra' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Concepto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Elektra', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Elektra' AND Seccion = 'Detalle'), '[Concepto]',  'VentaDDescripcion','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Elektra' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[PrecioUnitario]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Elektra', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Elektra' AND Seccion = 'Detalle'), '[PrecioUnitario]',  'VentaDPrecio','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'Elektra' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Importe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'Elektra', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'Elektra' AND Seccion = 'Detalle'), '[Importe]',  'VentaDImporte','',0,0,'', '' 
GO

/********************************* VTAS-HEB-eDoc *********************************/
IF NOT EXISTS(SELECT * FROM eDoc WHERE Modulo = 'VTAS' AND eDoc = 'HEB') 
INSERT INTO eDoc (Modulo, eDoc, TipoXML, Documento, XSD, TipoCFD) SELECT 'VTAS', 'HEB',1, 
'{Encabezado}
<if:FacturaInterfactura TipoDocumento="[TipoDocumento]" xmlns:if="http://www.interfactura.com/schemas/documentos"> 
  <if:Emisor RI="[EmisorID]" NumProveedor="[NumeroProveedor]" /> 
  <if:Receptor RI="[ReceptorID]" /> 
  <if:Encabezado Folio="[Folio]" MonedaDoc="[Moneda]" MonedaDesc="[Moneda]" FolioAvisoPrefactura="[FolioOrdenCompra]" Fecha="[Fecha]" CondicionesPago="[VentaCondicion]" SubTotal="[Subtotal]" Iva="[IVaImporte]" Total="[Total]" IVAPCT="[IVAPct]" NumProveedor="[NumeroProveedor]" NumSucursal="[NumeroSucursal]" FechaPago="[FechaPago]" DomicilioSucursalCliente="[DomicilioClienteEnviarA]" ColoniaSucursalCliente="[ColoniaSucursalCliente]" MunicipioSucursalCliente="[MunicipioSucursalCliente]" CPSucursalCliente="[CPSucursalCliente]" Moneda="[Moneda]" DepartamentoCliente="[DepartamentoCliente]" NoAprobacion="[noAprobacion]">
{/Encabezado}  
{Detalle} 
    <if:Cuerpo U_x0020_de_x0020_M="[UnidadClave]" SubTotal="[SubTotalD]" SKU="[SKU]" PUnitario="[PUnitario]" FactorEmpaque="[FactorEmpaque]" EAN13="[EAN13]" Concepto="[Descripcion]" Codigo="[Codigo]" Cantidad="[Cantidad]" TotalDescuentos="[TotalDescuento]" CUnitarioLista="[CostoUnitario]" />   
{/Detalle}
{Fin} 
  </if:Encabezado> 
</if:FacturaInterfactura>
{/Fin}',
'', 0
GO
 
/* VTAS-HEB-eDocD*/
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'HEB', 10,  'Encabezado','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Detalle')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'HEB', 20,  'Detalle','','CFDVentaD',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Fin')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'HEB', 30,  'Fin','','CFDVenta',0,'' 
GO
 
/* VTAS-HEB-eDocDMapeoCampo*/
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[TipoDocumento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado'), '[TipoDocumento]',  'VentaTipoDocumento','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmisorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado'), '[EmisorID]',  'ClienteEmisorID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumeroProveedor]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado'), '[NumeroProveedor]',  'ClienteProveedorID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ReceptorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado'), '[ReceptorID]',  'ClienteReceptorID','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Folio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado'), '[Folio]',  'VentaFolio','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Moneda]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado'), '[Moneda]',  'VentaMoneda','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FolioOrdenCompra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado'), '[FolioOrdenCompra]',  'VentaOrdenCompra','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Fecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado'), '[Fecha]',  'VentaFechaRegistro','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaCondicion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado'), '[VentaCondicion]',  'VentaCondicion','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Subtotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado'), '[Subtotal]',  'VentaSubTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[IVaImporte]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado'), '[IVaImporte]',  'VentaImpuesto1Total','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Total]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado'), '[Total]',  'VentaTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[IVAPct]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado'), '[IVAPct]',  "(SELECT Tasa FROM CFDVentaMovImpuesto m WHERE m.ID = CFDVenta.ID  AND Impuesto = 'IVA')",'',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumeroSucursal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado'), '[NumeroSucursal]',  'CteEnviarAClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FechaPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado'), '[FechaPago]',  'VentaFechaRegistro','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DomicilioClienteEnviarA]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado'), '[DomicilioClienteEnviarA]',  'LEFT(ISNULL(CteEnviarACalle,'')+ISNULL(CteEnviarANumeroExterior,'')+ISNULL(CteEnviarANumeroInterior,''),50)','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ColoniaSucursalCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado'), '[ColoniaSucursalCliente]',  'CteEnviarAColonia','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[MunicipioSucursalCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado'), '[MunicipioSucursalCliente]',  'CteEnviarAMunicipio','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CPSucursalCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado'), '[CPSucursalCliente]',  'CteEnviarACodigoPostal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DepartamentoCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado'), '[DepartamentoCliente]',  'CteDeptoClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[noAprobacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Encabezado'), '[noAprobacion]',  'CFDnoAprobacion','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[UnidadClave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Detalle'), '[UnidadClave]',  'UnidadClave','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[SubTotalD]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Detalle'), '[SubTotalD]',  'VentaDSubTotal','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[SKU]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Detalle'), '[SKU]',  'SKUCliente','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[PUnitario]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Detalle'), '[PUnitario]',  'VentaDPrecio','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[FactorEmpaque]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Detalle'), '[FactorEmpaque]',  'VentaDCantidad','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[EAN13]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Detalle'), '[EAN13]',  'EAN13','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Descripcion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Detalle'), '[Descripcion]',  'VentaDDescripcion','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Codigo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Detalle'), '[Codigo]',  'VentaDArticulo','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Cantidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Detalle'), '[Cantidad]',  'VentaDCantidad','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[TotalDescuento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Detalle'), '[TotalDescuento]',  'VentaDDescuentosTotales','',0,0,'', '' 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'HEB' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[CostoUnitario]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt) SELECT 'VTAS', 'HEB', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'HEB' AND Seccion = 'Detalle'), '[CostoUnitario]',  'VentaDPrecio','',0,0,'', '' 
GO
 


/************************************************************************/
/*EDIFACT_LEVICOM*/
/************************************************************************/
/********************************* VTAS-EDIFACT_LEVICOM-eDoc *********************************/
IF NOT EXISTS(SELECT * FROM eDoc WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM') INSERT INTO eDoc (Modulo, eDoc, TipoXML, Documento, XSD, TipoCFD, DecimalesPorOmision, TipoCFDI, TimbrarEnTransaccion, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII) SELECT 'VTAS', 'EDIFACT_LEVICOM',0, '{Encabezado}<Documento>UNB+UNOA:2+[EmisorID]:ZZ+[ReceptorID]:8+[FechaEnvio]+[ReferenciaEnvio][Apostrofe]UNH+[ModuloID]+INVOIC:D:01B:UN:AMC002[Apostrofe]^Cuenta1^BGM+[NombreDocumento]+[NumeroDocumento]+[Estatus][Apostrofe]^Cuenta1^DTM+137:[FechaFactura]:102[Apostrofe]^Cuenta1^FTX+ZZZ+++[ImporteLetra]+ES[Apostrofe]^Cuenta1^RFF+ON:[OrdenCompra][Apostrofe]^Cuenta1^DTM+171:[OrdenCompraFecha]:102[Apostrofe]^Cuenta1^RFF+BT:[Serie][Apostrofe]^Cuenta1^RFF+ATZ:[NoAprobacion][Apostrofe]^Cuenta1^NAD+BY+[ClienteGLN]::9++[ClienteNombre]+[ClienteDireccion]:[ClienteColonia]+[ClienteDelegacion]+[ClienteEstado]+[ClientePostal][Apostrofe]^Cuenta1^RFF+GN:[ClienteRFC][Apostrofe]^Cuenta1^RFF+ZZZ:01015401319335[Apostrofe]^Cuenta1^NAD+SU+[EmpresaGLN]::9++[EmpresaNombre]+[EmpresaDireccion]:[EmpresaColonia]+[EmpresaDelegacion]+[EmpresaEstado]+[EmpresaPostal][Apostrofe]^Cuenta1^RFF+GN:[EmpresaRFC][Apostrofe]^Cuenta1^RFF+IA:[ProveedorID][Apostrofe]^Cuenta1^NAD+II+[SucursalGLN]::9++[SucursalNombre]+[SucursalDireccion]:[SucursalColonia]+[SucursalDelegacion]+[SucursalEstado]+[SucursalPostal][Apostrofe]^Cuenta1^NAD+ST+[EnviarAGLN]::9++[EnviarANombre]+[EnviarADireccion]:[EnviarAColonia]+[EnviarADelegacion]+[EnviarAEstado]+[EnviarAPostal][Apostrofe]^Cuenta1^CUX+2:[MonedaClave]:4[Apostrofe]^Cuenta1^PAT+1++5:3:D:[DiasVencimiento][Apostrofe]^Cuenta1^{/Encabezado}{detalle}LIN+«Consecutivo1»++[EAN13]:SRV::9[Apostrofe]^Cuenta1^PIA+1+[SKUCliente]:IN[Apostrofe]^Cuenta1^IMD+F++:::[ArtDescripcion]:[ArtDescripcion2]:ES[Apostrofe]^Cuenta1^QTY+47:[Cantidad]:[Unidad][Apostrofe]^Cuenta1^MOA+203:[ImporteLinea][Apostrofe]^Cuenta1^PRI+AAA:[Precio]::::[Unidad][Apostrofe]^Cuenta1^TAX+7+VAT+++:::[Impuesto1Linea]+B[Apostrofe]^Cuenta1^MOA+124:[Impuesto1ImporteLinea][Apostrofe]^Cuenta1^TAX+7+GST+++:::[Impuesto2Linea]+B[Apostrofe]^Cuenta1^MOA+124:[Impuesto2ImporteLinea][Apostrofe]^Cuenta1^^Cuenta2^{/detalle}{SeriesLotes}NAD+CM+[AduanaGLN]++[Aduana][Apostrofe]^Cuenta1^RFF+TN:[Pedimento][Apostrofe]^Cuenta1^DTM+171:[PedimentoFecha]:102[Apostrofe]^Cuenta1^{/SeriesLotes}{detalle2}[Vacio]{/detalle2}{Total}UNS+S[Apostrofe]^Cuenta1^CNT+2:~Cuenta2~[Apostrofe]^Cuenta1^MOA+9:[Total][Apostrofe]^Cuenta1^MOA+79:[SubTotalBruto][Apostrofe]^Cuenta1^MOA+125:[Subtotal][Apostrofe]^Cuenta1^{/Total}{Impuestos}TAX+7+[ImpuestoClave]+++:::[ImpuestoPtje]+B[Apostrofe]^Cuenta1^MOA+124:[ImpuestoImporte][Apostrofe]^Cuenta1^{/Impuestos}{Fin}UNT+~Cuenta1~+[ModuloID][Apostrofe]^Cuenta1^UNZ+1+[ReferenciaEnvio][Apostrofe]</Documento>{/Fin}','', 0, 2, 0, 1,1,0, 1
GO
 
/* VTAS-EDIFACT_LEVICOM-eDocD*/
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'EDIFACT_LEVICOM', 5,  'Encabezado','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'detalle')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'EDIFACT_LEVICOM', 10,  'detalle','Encabezado','CFDVentaD',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'SeriesLotes')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'EDIFACT_LEVICOM', 15,  'SeriesLotes','detalle','CFDVentaSerieLoteMov',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Total')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'EDIFACT_LEVICOM', 20,  'Total','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Impuestos')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'EDIFACT_LEVICOM', 25,  'Impuestos','Encabezado','CFDVentaMovImpuesto',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Fin')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'EDIFACT_LEVICOM', 30,  'Fin','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Detalle2')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'EDIFACT_LEVICOM', 17,  'Detalle2','Encabezado','CFDVentaD',0,'' 
GO
 
/* VTAS-EDIFACT_LEVICOM-eDocDMapeoCampo*/
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmisorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[EmisorID]',  'ClienteEmisorID','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ReceptorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[ReceptorID]',  'ClienteReceptorID','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FechaEnvio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[FechaEnvio]',  'VariosAhora','AAMMDD:HHNN',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ModuloID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[ModuloID]',  'VariosModuloID','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NombreDocumento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[NombreDocumento]',  'VentaClaveAfectacion','',1,0,'', 'EDIFACT_D01B_CFDVenta', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumeroDocumento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[NumeroDocumento]',  'VentaFolio','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Estatus]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[Estatus]',  'VentaEstatus','',1,0,'', 'EDIFACT_D01B_CFDVenta', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FechaFactura]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[FechaFactura]',  'VentaFechaRegistro','AAAAMMDD',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ImporteLetra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[ImporteLetra]',  'VentaImporteLetra','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[OrdenCompra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[OrdenCompra]',  'VentaOrdenCompra','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[OrdenCompraFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[OrdenCompraFecha]',  'VentaOrdenCompraFecha','AAAAMMDD',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Serie]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[Serie]',  'VentaSerie','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NoAprobacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[NoAprobacion]',  'CFDnoAprobacion','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ReciboFolio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[ReciboFolio]',  'VentaEntregaRecibo','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ReciboFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[ReciboFecha]',  'VentaEntregaReciboFecha','AAAAMMDD',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteGLN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[ClienteGLN]',  'ClienteGLN','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteNombre]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[ClienteNombre]',  'dbo.fneDocQuitarAcentos(dbo.fnEdifactDivisor(ClienteNombre,35))','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteDireccion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[ClienteDireccion]',  'dbo.fneDocQuitarAcentos(dbo.fnEdifactDivisor(ISNULL(ClienteCalle,'''') + '' '' + ISNULL(ClienteNumeroExterior,'''') ,35))','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteColonia]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[ClienteColonia]',  'dbo.fneDocQuitarAcentos(dbo.fnEdifactDivisor(ClienteColonia, 35))','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteDelegacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[ClienteDelegacion]',  'dbo.fneDocQuitarAcentos(dbo.fnEdifactDivisor(ClienteMunicipio,35))','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteEstado]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[ClienteEstado]',  'dbo.fneDocQuitarAcentos(dbo.fnEdifactDivisor(ClienteEstado,9))','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClientePostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[ClientePostal]',  'ClienteCodigoPostal','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteRFC]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[ClienteRFC]',  'ClienteRFC','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaGLN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[EmpresaGLN]',  'EmpresaGLN','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaNombre]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[EmpresaNombre]',  'dbo.fneDocQuitarAcentos(EmpresaNombre)','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaDireccion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[EmpresaDireccion]',  'dbo.fneDocQuitarAcentos(dbo.fnEdifactDivisor(NULLIF(RTRIM(EmpresaCalle),'''') + '' '' + NULLIF(RTRIM(EmpresaNumeroExterior),''''),35))','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaColonia]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[EmpresaColonia]',  'dbo.fneDocQuitarAcentos(dbo.fnEdifactDivisor(EmpresaColonia,35))','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaDelegacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[EmpresaDelegacion]',  'dbo.fneDocQuitarAcentos(dbo.fnEdifactDivisor(EmpresaMunicipio,35))','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaEstado]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[EmpresaEstado]',  'dbo.fneDocQuitarAcentos(dbo.fnEdifactDivisor(EmpresaEstado,9))','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[EmpresaPostal]',  'dbo.fnEdifactDivisor(EmpresaCodigoPostal,9)','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaRFC]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[EmpresaRFC]',  'EmpresaRFC','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ProveedorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[ProveedorID]',  'ClienteProveedorID','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SucursalGLN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[SucursalGLN]',  'isnull(SucursalGLN,''SINGLN'')','',0,1,'SINGLN::9', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SucursalNombre]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[SucursalNombre]',  'dbo.fneDocQuitarAcentos(SucursalNombre)','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SucursalDireccion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[SucursalDireccion]',  'dbo.fneDocQuitarAcentos(dbo.fnEdifactDivisor(NULLIF(RTRIM(SucursalCalle),'''') + '' '' + NULLIF(RTRIM(SucursalNumeroExterior),''''),35))','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SucursalColonia]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[SucursalColonia]',  'dbo.fneDocQuitarAcentos(dbo.fnEdifactDivisor(SucursalColonia,35))','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SucursalDelegacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[SucursalDelegacion]',  'dbo.fneDocQuitarAcentos(dbo.fnEdifactDivisor(SucursalMunicipio,35))','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SucursalEstado]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[SucursalEstado]',  'dbo.fneDocQuitarAcentos(dbo.fnEdifactDivisor(SucursalEstado,9))','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SucursalPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[SucursalPostal]',  'SucursalCodigoPostal','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EnviarAGLN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[EnviarAGLN]',  'CteEnviarAGLN','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EnviarANombre]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[EnviarANombre]',  'dbo.fneDocQuitarAcentos(CteEnviarANombre)','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EnviarADireccion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[EnviarADireccion]',  'dbo.fneDocQuitarAcentos(dbo.fnEdifactDivisor(NULLIF(RTRIM(CteEnviarACalle),'''') + '' '' + NULLIF(RTRIM(CteEnviarANumeroExterior),''''),35))','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EnviarADelegacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[EnviarADelegacion]',  'dbo.fneDocQuitarAcentos(CteEnviarAMunicipio)','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EnviarAEstado]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[EnviarAEstado]',  'dbo.fneDocQuitarAcentos(dbo.fnEdifactDivisor(CteEnviarAEstado,9))','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EnviarAPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[EnviarAPostal]',  'CteEnviarACodigoPostal','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[MonedaClave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[MonedaClave]',  'VentaMoneda','',1,0,'', 'EDIFACT_D01B_CFDVenta', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DiasVencimiento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[DiasVencimiento]',  'CondicionDiasVencimiento','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DescuentoProntoPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[DescuentoProntoPago]',  'CondicionDescuentoProntoPago','',0,1,'PCD+12::13''^Cuenta1^', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DescuentoClave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[DescuentoClave]',  'VentaDescuentoGlobalClave','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DEscuentoGlobal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[DEscuentoGlobal]',  'VentaPorcentajeDescuentoGlobal','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EnviarAColonia]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[EnviarAColonia]',  'dbo.fneDocQuitarAcentos(dbo.fnEdifactDivisor(CteEnviarAColonia,35))','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Apostrofe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[Apostrofe]',  'CHAR(39)','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ReferenciaEnvio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Encabezado'), '[ReferenciaEnvio]',  'VentaFechaRegistro','AAMMDDHHNNSSLL',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[EAN13]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'detalle'), '[EAN13]',  'EAN13','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[SKUCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'detalle'), '[SKUCliente]',  'SKUCliente','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[ArtDescripcion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'detalle'), '[ArtDescripcion]',  'VentaDDescripcion','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[ArtDescripcion2]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'detalle'), '[ArtDescripcion2]',  'VentaDDescripcion2','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[Cantidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'detalle'), '[Cantidad]',  'VentaDCantidad','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[Unidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'detalle'), '[Unidad]',  'UnidadClave','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[ImporteLinea]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'detalle'), '[ImporteLinea]',  'VentaDImporte','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[Precio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'detalle'), '[Precio]',  'VentaDImporteUnitario','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[Impuesto1Linea]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'detalle'), '[Impuesto1Linea]',  'ventaDImpuesto1','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[Impuesto1ImporteLinea]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'detalle'), '[Impuesto1ImporteLinea]',  'VentaDImpuesto1Total','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[Impuesto2Linea]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'detalle'), '[Impuesto2Linea]',  'ventaDImpuesto2','',0,1,'TAX+7+GST+++:::+B''^Cuenta1^', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[Impuesto2ImporteLinea]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'detalle'), '[Impuesto2ImporteLinea]',  'VentaDImpuesto2Total','',0,1,'MOA+124:0.00''^Cuenta1^', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'detalle' AND eddmc.CampoXML = '[Apostrofe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'detalle'), '[Apostrofe]',  'CHAR(39)','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'SeriesLotes' AND eddmc.CampoXML = '[AduanaGLN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'SeriesLotes'), '[AduanaGLN]',  'AduanaGLN','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'SeriesLotes' AND eddmc.CampoXML = '[Aduana]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'SeriesLotes'), '[Aduana]',  'Aduana','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'SeriesLotes' AND eddmc.CampoXML = '[Pedimento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'SeriesLotes'), '[Pedimento]',  'Propiedades','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'SeriesLotes' AND eddmc.CampoXML = '[PedimentoFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'SeriesLotes'), '[PedimentoFecha]',  'Fecha1','AAAAMMDD',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'SeriesLotes' AND eddmc.CampoXML = '[Apostrofe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'SeriesLotes'), '[Apostrofe]',  'CHAR(39)','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[Total]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Total'), '[Total]',  'VentaTotal','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[SubTotalBruto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Total'), '[SubTotalBruto]',  'ROUND(VentaSubTotal-VentaImporteDescuentoGlobal, 2)','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[PjeDescuentoGlobal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Total'), '[PjeDescuentoGlobal]',  'VentaPorcentajeDescuentoGlobal','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[DescuentoClave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Total'), '[DescuentoClave]',  'VentaDescuentoGlobalClave','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[Subtotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Total'), '[Subtotal]',  'VentaSubTotal','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[Apostrofe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Total'), '[Apostrofe]',  'CHAR(39)','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[ImpuestoClave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Impuestos'), '[ImpuestoClave]',  'ImpuestoClave','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[ImpuestoPtje]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Impuestos'), '[ImpuestoPtje]',  'Tasa','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[ImpuestoImporte]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Impuestos'), '[ImpuestoImporte]',  'Importe','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[Apostrofe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Impuestos'), '[Apostrofe]',  'CHAR(39)','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Fin' AND eddmc.CampoXML = '[ModuloID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Fin'), '[ModuloID]',  'VariosModuloID','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Fin' AND eddmc.CampoXML = '[ReferenciaEnvio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Fin'), '[ReferenciaEnvio]',  'VentaFechaRegistro','AAMMDDHHNNSSLL',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Fin' AND eddmc.CampoXML = '[Apostrofe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Fin'), '[Apostrofe]',  'CHAR(39)','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'EDIFACT_LEVICOM' AND edd.Seccion = 'Detalle2' AND eddmc.CampoXML = '[Vacio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'EDIFACT_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'EDIFACT_LEVICOM' AND Seccion = 'Detalle2'), '[Vacio]',  CHAR(39)+CHAR(39),'',0,0,'', '', 2,0,0,0,0 
GO

/************************************************************************/
/*DETALLISTA_LEVICOM*/
/************************************************************************/
/********************************* VTAS-DETALLISTA_LEVICOM-eDoc *********************************/
IF NOT EXISTS(SELECT * FROM eDoc WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM') INSERT INTO eDoc (Modulo, eDoc, TipoXML, Documento, XSD, TipoCFD, DecimalesPorOmision, TipoCFDI, TimbrarEnTransaccion, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII) SELECT 'VTAS', 'DETALLISTA_LEVICOM',1, '{Encabezado}<detallista:detallista xmlns:detallista="http://www.sat.gob.mx/detallista" type="SimpleInvoiceType" contentVersion="1.3.1" documentStructureVersion="AMC8.1" documentStatus="[VentaEstatusCancelacion]">          <detallista:requestForPaymentIdentification>                                   <detallista:entityType>[VentaTipoDocumento]</detallista:entityType>          </detallista:requestForPaymentIdentification>          <detallista:specialInstruction code="ZZZ">              <detallista:text>[VentaImporteLetra]</detallista:text>          </detallista:specialInstruction>          <detallista:orderIdentification>              <detallista:referenceIdentification type="ON">[VentaOrdenCompra]</detallista:referenceIdentification>              <detallista:ReferenceDate>[VentaOrdenCompraFecha]</detallista:ReferenceDate>           </detallista:orderIdentification>          <detallista:AdditionalInformation>              <detallista:referenceIdentification type="ATZ">[NoAprobacion]</detallista:referenceIdentification>          </detallista:AdditionalInformation>          <detallista:DeliveryNote>                <detallista:referenceIdentification>[VentaReciboFolio]</detallista:referenceIdentification>                <detallista:ReferenceDate>[VentaReciboFecha]</detallista:ReferenceDate>          </detallista:DeliveryNote>          <detallista:buyer>              <detallista:gln>[ClienteGLN]</detallista:gln>              <detallista:contactInformation>                  <detallista:personOrDepartmentName>                     <detallista:text>[ClaveDepartamento]</detallista:text>                  </detallista:personOrDepartmentName>              </detallista:contactInformation>  </detallista:buyer>          <detallista:seller>             <detallista:gln>[EmpresaGLN]</detallista:gln>             <detallista:alternatePartyIdentification type="SELLER_ASSIGNED_IDENTIFIER_FOR_A_PARTY">[ProveedorID]</detallista:alternatePartyIdentification>          </detallista:seller>          <detallista:shipTo>              <detallista:gln>[ClienteGLN]</detallista:gln>              <detallista:nameAndAddress>                  <detallista:name>[ClienteNombre]</detallista:name>                  <detallista:streetAddressOne>[ClienteDireccion]</detallista:streetAddressOne>                  <detallista:city>[ClienteCiudad]</detallista:city>                  <detallista:postalCode>[ClienteCodigoPostal]</detallista:postalCode>              </detallista:nameAndAddress>          </detallista:shipTo>          <detallista:currency currencyISOCode="[VentaMoneda]">              <detallista:currencyFunction>BILLING_CURRENCY</detallista:currencyFunction>              <detallista:rateOfChange>[VentaTipoCambio]</detallista:rateOfChange>          </detallista:currency>          <detallista:paymentTerms paymentTermsEvent="[VentaTipoPago]" PaymentTermsRelationTime="REFERENCE_AFTER">              <detallista:netPayment netPaymentTermsType="BASIC_NET">                  <detallista:paymentTimePeriod>                      <detallista:timePeriodDue timePeriod="DAYS">                          <detallista:value>[CondicionDiasVencimiento]</detallista:value>                      </detallista:timePeriodDue>                  </detallista:paymentTimePeriod>              </detallista:netPayment>          </detallista:paymentTerms>          <detallista:allowanceCharge settlementType="OFF_INVOICE" allowanceChargeType="ALLOWANCE_GLOBAL">              <detallista:specialServicesType>[DescuentoGlobalClave]</detallista:specialServicesType>              <detallista:monetaryAmountOrPercentage>      <detallista:rate base="INVOICE_VALUE">        <detallista:percentage>[VentaPorcentajeDescuento]</detallista:percentage>                  </detallista:rate>              </detallista:monetaryAmountOrPercentage>          </detallista:allowanceCharge>  {/Encabezado}  {Detalle}        <detallista:lineItem type="SimpleInvoiceLineItemType" number="«Consecutivo1»">            <detallista:tradeItemIdentification>                <detallista:gtin>[EAN13]</detallista:gtin>            </detallista:tradeItemIdentification>            <detallista:alternateTradeItemIdentification type="SUPPLIER_ASSIGNED">[SKUCliente]</detallista:alternateTradeItemIdentification>            <detallista:tradeItemDescriptionInformation language="ES">                <detallista:longText>[ArticuloDescripcion]</detallista:longText>            </detallista:tradeItemDescriptionInformation>            <detallista:invoicedQuantity unitOfMeasure="[UnidadClave]">[VentaDCantidad]</detallista:invoicedQuantity>            <detallista:grossPrice>                <detallista:Amount>[VentaDPrecioBruto]</detallista:Amount>    </detallista:grossPrice>            <detallista:netPrice>      <detallista:Amount>[VentaDPrecioNeto]</detallista:Amount>    </detallista:netPrice>  {/Detalle}    {DetalleImpuesto}            <detallista:tradeItemTaxInformation>                <detallista:taxTypeDescription>[Clave]</detallista:taxTypeDescription>                <detallista:tradeItemTaxAmount>                    <detallista:taxPercentage>[Tasa]</detallista:taxPercentage>                    <detallista:taxAmount>[Importe]</detallista:taxAmount>                </detallista:tradeItemTaxAmount>                <detallista:taxCategory>[TipoImpuesto]</detallista:taxCategory>            </detallista:tradeItemTaxInformation>  {/DetalleImpuesto}      {Detalle2}              <detallista:totalLineAmount>                <detallista:grossAmount>                    <detallista:Amount>[VentaDImporteBruto]</detallista:Amount>                </detallista:grossAmount>                <detallista:netAmount>                    <detallista:Amount>[VentaDImporteNeto]</detallista:Amount>      </detallista:netAmount>            </detallista:totalLineAmount>        </detallista:lineItem>  {/Detalle2}        {Total}              <detallista:totalAmount>    <detallista:Amount>[VentaTotal]</detallista:Amount>  </detallista:totalAmount>      <detallista:TotalAllowanceCharge allowanceOrChargeType="ALLOWANCE">    <detallista:specialServicesType>[VentaClaveDescuento]</detallista:specialServicesType>    <detallista:Amount>[VentaImporteDescuento]</detallista:Amount>  </detallista:TotalAllowanceCharge>    </detallista:detallista>  {/Total}','DETALLISTA_LEVICOM', 0, 2, 0, 1,1,0, 1
GO
 
/* VTAS-DETALLISTA_LEVICOM-eDocD*/
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'DETALLISTA_LEVICOM', 2,  'Encabezado','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Detalle')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'DETALLISTA_LEVICOM', 4,  'Detalle','Encabezado','CFDVentaD',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'DetalleImpuesto')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'DETALLISTA_LEVICOM', 6,  'DetalleImpuesto','Detalle','CFDVentaDMovImpuesto',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Detalle2')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'DETALLISTA_LEVICOM', 8,  'Detalle2','Encabezado','CFDVentaD',1,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Total')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'DETALLISTA_LEVICOM', 10,  'Total','','CFDVenta',0,'' 
GO
 
/* VTAS-DETALLISTA_LEVICOM-eDocDMapeoCampo*/
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaEstatusCancelacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[VentaEstatusCancelacion]',  'VentaEstatusCancelacion','',1,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaFechaRegistro]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[VentaFechaRegistro]',  'VentaFechaRegistro','AAAA-MM-DD',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoDocumento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[VentaTipoDocumento]',  'VentaTipoDocumento','',1,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaMovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[VentaMovID]',  'VentaMovID','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaImporteLetra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[VentaImporteLetra]',  'VentaImporteLetra','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaOrdenCompra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[VentaOrdenCompra]',  'VentaOrdenCompra','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteGLN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[ClienteGLN]',  'ClienteGLN','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteNombre]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[ClienteNombre]',  'ClienteNombre','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteDireccion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[ClienteDireccion]',  'SUBSTRING(ClienteDireccion,1,35)','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteCiudad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[ClienteCiudad]',  'ClienteLocalidad','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClienteCodigoPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[ClienteCodigoPostal]',  'ClienteCodigoPostal','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaMoneda]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[VentaMoneda]',  'VentaMoneda','',1,1,'<VentaMoneda></VentaMoneda>', 'CFDFLEX_MONEDAS', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoCambio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[VentaTipoCambio]',  'VentaTipoCambio','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[VentaTipoPago]',  'VentaTipoPago','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CondicionDiasVencimiento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[CondicionDiasVencimiento]',  'CondicionDiasVencimiento','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DescuentoGlobalClave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[DescuentoGlobalClave]', '''AA''','',1,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaPorcentajeDescuento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[VentaPorcentajeDescuento]',  'VentaPorcentajeDescuentoGlobal','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NoAprobacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[NoAprobacion]',  'CFDnoAprobacion','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaOrdenCompraFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[VentaOrdenCompraFecha]',  'VentaOrdenCompraFecha','AAAA-MM-DD',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaReciboFolio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[VentaReciboFolio]',  'VentaEntregaRecibo','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaReciboFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[VentaReciboFecha]',  'VentaEntregaReciboFecha','AAAA-MM-DD',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ClaveDepartamento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[ClaveDepartamento]',  'CteDeptoClave','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EmpresaGLN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[EmpresaGLN]',  'EmpresaGLN','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ProveedorID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Encabezado'), '[ProveedorID]',  'ClienteProveedorID','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[EAN13]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Detalle'), '[EAN13]',  'EAN13','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[SKUCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Detalle'), '[SKUCliente]',  'SKUCliente','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[ArticuloDescripcion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Detalle'), '[ArticuloDescripcion]',  'VentaDDescripcion','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[UnidadClave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Detalle'), '[UnidadClave]',  'UnidadClave','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDCantidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Detalle'), '[VentaDCantidad]',  'VentaDCantidad','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDPrecioBruto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Detalle'), '[VentaDPrecioBruto]',  'VentaDImporteUnitario','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDPrecioNeto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Detalle'), '[VentaDPrecioNeto]',  'VentaDSubTotalUnitario','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'DetalleImpuesto' AND eddmc.CampoXML = '[Clave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'DetalleImpuesto'), '[Clave]',  'VentaDImpuestoClave','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'DetalleImpuesto' AND eddmc.CampoXML = '[Tasa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'DetalleImpuesto'), '[Tasa]',  'VentaDImpuestoTasa','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'DetalleImpuesto' AND eddmc.CampoXML = '[Importe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'DetalleImpuesto'), '[Importe]',  'VentaDImpuestoImporte','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'DetalleImpuesto' AND eddmc.CampoXML = '[TipoImpuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'DetalleImpuesto'), '[TipoImpuesto]',  'VentaDCategoriaImpuesto','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Detalle2' AND eddmc.CampoXML = '[VentaDImporteBruto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Detalle2'), '[VentaDImporteBruto]',  'VentaDImporte','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Detalle2' AND eddmc.CampoXML = '[VentaDImporteNeto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Detalle2'), '[VentaDImporteNeto]',  'VentaDSubTotal','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[VentaTotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Total'), '[VentaTotal]',  'VentaTotal','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[VentaImporteDescuento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Total'), '[VentaImporteDescuento]',  'VentaDescuentoImporte','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'DETALLISTA_LEVICOM' AND edd.Seccion = 'Total' AND eddmc.CampoXML = '[VentaClaveDescuento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'DETALLISTA_LEVICOM', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'DETALLISTA_LEVICOM' AND Seccion = 'Total'), '[VentaClaveDescuento]',  'VentaDescuentoGlobalClave','',0,0,'', '', 2,0,0,0,0 
GO
      
IF NOT EXISTS(SELECT * FROM eDocXSD WHERE Modulo = 'VTAS' AND Clave = 'AMC7.1') 
--<!-- edited with XMLSpy v2005 rel. 3 U (http://www.altova.com) by bg (bg) -->
INSERT INTO eDocXSD (Modulo, Clave, XSD) SELECT 'VTAS', 'AMC7.1','
<xs:schema xmlns="http://www.sat.gob.mx/cfd/2" targetNamespace="http://www.sat.gob.mx/cfd/2" xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" attributeFormDefault="unqualified">
    <xs:element name="Comprobante">
        <xs:annotation>
            <xs:documentation>Estándar para la expresión de comprobantes fiscales digitales.</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element name="Emisor">
                    <xs:annotation>
                        <xs:documentation>Nodo requerido para expresar la información del contribuyente emisor del comprobante.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="DomicilioFiscal" type="t_UbicacionFiscal">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido para precisar la información de ubicación del domicilio fiscal del contribuyente emisor</xs:documentation>
                                </xs:annotation>
                            </xs:element>
                            <xs:element name="ExpedidoEn" type="t_Ubicacion" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional para precisar la información de ubicación del domicilio en donde es emitido el comprobante fiscal en caso de que sea distinto del domicilio fiscal del contribuyente emisor.</xs:documentation>
                                </xs:annotation>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="rfc" type="t_RFC" use="required">
                            <xs:annotation>
                                <xs:documentation>Atributo requerido para la Clave del Registro Federal de Contribuyentes correspondiente al contribuyente emisor del comprobante sin guiones o espacios.</xs:documentation>
                            </xs:annotation>
                        </xs:attribute>
                        <xs:attribute name="nombre" use="required">
                            <xs:annotation>
                                <xs:documentation>Atributo requerido para el nombre o razón social del contribuyente emisor del comprobante.</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:string">
                                    <xs:minLength value="1"/>
                                    <xs:whiteSpace value="collapse"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
                <xs:element name="Receptor">
                    <xs:annotation>
                        <xs:documentation>Nodo requerido para precisar la información del contribuyente receptor del comprobante.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="Domicilio" type="t_Ubicacion">
                                <xs:annotation>
                                    <xs:documentation>Nodo para la definición de la ubicación donde se da el domicilio del receptor del comprobante fiscal.</xs:documentation>
                                </xs:annotation>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="rfc" type="t_RFC" use="required">
                            <xs:annotation>
                                <xs:documentation>Atributo requerido para precisar la Clave del Registro Federal de Contribuyentes correspondiente al contribuyente receptor del comprobante.</xs:documentation>
                            </xs:annotation>
                        </xs:attribute>
                        <xs:attribute name="nombre" use="optional">
                            <xs:annotation>
                                <xs:documentation>Atributo opcional para precisar el nombre o razón social del contribuyente receptor.</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:string">
                                    <xs:minLength value="1"/>
                                    <xs:whiteSpace value="collapse"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
                <xs:element name="Conceptos">
                    <xs:annotation>
                        <xs:documentation>Nodo requerido para enlistar los conceptos cubiertos por el comprobante.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="Concepto" maxOccurs="unbounded">
                                <xs:annotation>
                                    <xs:documentation>Nodo para introducir la información detallada de un bien o servicio amparado en el comprobante.</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:choice minOccurs="0">
                                        <xs:element name="InformacionAduanera" type="t_InformacionAduanera" minOccurs="0" maxOccurs="unbounded">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional para introducir la información aduanera aplicable cuando se trate de ventas de primera mano de mercancías importadas.</xs:documentation>
                                            </xs:annotation>
                                        </xs:element>
                                        <xs:element name="CuentaPredial" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional para asentar el número de cuenta predial con el que fue registrado el inmueble, en el sistema catastral de la entidad federativa de que trate.</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:attribute name="numero" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para precisar el número de la cuenta predial del inmueble cubierto por el presente concepto en caso de recibos de arrendamiento.</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:whiteSpace value="collapse"/>
                                                            <xs:minLength value="1"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="ComplementoConcepto" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional donde se incluirán los nodos complementarios de extensión al concepto, definidos por el SAT, de acuerdo a disposiciones particulares a un sector o actividad especifica.</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:any minOccurs="0" maxOccurs="unbounded"/>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="Parte" minOccurs="0" maxOccurs="unbounded">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional para expresar las partes o componentes que integran la totalidad del concepto expresado en el comprobante fiscal digital</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="InformacionAduanera" type="t_InformacionAduanera" minOccurs="0" maxOccurs="unbounded">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo opcional para introducir la información aduanera aplicable cuando se trate de partes o componentes importados vendidos de primera mano.</xs:documentation>
                                                        </xs:annotation>
                                                    </xs:element>
                                                </xs:sequence>
                                                <xs:attribute name="cantidad" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para precisar la cantidad de bienes o servicios del tipo particular definido por la presente parte.</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:decimal">
                                                            <xs:whiteSpace value="collapse"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="unidad" use="optional">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo opcional para precisar la unidad de medida aplicable para la cantidad expresada en la parte.</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:whiteSpace value="collapse"/>
                                                            <xs:minLength value="1"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="noIdentificacion" use="optional">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo opcional para expresar el número de serie del bien o identificador del servicio amparado por la presente parte.</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:minLength value="1"/>
                                                            <xs:whiteSpace value="collapse"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="descripcion" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para precisar la descripción del bien o servicio cubierto por la presente parte.</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:minLength value="1"/>
                                                            <xs:whiteSpace value="collapse"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="valorUnitario" type="t_Importe" use="optional">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo opcional para precisar el valor o precio unitario del bien o servicio cubierto por la presente parte.</xs:documentation>
                                                    </xs:annotation>
                                                </xs:attribute>
                                                <xs:attribute name="importe" type="t_Importe" use="optional">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo opcional para precisar el importe total de los bienes o servicios de la presente parte. Debe ser equivalente al resultado de multiplicar la cantidad por el valor unitario expresado en la parte.</xs:documentation>
                                                    </xs:annotation>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:choice>
                                    <xs:attribute name="cantidad" use="required">
                                        <xs:annotation>
                                            <xs:documentation>Atributo requerido para precisar la cantidad de bienes o servicios del tipo particular definido por el presente concepto.</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:decimal">
                                                <xs:whiteSpace value="collapse"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                    <xs:attribute name="unidad" use="optional">
                                        <xs:annotation>
                                            <xs:documentation>Atributo opcional para precisar la unidad de medida aplicable para la cantidad expresada en el concepto.</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:string">
                                                <xs:whiteSpace value="collapse"/>
                                                <xs:minLength value="1"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                    <xs:attribute name="noIdentificacion" use="optional">
                                        <xs:annotation>
                                            <xs:documentation>Atributo opcional para expresar el número de serie del bien o identificador del servicio amparado por el presente concepto.</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:string">
                                                <xs:minLength value="1"/>
                                                <xs:whiteSpace value="collapse"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                    <xs:attribute name="descripcion" use="required">
                                        <xs:annotation>
                                            <xs:documentation>Atributo requerido para precisar la descripción del bien o servicio cubierto por el presente concepto.</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:string">
                                                <xs:minLength value="1"/>
                                                <xs:whiteSpace value="collapse"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                    <xs:attribute name="valorUnitario" type="t_Importe" use="required">
                                        <xs:annotation>
                                            <xs:documentation>Atributo requerido para precisar el valor o precio unitario del bien o servicio cubierto por el presente concepto.</xs:documentation>
                                        </xs:annotation>
                                    </xs:attribute>
                                    <xs:attribute name="importe" type="t_Importe" use="required">
                                        <xs:annotation>
                                            <xs:documentation>Atributo requerido para precisar el importe total de los bienes o servicios del presente concepto. Debe ser equivalente al resultado de multiplicar la cantidad por el valor unitario expresado en el concepto.</xs:documentation>
                                        </xs:annotation>
                                    </xs:attribute>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="Impuestos">
                    <xs:annotation>
                        <xs:documentation>Nodo requerido para capturar los impuestos aplicables.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="Retenciones" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional para capturar los impuestos retenidos aplicables</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="Retencion" maxOccurs="unbounded">
                                            <xs:annotation>
                                                <xs:documentation>Nodo para la información detallada de una retención de impuesto específico</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:attribute name="impuesto" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para señalar el tipo de impuesto retenido</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:whiteSpace value="collapse"/>
                                                            <xs:enumeration value="ISR">
                                                                <xs:annotation>
                                                                    <xs:documentation>Impuesto sobre la renta</xs:documentation>
                                                                </xs:annotation>
                                                            </xs:enumeration>
                                                            <xs:enumeration value="IVA">
                                                                <xs:annotation>
                                                                    <xs:documentation>Impuesto al Valor Agregado</xs:documentation>
                                                                </xs:annotation>
                                                            </xs:enumeration>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="importe" type="t_Importe" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para señalar el importe o monto del impuesto retenido</xs:documentation>
                                                    </xs:annotation>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="Traslados" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional para asentar o referir los impuestos trasladados aplicables</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="Traslado" maxOccurs="unbounded">
                                            <xs:annotation>
                                                <xs:documentation>Nodo para la información detallada de un traslado de impuesto específico</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:attribute name="impuesto" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para señalar el tipo de impuesto trasladado</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:whiteSpace value="collapse"/>
                                                            <xs:enumeration value="IVA">
                                                                <xs:annotation>
                                                                    <xs:documentation>Impuesto al Valor Agregado</xs:documentation>
                                                                </xs:annotation>
                                                            </xs:enumeration>
                                                            <xs:enumeration value="IEPS">
                                                                <xs:annotation>
                                                                    <xs:documentation>Impuesto especial sobre productos y servicios</xs:documentation>
                                                                </xs:annotation>
                                                            </xs:enumeration>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="tasa" type="t_Importe" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para señalar la tasa del impuesto que se traslada por cada concepto amparado en el comprobante</xs:documentation>
                                                    </xs:annotation>
                                                </xs:attribute>
                                                <xs:attribute name="importe" type="t_Importe" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para señalar el importe del impuesto trasladado</xs:documentation>
                                                    </xs:annotation>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="totalImpuestosRetenidos" type="t_Importe" use="optional">
                            <xs:annotation>
                                <xs:documentation>Atributo opcional para expresar el total de los impuestos retenidos que se desprenden de los conceptos expresados en el comprobante fiscal digital.</xs:documentation>
                            </xs:annotation>
                        </xs:attribute>
                        <xs:attribute name="totalImpuestosTrasladados" type="t_Importe" use="optional">
                            <xs:annotation>
                                <xs:documentation>Atributo opcional para expresar el total de los impuestos trasladados que se desprenden de los conceptos expresados en el comprobante fiscal digital.</xs:documentation>
                            </xs:annotation>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
                <xs:element name="Complemento" minOccurs="0">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional donde se incluirán los nodos complementarios determinados por el SAT, de acuerdo a las disposiciones particulares a un sector o actividad especifica.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:any processContents="skip" minOccurs="0"/>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="Addenda" minOccurs="0">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional para recibir las extensiones al presente formato que sean de utilidad al contribuyente. Para las reglas de uso del mismo, referirse al formato de origen.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="requestForPayment">
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="requestForPaymentIdentification">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="entityType">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:NMTOKEN">
                                                                <xs:enumeration value="INVOICE"/>
                                                                <xs:enumeration value="DEBIT_NOTE"/>
                                                                <xs:enumeration value="CREDIT_NOTE"/>
                                                                <xs:enumeration value="LEASE_RECEIPT"/>
                                                                <xs:enumeration value="HONORARY_RECEIPT"/>
                                                                <xs:enumeration value="PARTIAL_INVOICE"/>
                                                                <xs:enumeration value="TRANSPORT_DOCUMENT"/>
                                                                <xs:enumeration value="AUTO_INVOICE"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="uniqueCreatorIdentification">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:minLength value="1"/>
                                                                <xs:maxLength value="17"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="specialInstruction" minOccurs="0" maxOccurs="4">
                                            <xs:complexType mixed="true">
                                                <xs:sequence>
                                                    <xs:element name="text" maxOccurs="15">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:minLength value="1"/>
                                                                <xs:maxLength value="255"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                </xs:sequence>
                                                <xs:attribute name="code" use="required">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:NMTOKEN">
                                                            <xs:maxLength value="3"/>
                                                            <xs:minLength value="1"/>
                                                            <xs:enumeration value="AAB"/>
                                                            <xs:enumeration value="DUT"/>
                                                            <xs:enumeration value="PUR"/>
                                                            <xs:enumeration value="ZZZ"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="orderIdentification">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="referenceIdentification" maxOccurs="30">
                                                        <xs:complexType>
                                                            <xs:simpleContent>
                                                                <xs:extension base="xs:string">
                                                                    <xs:attribute name="type" use="required" fixed="ON">
                                                                        <xs:annotation>
                                                                            <xs:appinfo source="ON"/>
                                                                        </xs:annotation>
                                                                        <xs:simpleType>
                                                                            <xs:restriction base="xs:NMTOKEN">
                                                                                <xs:enumeration value="ON"/>
                                                                            </xs:restriction>
                                                                        </xs:simpleType>
                                                                    </xs:attribute>
                                                                </xs:extension>
                                                            </xs:simpleContent>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="ReferenceDate" type="xs:string" minOccurs="0"/>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="AdditionalInformation">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="referenceIdentification" maxOccurs="99">
                                                        <xs:complexType>
                                                            <xs:simpleContent>
                                                                <xs:extension base="xs:string">
                                                                    <xs:attribute name="type" use="required">
                                                                        <xs:simpleType>
                                                                            <xs:restriction base="xs:NMTOKEN">
                                                                                <xs:enumeration value="AAE"/>
                                                                                <xs:enumeration value="CK"/>
                                                                                <xs:enumeration value="ACE"/>
                                                                                <xs:enumeration value="ATZ"/>
                                                                                <xs:enumeration value="DQ"/>
                                                                                <xs:enumeration value="IV"/>
                                                                                <xs:enumeration value="ON"/>
                                                                                <xs:enumeration value="AWR"/>
                                                                            </xs:restriction>
                                                                        </xs:simpleType>
                                                                    </xs:attribute>
                                                                </xs:extension>
                                                            </xs:simpleContent>
                                                        </xs:complexType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="DeliveryNote" minOccurs="0">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="referenceIdentification" maxOccurs="30">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:minLength value="1"/>
                                                                <xs:maxLength value="35"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="ReferenceDate" type="xs:string" minOccurs="0"/>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="buyer">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="gln">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:length value="13"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="contactInformation" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="personOrDepartmentName">
                                                                    <xs:complexType>
                                                                        <xs:sequence>
                                                                            <xs:element name="text">
                                                                                <xs:simpleType>
                                                                                    <xs:restriction base="xs:string">
                                                                                        <xs:minLength value="1"/>
                                                                                        <xs:maxLength value="35"/>
                                                                                    </xs:restriction>
                                                                                </xs:simpleType>
                                                                            </xs:element>
                                                                        </xs:sequence>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="seller" minOccurs="0">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="gln">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:length value="13"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="alternatePartyIdentification">
                                                        <xs:complexType>
                                                            <xs:simpleContent>
                                                                <xs:extension base="xs:string">
                                                                    <xs:attribute name="type" use="required">
                                                                        <xs:simpleType>
                                                                            <xs:restriction base="xs:NMTOKEN">
                                                                                <xs:minLength value="1"/>
                                                                                <xs:maxLength value="40"/>
                                                                                <xs:enumeration value="SELLER_ASSIGNED_IDENTIFIER_FOR_A_PARTY"/>
                                                                                <xs:enumeration value="IEPS_REFERENCE"/>
                                                                            </xs:restriction>
                                                                        </xs:simpleType>
                                                                    </xs:attribute>
                                                                </xs:extension>
                                                            </xs:simpleContent>
                                                        </xs:complexType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="shipTo" minOccurs="0">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="gln" minOccurs="0">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:length value="13"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="nameAndAddress" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:sequence maxOccurs="unbounded">
                                                                <xs:element name="name">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="35"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="streetAddressOne" minOccurs="0">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="35"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="city" minOccurs="0">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="35"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="postalCode" minOccurs="0">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="9"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="InvoiceCreator" minOccurs="0">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="gln" minOccurs="0">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:length value="13"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="alternatePartyIdentification" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:simpleContent>
                                                                <xs:extension base="xs:string">
                                                                    <xs:attribute name="type" use="required">
                                                                        <xs:simpleType>
                                                                            <xs:restriction base="xs:NMTOKEN">
                                                                                <xs:length value="2"/>
                                                                                <xs:enumeration value="VA"/>
                                                                                <xs:enumeration value="IA"/>
                                                                            </xs:restriction>
                                                                        </xs:simpleType>
                                                                    </xs:attribute>
                                                                </xs:extension>
                                                            </xs:simpleContent>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="nameAndAddress" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="name" minOccurs="0">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="35"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="streetAddressOne" minOccurs="0">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="35"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="city" minOccurs="0">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="35"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="postalCode" minOccurs="0">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="9"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="Customs" minOccurs="0" maxOccurs="999999">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="gln" minOccurs="0">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:length value="13"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="alternatePartyIdentification">
                                                        <xs:complexType>
                                                            <xs:simpleContent>
                                                                <xs:extension base="xs:string">
                                                                    <xs:attribute name="type" use="required">
                                                                        <xs:simpleType>
                                                                            <xs:restriction base="xs:NMTOKEN">
                                                                                <xs:length value="2"/>
                                                                                <xs:enumeration value="TN"/>
                                                                            </xs:restriction>
                                                                        </xs:simpleType>
                                                                    </xs:attribute>
                                                                </xs:extension>
                                                            </xs:simpleContent>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="ReferenceDate" type="xs:string"/>
                                                    <xs:element name="nameAndAddress" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="name">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="35"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="city">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="35"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="currency" minOccurs="0" maxOccurs="3">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="currencyFunction" maxOccurs="3">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:NMTOKEN">
                                                                <xs:maxLength value="16"/>
                                                                <xs:minLength value="1"/>
                                                                <xs:enumeration value="BILLING_CURRENCY"/>
                                                                <xs:enumeration value="PRICE_CURRENCY"/>
                                                                <xs:enumeration value="PAYMENT_CURRENCY"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="rateOfChange" type="xs:decimal" minOccurs="0"/>
                                                </xs:sequence>
                                                <xs:attribute name="currencyISOCode" use="required">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:NMTOKEN">
                                                            <xs:length value="3"/>
                                                            <xs:enumeration value="MXN"/>
                                                            <xs:enumeration value="XEU"/>
                                                            <xs:enumeration value="USD"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="paymentTerms" minOccurs="0">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="netPayment" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:sequence minOccurs="0">
                                                                <xs:element name="paymentTimePeriod" minOccurs="0">
                                                                    <xs:complexType>
                                                                        <xs:sequence>
                                                                            <xs:element name="timePeriodDue">
                                                                                <xs:complexType>
                                                                                    <xs:sequence>
                                                                                        <xs:element name="value">
                                                                                            <xs:simpleType>
                                                                                                <xs:restriction base="xs:string">
                                                                                                    <xs:minLength value="1"/>
                                                                                                    <xs:maxLength value="5"/>
                                                                                                </xs:restriction>
                                                                                            </xs:simpleType>
                                                                                        </xs:element>
                                                                                    </xs:sequence>
                                                                                    <xs:attribute name="timePeriod" use="required">
                                                                                        <xs:simpleType>
                                                                                            <xs:restriction base="xs:NMTOKEN">
                                                                                                <xs:minLength value="1"/>
                                                                                                <xs:maxLength value="6"/>
                                                                                                <xs:enumeration value="DAYS"/>
                                                                                            </xs:restriction>
                                                                                        </xs:simpleType>
                                                                                    </xs:attribute>
                                                                                </xs:complexType>
                                                                            </xs:element>
                                                                        </xs:sequence>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                            <xs:attribute name="netPaymentTermsType" use="required">
                                                                <xs:simpleType>
                                                                    <xs:restriction base="xs:NMTOKEN">
                                                                        <xs:maxLength value="22"/>
                                                                        <xs:minLength value="1"/>
                                                                        <xs:enumeration value="BASIC_NET"/>
                                                                        <xs:enumeration value="END_OF_MONTH"/>
                                                                        <xs:enumeration value="BASIC_DISCOUNT_OFFERED"/>
                                                                    </xs:restriction>
                                                                </xs:simpleType>
                                                            </xs:attribute>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="discountPayment" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="percentage">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="5"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                            <xs:attribute name="discountType" use="required">
                                                                <xs:simpleType>
                                                                    <xs:restriction base="xs:NMTOKEN">
                                                                        <xs:maxLength value="28"/>
                                                                        <xs:minLength value="1"/>
                                                                        <xs:enumeration value="ALLOWANCE_BY_PAYMENT_ON_TIME"/>
                                                                        <xs:enumeration value="SANCTION"/>
                                                                    </xs:restriction>
                                                                </xs:simpleType>
                                                            </xs:attribute>
                                                        </xs:complexType>
                                                    </xs:element>
                                                </xs:sequence>
                                                <xs:attribute name="paymentTermsEvent" use="optional">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:NMTOKEN">
                                                            <xs:maxLength value="15"/>
                                                            <xs:minLength value="1"/>
                                                            <xs:enumeration value="DATE_OF_INVOICE"/>
                                                            <xs:enumeration value="EFFECTIVE_DATE"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="PaymentTermsRelationTime" use="optional">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:NMTOKEN">
                                                            <xs:minLength value="1"/>
                                                            <xs:maxLength value="15"/>
                                                            <xs:enumeration value="REFERENCE_AFTER"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="shipmentDetail" minOccurs="0"/>
                                        <xs:element name="allowanceCharge" minOccurs="0" maxOccurs="99">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="specialServicesType" minOccurs="0">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:NMTOKEN">
                                                                <xs:minLength value="1"/>
                                                                <xs:maxLength value="3"/>
                                                                <xs:enumeration value="AA"/>
                                                                <xs:enumeration value="AJ"/>
                                                                <xs:enumeration value="ADO"/>
                                                                <xs:enumeration value="ADT"/>
                                                                <xs:enumeration value="ADS"/>
                                                                <xs:enumeration value="ABZ"/>
                                                                <xs:enumeration value="DA"/>
                                                                <xs:enumeration value="EAA"/>
                                                                <xs:enumeration value="EAB"/>
                                                                <xs:enumeration value="PI"/>
                                                                <xs:enumeration value="TAE"/>
                                                                <xs:enumeration value="SAB"/>
                                                                <xs:enumeration value="RAA"/>
                                                                <xs:enumeration value="PAD"/>
                                                                <xs:enumeration value="FG"/>
                                                                <xs:enumeration value="FA"/>
                                                                <xs:enumeration value="TD"/>
                                                                <xs:enumeration value="TS"/>
                                                                <xs:enumeration value="TX"/>
                                                                <xs:enumeration value="TZ"/>
                                                                <xs:enumeration value="ZZZ"/>
                                                                <xs:enumeration value="VAB"/>
                                                                <xs:enumeration value="UM"/>
                                                                <xs:enumeration value="DI"/>
                                                                <xs:enumeration value="CAC"/>
                                                                <xs:enumeration value="COD"/>
                                                                <xs:enumeration value="EAB"/>
                                                                <xs:enumeration value="FC"/>
                                                                <xs:enumeration value="FI"/>
                                                                <xs:enumeration value="HD"/>
                                                                <xs:enumeration value="QD"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="monetaryAmountOrPercentage" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="rate" minOccurs="0">
                                                                    <xs:complexType>
                                                                        <xs:sequence>
                                                                            <xs:element name="percentage" type="xs:decimal"/>
                                                                        </xs:sequence>
                                                                        <xs:attribute name="base" use="required">
                                                                            <xs:simpleType>
                                                                                <xs:restriction base="xs:NMTOKEN">
                                                                                    <xs:length value="13"/>
                                                                                    <xs:enumeration value="INVOICE_VALUE"/>
                                                                                </xs:restriction>
                                                                            </xs:simpleType>
                                                                        </xs:attribute>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                </xs:sequence>
                                                <xs:attribute name="allowanceChargeType" use="required">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:NMTOKEN">
                                                            <xs:minLength value="1"/>
                                                            <xs:maxLength value="16"/>
                                                            <xs:enumeration value="ALLOWANCE_GLOBAL"/>
                                                            <xs:enumeration value="CHARGE_GLOBAL"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="settlementType" use="required">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:NMTOKEN">
                                                            <xs:minLength value="1"/>
                                                            <xs:maxLength value="11"/>
                                                            <xs:enumeration value="BILL_BACK"/>
                                                            <xs:enumeration value="OFF_INVOICE"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="sequenceNumber" use="optional">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:minLength value="1"/>
                                                            <xs:maxLength value="15"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="lineItem" minOccurs="0" maxOccurs="9999999">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="tradeItemIdentification">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="gtin">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="14"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="alternateTradeItemIdentification" minOccurs="0" maxOccurs="999999">
                                                        <xs:complexType mixed="true">
                                                            <xs:simpleContent>
                                                                <xs:extension base="xs:string">
                                                                    <xs:attribute name="type" use="required">
                                                                        <xs:simpleType>
                                                                            <xs:restriction base="xs:NMTOKEN">
                                                                                <xs:minLength value="1"/>
                                                                                <xs:maxLength value="35"/>
                                                                                <xs:enumeration value="BUYER_ASSIGNED"/>
                                                                                <xs:enumeration value="SUPPLIER_ASSIGNED"/>
                                                                                <xs:enumeration value="SERIAL_NUMBER"/>
                                                                                <xs:enumeration value="GLOBAL_TRADE_ITEM_IDENTIFICATION"/>
                                                                            </xs:restriction>
                                                                        </xs:simpleType>
                                                                    </xs:attribute>
                                                                </xs:extension>
                                                            </xs:simpleContent>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="tradeItemDescriptionInformation" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="longText">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="35"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                            <xs:attribute name="language" use="optional">
                                                                <xs:simpleType>
                                                                    <xs:restriction base="xs:NMTOKEN">
                                                                        <xs:length value="2"/>
                                                                        <xs:enumeration value="ES"/>
                                                                        <xs:enumeration value="EN"/>
                                                                    </xs:restriction>
                                                                </xs:simpleType>
                                                            </xs:attribute>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="invoicedQuantity">
                                                        <xs:complexType mixed="true">
                                                            <xs:simpleContent>
                                                                <xs:extension base="xs:decimal">
                                                                    <xs:attribute name="unitOfMeasure" type="xs:NMTOKEN" use="required"/>
                                                                </xs:extension>
                                                            </xs:simpleContent>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="aditionalQuantity" minOccurs="0" maxOccurs="9999">
                                                        <xs:complexType mixed="true">
                                                            <xs:simpleContent>
                                                                <xs:extension base="xs:decimal">
                                                                    <xs:attribute name="QuantityType" use="required">
                                                                        <xs:simpleType>
                                                                            <xs:restriction base="xs:NMTOKEN">
                                                                                <xs:minLength value="1"/>
                                                                                <xs:maxLength value="18"/>
                                                                                <xs:enumeration value="NUM_CONSUMER_UNITS"/>
                                                                                <xs:enumeration value="FREE_GOODS"/>
                                                                            </xs:restriction>
                                                                        </xs:simpleType>
                                                                    </xs:attribute>
                                                                </xs:extension>
                                                            </xs:simpleContent>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="grossPrice" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="Amount" type="xs:decimal"/>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="netPrice" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="Amount" type="xs:decimal"/>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="AdditionalInformation" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="referenceIdentification" minOccurs="0">
                                                                    <xs:complexType>
                                                                        <xs:simpleContent>
                                                                            <xs:extension base="xs:string">
                                                                                <xs:attribute name="type" use="required">
                                                                                    <xs:simpleType>
                                                                                        <xs:restriction base="xs:NMTOKEN">
                                                                                            <xs:length value="2"/>
                                                                                            <xs:enumeration value="ON"/>
                                                                                        </xs:restriction>
                                                                                    </xs:simpleType>
                                                                                </xs:attribute>
                                                                            </xs:extension>
                                                                        </xs:simpleContent>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="Customs" minOccurs="0" maxOccurs="999999">
                                                        <xs:complexType>
                                                            <xs:all>
                                                                <xs:element name="gln" minOccurs="0">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:length value="14"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="alternatePartyIdentification">
                                                                    <xs:complexType>
                                                                        <xs:simpleContent>
                                                                            <xs:extension base="xs:string">
                                                                                <xs:attribute name="type" use="required">
                                                                                    <xs:simpleType>
                                                                                        <xs:restriction base="xs:NMTOKEN">
                                                                                            <xs:length value="2"/>
                                                                                            <xs:enumeration value="TN"/>
                                                                                        </xs:restriction>
                                                                                    </xs:simpleType>
                                                                                </xs:attribute>
                                                                            </xs:extension>
                                                                        </xs:simpleContent>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                                <xs:element name="ReferenceDate" type="xs:string"/>
                                                                <xs:element name="nameAndAddress">
                                                                    <xs:complexType>
                                                                        <xs:sequence>
                                                                            <xs:element name="name">
                                                                                <xs:simpleType>
                                                                                    <xs:restriction base="xs:string">
                                                                                        <xs:minLength value="1"/>
                                                                                        <xs:maxLength value="35"/>
                                                                                    </xs:restriction>
                                                                                </xs:simpleType>
                                                                            </xs:element>
                                                                        </xs:sequence>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                            </xs:all>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="LogisticUnits" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="serialShippingContainerCode">
                                                                    <xs:complexType>
                                                                        <xs:simpleContent>
                                                                            <xs:extension base="xs:string">
                                                                                <xs:attribute name="type" use="required">
                                                                                    <xs:simpleType>
                                                                                        <xs:restriction base="xs:NMTOKEN">
                                                                                            <xs:minLength value="1"/>
                                                                                            <xs:maxLength value="3"/>
                                                                                            <xs:enumeration value="BJ"/>
                                                                                            <xs:enumeration value="SRV"/>
                                                                                        </xs:restriction>
                                                                                    </xs:simpleType>
                                                                                </xs:attribute>
                                                                            </xs:extension>
                                                                        </xs:simpleContent>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="palletInformation" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:all>
                                                                <xs:element name="palletQuantity">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="15"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="description">
                                                                    <xs:complexType mixed="true">
                                                                        <xs:simpleContent>
                                                                            <xs:extension base="xs:string">
                                                                                <xs:attribute name="type" use="required">
                                                                                    <xs:simpleType>
                                                                                        <xs:restriction base="xs:NMTOKEN">
                                                                                            <xs:maxLength value="35"/>
                                                                                            <xs:minLength value="1"/>
                                                                                            <xs:enumeration value="EXCHANGE_PALLETS"/>
                                                                                            <xs:enumeration value="RETURN_PALLETS"/>
                                                                                            <xs:enumeration value="PALLET_80x100"/>
                                                                                            <xs:enumeration value="CASE"/>
                                                                                            <xs:enumeration value="BOX"/>
                                                                                        </xs:restriction>
                                                                                    </xs:simpleType>
                                                                                </xs:attribute>
                                                                            </xs:extension>
                                                                        </xs:simpleContent>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                                <xs:element name="transport">
                                                                    <xs:complexType>
                                                                        <xs:sequence>
                                                                            <xs:element name="methodOfPayment">
                                                                                <xs:simpleType>
                                                                                    <xs:restriction base="xs:NMTOKEN">
                                                                                        <xs:maxLength value="17"/>
                                                                                        <xs:minLength value="1"/>
                                                                                        <xs:enumeration value="PREPAID_BY_SELLER"/>
                                                                                        <xs:enumeration value="PAID_BY_BUYER"/>
                                                                                    </xs:restriction>
                                                                                </xs:simpleType>
                                                                            </xs:element>
                                                                        </xs:sequence>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                            </xs:all>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="extendedAttributes" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="lotNumber" maxOccurs="10">
                                                                    <xs:complexType>
                                                                        <xs:simpleContent>
                                                                            <xs:extension base="xs:string">
                                                                                <xs:attribute name="productionDate" type="xs:string" use="optional"/>
                                                                            </xs:extension>
                                                                        </xs:simpleContent>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="allowanceCharge" minOccurs="0" maxOccurs="99">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="specialServicesType" minOccurs="0">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:NMTOKEN">
                                                                            <xs:maxLength value="3"/>
                                                                            <xs:minLength value="1"/>
                                                                            <xs:enumeration value="AA"/>
                                                                            <xs:enumeration value="ADS"/>
                                                                            <xs:enumeration value="ADO"/>
                                                                            <xs:enumeration value="ABZ"/>
                                                                            <xs:enumeration value="DA"/>
                                                                            <xs:enumeration value="EAA"/>
                                                                            <xs:enumeration value="PI"/>
                                                                            <xs:enumeration value="TAE"/>
                                                                            <xs:enumeration value="SAB"/>
                                                                            <xs:enumeration value="RAA"/>
                                                                            <xs:enumeration value="PAD"/>
                                                                            <xs:enumeration value="FG"/>
                                                                            <xs:enumeration value="FA"/>
                                                                            <xs:enumeration value="TD"/>
                                                                            <xs:enumeration value="TS"/>
                                                                            <xs:enumeration value="TX"/>
                                                                            <xs:enumeration value="ZZZ"/>
                                                                            <xs:enumeration value="VAB"/>
                                                                            <xs:enumeration value="UM"/>
                                                                            <xs:enumeration value="DI"/>
                                                                            <xs:enumeration value="ADT"/>
                                                                            <xs:enumeration value="AJ"/>
                                                                            <xs:enumeration value="CAC"/>
                                                                            <xs:enumeration value="COD"/>
                                                                            <xs:enumeration value="EAB"/>
                                                                            <xs:enumeration value="FC"/>
                                                                            <xs:enumeration value="FI"/>
                                                                            <xs:enumeration value="HD"/>
                                                                            <xs:enumeration value="QD"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="monetaryAmountOrPercentage">
                                                                    <xs:complexType>
                                                                        <xs:sequence>
                                                                            <xs:element name="percentagePerUnit">
                                                                                <xs:simpleType>
                                                                                    <xs:restriction base="xs:string">
                                                                                        <xs:minLength value="1"/>
                                                                                        <xs:maxLength value="5"/>
                                                                                    </xs:restriction>
                                                                                </xs:simpleType>
                                                                            </xs:element>
                                                                            <xs:element name="ratePerUnit" minOccurs="0">
                                                                                <xs:complexType>
                                                                                    <xs:sequence>
                                                                                        <xs:element name="amountPerUnit">
                                                                                            <xs:simpleType>
                                                                                                <xs:restriction base="xs:string">
                                                                                                    <xs:minLength value="1"/>
                                                                                                    <xs:maxLength value="5"/>
                                                                                                </xs:restriction>
                                                                                            </xs:simpleType>
                                                                                        </xs:element>
                                                                                    </xs:sequence>
                                                                                </xs:complexType>
                                                                            </xs:element>
                                                                        </xs:sequence>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                            <xs:attribute name="allowanceChargeType" use="required">
                                                                <xs:simpleType>
                                                                    <xs:restriction base="xs:NMTOKEN">
                                                                        <xs:minLength value="1"/>
                                                                        <xs:maxLength value="16"/>
                                                                        <xs:enumeration value="ALLOWANCE_GLOBAL"/>
                                                                        <xs:enumeration value="CHARGE_GLOBAL"/>
                                                                    </xs:restriction>
                                                                </xs:simpleType>
                                                            </xs:attribute>
                                                            <xs:attribute name="settlementType" use="optional">
                                                                <xs:simpleType>
                                                                    <xs:restriction base="xs:NMTOKEN">
                                                                        <xs:minLength value="1"/>
                                                                        <xs:maxLength value="29"/>
                                                                        <xs:enumeration value="OFF_INVOICE"/>
                                                                        <xs:enumeration value="CHARGE_TO_BE_PAID_BY_VENDOR"/>
                                                                        <xs:enumeration value="CHARGE_TO_BE_PAID_BY_CUSTOMER"/>
                                                                    </xs:restriction>
                                                                </xs:simpleType>
                                                            </xs:attribute>
                                                            <xs:attribute name="sequenceNumber" use="optional">
                                                                <xs:simpleType>
                                                                    <xs:restriction base="xs:string">
                                                                        <xs:minLength value="1"/>
                                                                        <xs:maxLength value="15"/>
                                                                    </xs:restriction>
                                                                </xs:simpleType>
                                                            </xs:attribute>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="tradeItemTaxInformation" minOccurs="0" maxOccurs="99">
                                                        <xs:complexType>
                                                            <xs:all>
                                                                <xs:element name="taxTypeDescription">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:NMTOKEN">
                                                                            <xs:length value="3"/>
                                                                            <xs:enumeration value="GST"/>
                                                                            <xs:enumeration value="VAT"/>
                                                                            <xs:enumeration value="LAC"/>
                                                                            <xs:enumeration value="AAA"/>
                                                                            <xs:enumeration value="ADD"/>
                                                                            <xs:enumeration value="FRE"/>
                                                                            <xs:enumeration value="LOC"/>
                                                                            <xs:enumeration value="STT"/>
                                                                            <xs:enumeration value="OTH"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="referenceNumber" minOccurs="0">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="20"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="tradeItemTaxAmount" minOccurs="0">
                                                                    <xs:complexType>
                                                                        <xs:sequence>
                                                                            <xs:element name="taxPercentage" type="xs:decimal"/>
                                                                            <xs:element name="taxAmount" type="xs:decimal"/>
                                                                        </xs:sequence>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                                <xs:element name="taxCategory" minOccurs="0">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:NMTOKEN">
                                                                            <xs:minLength value="0"/>
                                                                            <xs:maxLength value="11"/>
                                                                            <xs:enumeration value="TRANSFERIDO"/>
                                                                            <xs:enumeration value="RETENIDO"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                            </xs:all>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="totalLineAmount">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="grossAmount" minOccurs="0">
                                                                    <xs:complexType>
                                                                        <xs:sequence>
                                                                            <xs:element name="Amount" type="xs:decimal"/>
                                                                        </xs:sequence>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                                <xs:element name="netAmount">
                                                                    <xs:complexType>
                                                                        <xs:sequence>
                                                                            <xs:element name="Amount" type="xs:decimal"/>
                                                                        </xs:sequence>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                </xs:sequence>
                                                <xs:attribute name="type" use="optional" default="SimpleInvoiceLineItemType">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:minLength value="1"/>
                                                            <xs:maxLength value="32"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="number" use="optional">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:integer">
                                                            <xs:totalDigits value="5"/>
                                                            <xs:fractionDigits value="0"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="totalAmount" minOccurs="0">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="Amount" type="xs:decimal"/>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="TotalAllowanceCharge" minOccurs="0" maxOccurs="999999">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="specialServicesType" minOccurs="0">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:NMTOKEN">
                                                                <xs:minLength value="1"/>
                                                                <xs:maxLength value="3"/>
                                                                <xs:enumeration value="AA"/>
                                                                <xs:enumeration value="ADS"/>
                                                                <xs:enumeration value="ADO"/>
                                                                <xs:enumeration value="ABZ"/>
                                                                <xs:enumeration value="DA"/>
                                                                <xs:enumeration value="EAA"/>
                                                                <xs:enumeration value="PI"/>
                                                                <xs:enumeration value="TAE"/>
                                                                <xs:enumeration value="SAB"/>
                                                                <xs:enumeration value="RAA"/>
                                                                <xs:enumeration value="PAD"/>
                                                                <xs:enumeration value="FG"/>
                                                                <xs:enumeration value="FA"/>
                                                                <xs:enumeration value="TD"/>
                                                                <xs:enumeration value="TS"/>
                                                                <xs:enumeration value="TX"/>
                                                                <xs:enumeration value="ZZZ"/>
                                                                <xs:enumeration value="VAB"/>
                                                                <xs:enumeration value="UM"/>
                                                                <xs:enumeration value="DI"/>
                                                                <xs:enumeration value="ADT"/>
                                                                <xs:enumeration value="AJ"/>
                                                                <xs:enumeration value="CAC"/>
                                                                <xs:enumeration value="COD"/>
                                                                <xs:enumeration value="EAB"/>
                                                                <xs:enumeration value="FC"/>
                                                                <xs:enumeration value="FI"/>
                                                                <xs:enumeration value="HD"/>
                                                                <xs:enumeration value="QD"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="Amount" type="xs:decimal" minOccurs="0"/>
                                                </xs:sequence>
                                                <xs:attribute name="allowanceOrChargeType" use="required">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:NMTOKEN">
                                                            <xs:minLength value="1"/>
                                                            <xs:maxLength value="9"/>
                                                            <xs:enumeration value="ALLOWANCE"/>
                                                            <xs:enumeration value="CHARGE"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="baseAmount" minOccurs="0">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="Amount" type="xs:decimal"/>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="tax" minOccurs="0" maxOccurs="99">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="taxPercentage" type="xs:decimal" minOccurs="0"/>
                                                    <xs:element name="taxAmount" type="xs:decimal" minOccurs="0"/>
                                                    <xs:element name="taxCategory" minOccurs="0">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:NMTOKEN">
                                                                <xs:minLength value="0"/>
                                                                <xs:maxLength value="11"/>
                                                                <xs:enumeration value="TRANSFERIDO"/>
                                                                <xs:enumeration value="RETENIDO"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                </xs:sequence>
                                                <xs:attribute name="type" use="optional">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:NMTOKEN">
                                                            <xs:length value="3"/>
                                                            <xs:enumeration value="GST"/>
                                                            <xs:enumeration value="VAT"/>
                                                            <xs:enumeration value="LAC"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="payableAmount" minOccurs="0">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="Amount" type="xs:decimal"/>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                    <xs:attribute name="type" type="xs:string" use="optional" default="SimpleInvoiceType"/>
                                    <xs:attribute name="contentVersion" type="xs:string" use="optional" default="1.3.1"/>
                                    <xs:attribute name="documentStructureVersion" type="xs:string" use="required"/>
                                    <xs:attribute name="documentStatus" use="required">
                                        <xs:simpleType>
                                            <xs:restriction base="xs:NMTOKEN">
                                                <xs:enumeration value="ORIGINAL"/>
                                                <xs:enumeration value="COPY"/>
                                                <xs:enumeration value="REEMPLAZA"/>
                                                <xs:enumeration value="DELETE"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                    <xs:attribute name="DeliveryDate" type="xs:string" use="optional"/>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
            </xs:sequence>
            <xs:attribute name="version" use="required" fixed="2.0">
                <xs:annotation>
                    <xs:documentation>Atributo requerido con valor prefijado a 2.0 que indica la versión del estándar bajo el que se encuentra expresado el comprobante.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="serie" use="optional">
                <xs:annotation>
                    <xs:documentation>Atributo opcional para precisar la serie a la que corresponde el comprobante. Este atributo acepta una cadena de caracteres alfabéticos de 1 a 10 caracteres sin incluir caracteres acentuados.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:minLength value="1"/>
                        <xs:maxLength value="10"/>
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="folio" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido que acepta un valor numérico entero superior a 0 que expresa el folio del comprobante.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:minLength value="1"/>
                        <xs:maxLength value="20"/>
                        <xs:whiteSpace value="collapse"/>
                        <xs:pattern value="[0-9]+"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="fecha" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para la expresión de la fecha y hora de expedición  del comprobante fiscal. Se expresa en la forma aaaa-mm-ddThh:mm:ss, de acuerdo con la especificación ISO 8601.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="sello" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para contener el sello digital del comprobante fiscal, al que hacen referencia las reglas de resolución miscelánea aplicable. El sello deberá ser expresado cómo una cadena de texto en formato Base 64.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="noAprobacion" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para precisar el número de aprobación emitido por el SAT, para el rango de folios al que pertenece el folio particular que ampara el comprobante fiscal digital.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:integer">
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="anoAprobacion" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para precisar el año en que se solicito el folio que se están utilizando para emitir el comprobante fiscal digital.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:integer">
                        <xs:whiteSpace value="collapse"/>
                        <xs:totalDigits value="4"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="formaDePago" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para precisar la forma de pago que aplica para este comprobante fiscal digital. Se utiliza para expresar Pago en una sola exhibición o número de parcialidad pagada contra el total de parcialidades, Parcialidad 1 de X. </xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="noCertificado" use="required">
                <xs:annotation>
                    <xs:documentation> Atributo requerido para expresar el número de serie del certificado de sello digital que ampara al comprobante, de acuerdo al acuse correspondiente a 20 posiciones otorgado por el sistema del SAT.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="certificado" use="optional">
                <xs:annotation>
                    <xs:documentation>Atributo opcional que sirve para expresar el certificado de sello digital que ampara al comprobante como texto, en formato base 64.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="condicionesDePago" use="optional">
                <xs:annotation>
                    <xs:documentation>Atributo opcional para expresar las condiciones comerciales aplicables para el pago del comprobante fiscal digital.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:whiteSpace value="collapse"/>
                        <xs:minLength value="1"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="subTotal" type="t_Importe" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para representar la suma de los importes antes de descuentos e impuestos.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="descuento" type="t_Importe" use="optional">
                <xs:annotation>
                    <xs:documentation>Atributo opcional para representar el importe total de los descuentos aplicables antes de impuestos.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="motivoDescuento" use="optional">
                <xs:annotation>
                    <xs:documentation>Atributo opcional para expresar el motivo del descuento aplicable.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:minLength value="1"/>
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="total" type="t_Importe" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para representar la suma del subtotal, menos los descuentos aplicables, más los impuestos trasladados, menos los impuestos retenidos.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="metodoDePago" use="optional">
                <xs:annotation>
                    <xs:documentation>Atributo opcional de texto libre para expresar el método de pago de los bienes o servicios amparados por el comprobante. Se entiende como método de pago leyendas tales como: cheque, tarjeta de crédito o debito, depósito en cuenta, etc.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:minLength value="1"/>
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="tipoDeComprobante" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para expresar el efecto del comprobante fiscal para el contribuyente emisor.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="ingreso"/>
                        <xs:enumeration value="egreso"/>
                        <xs:enumeration value="traslado"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
        </xs:complexType>
    </xs:element>
    <xs:complexType name="t_Ubicacion">
        <xs:annotation>
            <xs:documentation>Tipo definido para expresar domicilios o direcciones</xs:documentation>
        </xs:annotation>
        <xs:attribute name="calle" use="optional">
            <xs:annotation>
                <xs:documentation>Este atributo opcional sirve para precisar la avenida, calle, camino o carretera donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="noExterior" use="optional">
            <xs:annotation>
                <xs:documentation>Este atributo opcional sirve para expresar el número particular en donde se da la ubicación sobre una calle dada.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="noInterior" use="optional">
            <xs:annotation>
                <xs:documentation>Este atributo opcional sirve para expresar información adicional para especificar la ubicación cuando calle y número exterior (noExterior) no resulten suficientes para determinar la ubicación de forma precisa.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="colonia" use="optional">
            <xs:annotation>
                <xs:documentation>Este atributo opcional sirve para precisar la colonia en donde se da la ubicación cuando se desea ser más específico en casos de ubicaciones urbanas.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="localidad" use="optional">
            <xs:annotation>
                <xs:documentation>Atributo opcional que sirve para precisar la ciudad o población donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="referencia" use="optional">
            <xs:annotation>
                <xs:documentation>Atributo opcional para expresar una referencia de ubicación adicional.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="municipio" use="optional">
            <xs:annotation>
                <xs:documentation>Atributo opcional que sirve para precisar el municipio o delegación (en el caso del Distrito Federal) en donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="estado" use="optional">
            <xs:annotation>
                <xs:documentation>Atributo opcional que sirve para precisar el estado o entidad federativa donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="pais" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido que sirve para precisar el país donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="codigoPostal" use="optional">
            <xs:annotation>
                <xs:documentation>Atributo opcional que sirve para asentar el código postal en donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>
    <xs:complexType name="t_UbicacionFiscal">
        <xs:annotation>
            <xs:documentation>Tipo definido para expresar domicilios o direcciones</xs:documentation>
        </xs:annotation>
        <xs:attribute name="calle" use="required">
            <xs:annotation>
                <xs:documentation>Este atributo requerido sirve para precisar la avenida, calle, camino o carretera donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="noExterior" use="optional">
            <xs:annotation>
                <xs:documentation>Este atributo opcional sirve para expresar el número particular en donde se da la ubicación sobre una calle dada.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="noInterior" use="optional">
            <xs:annotation>
                <xs:documentation>Este atributo opcional sirve para expresar información adicional para especificar la ubicación cuando calle y número exterior (noExterior) no resulten suficientes para determinar la ubicación de forma precisa.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="colonia" use="optional">
            <xs:annotation>
                <xs:documentation>Este atributo opcional sirve para precisar la colonia en donde se da la ubicación cuando se desea ser más específico en casos de ubicaciones urbanas.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="localidad" use="optional">
            <xs:annotation>
                <xs:documentation>Atributo opcional que sirve para precisar la ciudad o población donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="referencia" use="optional">
            <xs:annotation>
                <xs:documentation>Atributo opcional para expresar una referencia de ubicación adicional.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:whiteSpace value="collapse"/>
                    <xs:minLength value="1"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="municipio" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido que sirve para precisar el municipio o delegación (en el caso del Distrito Federal) en donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="estado" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido que sirve para precisar el estado o entidad federativa donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="pais" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido que sirve para precisar el país donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="codigoPostal" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido que sirve para asentar el código postal en donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:whiteSpace value="collapse"/>
                    <xs:length value="5"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>
    <xs:simpleType name="t_RFC">
        <xs:annotation>
            <xs:documentation>Tipo definido para expresar claves del Registro Federal de Contribuyentes</xs:documentation>
        </xs:annotation>
        <xs:restriction base="xs:string">
            <xs:minLength value="12"/>
            <xs:maxLength value="13"/>
            <xs:whiteSpace value="collapse"/>
        </xs:restriction>
    </xs:simpleType>
    <xs:simpleType name="t_Importe">
        <xs:annotation>
            <xs:documentation>Tipo definido para expresar importes numéricos con fracción a dos decimales</xs:documentation>
        </xs:annotation>
        <xs:restriction base="xs:decimal">
            <xs:fractionDigits value="2"/>
            <xs:whiteSpace value="collapse"/>
        </xs:restriction>
    </xs:simpleType>
    <xs:complexType name="t_InformacionAduanera">
        <xs:annotation>
            <xs:documentation>Tipo definido para expresar información aduanera</xs:documentation>
        </xs:annotation>
        <xs:attribute name="numero" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido para expresar el número del documento aduanero que ampara la importación del bien.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="fecha" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido para expresar la fecha de expedición del documento aduanero que ampara la importación del bien.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="aduana" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido para precisar la aduana por la que se efectuó la importación del bien.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>
</xs:schema>
'
IF NOT EXISTS(SELECT * FROM eDocXSD WHERE Modulo = 'VTAS' AND Clave = 'CoppelR.01') 
--<!-- edited with XMLSpy v2005 rel. 3 U (http://www.altova.com) by bg (bg) -->
INSERT INTO eDocXSD (Modulo, Clave, XSD) SELECT 'VTAS', 'CoppelR.01',
'
<xs:schema xmlns="http://www.sat.gob.mx/cfd/2" targetNamespace="http://www.sat.gob.mx/cfd/2" xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" attributeFormDefault="unqualified">
    <xs:element name="Comprobante">
        <xs:annotation>
            <xs:documentation>Estándar para la expresión de comprobantes fiscales digitales.</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element name="Emisor">
                    <xs:annotation>
                        <xs:documentation>Nodo requerido para expresar la información del contribuyente emisor del comprobante.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="DomicilioFiscal" type="t_UbicacionFiscal">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido para precisar la información de ubicación del domicilio fiscal del contribuyente emisor</xs:documentation>
                                </xs:annotation>
                            </xs:element>
                            <xs:element name="ExpedidoEn" type="t_Ubicacion" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional para precisar la información de ubicación del domicilio en donde es emitido el comprobante fiscal en caso de que sea distinto del domicilio fiscal del contribuyente emisor.</xs:documentation>
                                </xs:annotation>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="rfc" type="t_RFC" use="required">
                            <xs:annotation>
                                <xs:documentation>Atributo requerido para la Clave del Registro Federal de Contribuyentes correspondiente al contribuyente emisor del comprobante sin guiones o espacios.</xs:documentation>
                            </xs:annotation>
                        </xs:attribute>
                        <xs:attribute name="nombre" use="required">
                            <xs:annotation>
                                <xs:documentation>Atributo requerido para el nombre o razón social del contribuyente emisor del comprobante.</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:string">
                                    <xs:minLength value="1"/>
                                    <xs:whiteSpace value="collapse"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
                <xs:element name="Receptor">
                    <xs:annotation>
                        <xs:documentation>Nodo requerido para precisar la información del contribuyente receptor del comprobante.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="Domicilio" type="t_Ubicacion">
                                <xs:annotation>
                                    <xs:documentation>Nodo para la definición de la ubicación donde se da el domicilio del receptor del comprobante fiscal.</xs:documentation>
                                </xs:annotation>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="rfc" type="t_RFC" use="required">
                            <xs:annotation>
                                <xs:documentation>Atributo requerido para precisar la Clave del Registro Federal de Contribuyentes correspondiente al contribuyente receptor del comprobante.</xs:documentation>
                            </xs:annotation>
                        </xs:attribute>
                        <xs:attribute name="nombre" use="optional">
                            <xs:annotation>
                                <xs:documentation>Atributo opcional para precisar el nombre o razón social del contribuyente receptor.</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:string">
                                    <xs:minLength value="1"/>
                                    <xs:whiteSpace value="collapse"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
                <xs:element name="Conceptos">
                    <xs:annotation>
                        <xs:documentation>Nodo requerido para enlistar los conceptos cubiertos por el comprobante.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="Concepto" maxOccurs="unbounded">
                                <xs:annotation>
                                    <xs:documentation>Nodo para introducir la información detallada de un bien o servicio amparado en el comprobante.</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:choice minOccurs="0">
                                        <xs:element name="InformacionAduanera" type="t_InformacionAduanera" minOccurs="0" maxOccurs="unbounded">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional para introducir la información aduanera aplicable cuando se trate de ventas de primera mano de mercancías importadas.</xs:documentation>
                                            </xs:annotation>
                                        </xs:element>
                                        <xs:element name="CuentaPredial" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional para asentar el número de cuenta predial con el que fue registrado el inmueble, en el sistema catastral de la entidad federativa de que trate.</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:attribute name="numero" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para precisar el número de la cuenta predial del inmueble cubierto por el presente concepto en caso de recibos de arrendamiento.</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:whiteSpace value="collapse"/>
                                                            <xs:minLength value="1"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="ComplementoConcepto" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional donde se incluirán los nodos complementarios de extensión al concepto, definidos por el SAT, de acuerdo a disposiciones particulares a un sector o actividad especifica.</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:any minOccurs="0" maxOccurs="unbounded"/>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="Parte" minOccurs="0" maxOccurs="unbounded">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional para expresar las partes o componentes que integran la totalidad del concepto expresado en el comprobante fiscal digital</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="InformacionAduanera" type="t_InformacionAduanera" minOccurs="0" maxOccurs="unbounded">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo opcional para introducir la información aduanera aplicable cuando se trate de partes o componentes importados vendidos de primera mano.</xs:documentation>
                                                        </xs:annotation>
                                                    </xs:element>
                                                </xs:sequence>
                                                <xs:attribute name="cantidad" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para precisar la cantidad de bienes o servicios del tipo particular definido por la presente parte.</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:decimal">
                                                            <xs:whiteSpace value="collapse"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="unidad" use="optional">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo opcional para precisar la unidad de medida aplicable para la cantidad expresada en la parte.</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:whiteSpace value="collapse"/>
                                                            <xs:minLength value="1"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="noIdentificacion" use="optional">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo opcional para expresar el número de serie del bien o identificador del servicio amparado por la presente parte.</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:minLength value="1"/>
                                                            <xs:whiteSpace value="collapse"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="descripcion" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para precisar la descripción del bien o servicio cubierto por la presente parte.</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:minLength value="1"/>
                                                            <xs:whiteSpace value="collapse"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="valorUnitario" type="t_Importe" use="optional">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo opcional para precisar el valor o precio unitario del bien o servicio cubierto por la presente parte.</xs:documentation>
                                                    </xs:annotation>
                                                </xs:attribute>
                                                <xs:attribute name="importe" type="t_Importe" use="optional">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo opcional para precisar el importe total de los bienes o servicios de la presente parte. Debe ser equivalente al resultado de multiplicar la cantidad por el valor unitario expresado en la parte.</xs:documentation>
                                                    </xs:annotation>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:choice>
                                    <xs:attribute name="cantidad" use="required">
                                        <xs:annotation>
                                            <xs:documentation>Atributo requerido para precisar la cantidad de bienes o servicios del tipo particular definido por el presente concepto.</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:decimal">
                                                <xs:whiteSpace value="collapse"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                    <xs:attribute name="unidad" use="optional">
                                        <xs:annotation>
                                            <xs:documentation>Atributo opcional para precisar la unidad de medida aplicable para la cantidad expresada en el concepto.</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:string">
                                                <xs:whiteSpace value="collapse"/>
                                                <xs:minLength value="1"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                    <xs:attribute name="noIdentificacion" use="optional">
                                        <xs:annotation>
                                            <xs:documentation>Atributo opcional para expresar el número de serie del bien o identificador del servicio amparado por el presente concepto.</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:string">
                                                <xs:minLength value="1"/>
                                                <xs:whiteSpace value="collapse"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                    <xs:attribute name="descripcion" use="required">
                                        <xs:annotation>
                                            <xs:documentation>Atributo requerido para precisar la descripción del bien o servicio cubierto por el presente concepto.</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:string">
                                                <xs:minLength value="1"/>
                                                <xs:whiteSpace value="collapse"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                    <xs:attribute name="valorUnitario" type="t_Importe" use="required">
                                        <xs:annotation>
                                            <xs:documentation>Atributo requerido para precisar el valor o precio unitario del bien o servicio cubierto por el presente concepto.</xs:documentation>
                                        </xs:annotation>
                                    </xs:attribute>
                                    <xs:attribute name="importe" type="t_Importe" use="required">
                                        <xs:annotation>
                                            <xs:documentation>Atributo requerido para precisar el importe total de los bienes o servicios del presente concepto. Debe ser equivalente al resultado de multiplicar la cantidad por el valor unitario expresado en el concepto.</xs:documentation>
                                        </xs:annotation>
                                    </xs:attribute>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="Impuestos">
                    <xs:annotation>
                        <xs:documentation>Nodo requerido para capturar los impuestos aplicables.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="Retenciones" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional para capturar los impuestos retenidos aplicables</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="Retencion" maxOccurs="unbounded">
                                            <xs:annotation>
                                                <xs:documentation>Nodo para la información detallada de una retención de impuesto específico</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:attribute name="impuesto" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para señalar el tipo de impuesto retenido</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:whiteSpace value="collapse"/>
                                                            <xs:enumeration value="ISR">
                                                                <xs:annotation>
                                                                    <xs:documentation>Impuesto sobre la renta</xs:documentation>
                                                                </xs:annotation>
                                                            </xs:enumeration>
                                                            <xs:enumeration value="IVA">
                                                                <xs:annotation>
                                                                    <xs:documentation>Impuesto al Valor Agregado</xs:documentation>
                                                                </xs:annotation>
                                                            </xs:enumeration>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="importe" type="t_Importe" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para señalar el importe o monto del impuesto retenido</xs:documentation>
                                                    </xs:annotation>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="Traslados" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional para asentar o referir los impuestos trasladados aplicables</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="Traslado" maxOccurs="unbounded">
                                            <xs:annotation>
                                                <xs:documentation>Nodo para la información detallada de un traslado de impuesto específico</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:attribute name="impuesto" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para señalar el tipo de impuesto trasladado</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:whiteSpace value="collapse"/>
                                                            <xs:enumeration value="IVA">
                                                                <xs:annotation>
                                                                    <xs:documentation>Impuesto al Valor Agregado</xs:documentation>
                                                                </xs:annotation>
                                                            </xs:enumeration>
                                                            <xs:enumeration value="IEPS">
                                                                <xs:annotation>
                                                                    <xs:documentation>Impuesto especial sobre productos y servicios</xs:documentation>
                                                                </xs:annotation>
                                                            </xs:enumeration>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="tasa" type="t_Importe" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para señalar la tasa del impuesto que se traslada por cada concepto amparado en el comprobante</xs:documentation>
                                                    </xs:annotation>
                                                </xs:attribute>
                                                <xs:attribute name="importe" type="t_Importe" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para señalar el importe del impuesto trasladado</xs:documentation>
                                                    </xs:annotation>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="totalImpuestosRetenidos" type="t_Importe" use="optional">
                            <xs:annotation>
                                <xs:documentation>Atributo opcional para expresar el total de los impuestos retenidos que se desprenden de los conceptos expresados en el comprobante fiscal digital.</xs:documentation>
                            </xs:annotation>
                        </xs:attribute>
                        <xs:attribute name="totalImpuestosTrasladados" type="t_Importe" use="optional">
                            <xs:annotation>
                                <xs:documentation>Atributo opcional para expresar el total de los impuestos trasladados que se desprenden de los conceptos expresados en el comprobante fiscal digital.</xs:documentation>
                            </xs:annotation>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
                <xs:element name="Complemento" minOccurs="0">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional donde se incluirán los nodos complementarios determinados por el SAT, de acuerdo a las disposiciones particulares a un sector o actividad especifica.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:any minOccurs="0" maxOccurs="unbounded"/>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="Addenda" minOccurs="0">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional para recibir las extensiones al presente formato que sean de utilidad al contribuyente. Para las reglas de uso del mismo, referirse al formato de origen.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="requestForPayment">
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="requestForPaymentIdentification">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="entityType">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:NMTOKEN">
                                                                <xs:enumeration value="INVOICE"/>
                                                                <xs:enumeration value="DEBIT_NOTE"/>
                                                                <xs:enumeration value="CREDIT_NOTE"/>
                                                                <xs:enumeration value="LEASE_RECEIPT"/>
                                                                <xs:enumeration value="HONORARY_RECEIPT"/>
                                                                <xs:enumeration value="PARTIAL_INVOICE"/>
                                                                <xs:enumeration value="TRANSPORT_DOCUMENT"/>
                                                                <xs:enumeration value="AUTO_INVOICE"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="uniqueCreatorIdentification">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:minLength value="1"/>
                                                                <xs:maxLength value="17"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="orderIdentification">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="referenceIdentification" maxOccurs="30">
                                                        <xs:complexType>
                                                            <xs:simpleContent>
                                                                <xs:extension base="xs:string">
                                                                    <xs:attribute name="type" use="required" fixed="ON">
                                                                        <xs:annotation>
                                                                            <xs:appinfo source="ON"/>
                                                                        </xs:annotation>
                                                                        <xs:simpleType>
                                                                            <xs:restriction base="xs:NMTOKEN">
                                                                                <xs:enumeration value="ON"/>
                                                                            </xs:restriction>
                                                                        </xs:simpleType>
                                                                    </xs:attribute>
                                                                </xs:extension>
                                                            </xs:simpleContent>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="ReferenceDate" type="xs:string" minOccurs="0"/>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="seller" minOccurs="0">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="gln">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:length value="13"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="alternatePartyIdentification">
                                                        <xs:complexType>
                                                            <xs:simpleContent>
                                                                <xs:extension base="xs:string">
                                                                    <xs:attribute name="type" use="required">
                                                                        <xs:simpleType>
                                                                            <xs:restriction base="xs:NMTOKEN">
                                                                                <xs:minLength value="1"/>
                                                                                <xs:maxLength value="40"/>
                                                                                <xs:enumeration value="SELLER_ASSIGNED_IDENTIFIER_FOR_A_PARTY"/>
                                                                                <xs:enumeration value="IEPS_REFERENCE"/>
                                                                            </xs:restriction>
                                                                        </xs:simpleType>
                                                                    </xs:attribute>
                                                                </xs:extension>
                                                            </xs:simpleContent>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="IndentificaTipoProv">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:length value="1"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="shipTo" minOccurs="0">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="gln" minOccurs="0">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:length value="13"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="nameAndAddress" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:sequence maxOccurs="unbounded">
                                                                <xs:element name="name" minOccurs="0">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="35"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="streetAddressOne" minOccurs="0">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="35"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="city" minOccurs="0">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="35"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="postalCode" minOccurs="0">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="9"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="bodegaEnt">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:integer"/>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="currency" minOccurs="0" maxOccurs="3">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="currencyFunction" maxOccurs="3">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:NMTOKEN">
                                                                <xs:maxLength value="16"/>
                                                                <xs:minLength value="1"/>
                                                                <xs:enumeration value="BILLING_CURRENCY"/>
                                                                <xs:enumeration value="PRICE_CURRENCY"/>
                                                                <xs:enumeration value="PAYMENT_CURRENCY"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="rateOfChange" type="xs:decimal" minOccurs="0"/>
                                                </xs:sequence>
                                                <xs:attribute name="currencyISOCode" use="required">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:NMTOKEN">
                                                            <xs:length value="3"/>
                                                            <xs:enumeration value="MXN"/>
                                                            <xs:enumeration value="XEU"/>
                                                            <xs:enumeration value="USD"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="TotalLotes">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="cantidad">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:integer">
                                                                <xs:fractionDigits value="0"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="lineItem" minOccurs="0" maxOccurs="9999999">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="tradeItemIdentification">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="gtin">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="14"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="alternateTradeItemIdentification" minOccurs="0" maxOccurs="999999">
                                                        <xs:complexType mixed="true">
                                                            <xs:simpleContent>
                                                                <xs:extension base="xs:string">
                                                                    <xs:attribute name="type" use="required">
                                                                        <xs:simpleType>
                                                                            <xs:restriction base="xs:NMTOKEN">
                                                                                <xs:minLength value="1"/>
                                                                                <xs:maxLength value="35"/>
                                                                                <xs:enumeration value="BUYER_ASSIGNED"/>
                                                                                <xs:enumeration value="SUPPLIER_ASSIGNED"/>
                                                                                <xs:enumeration value="SERIAL_NUMBER"/>
                                                                                <xs:enumeration value="GLOBAL_TRADE_ITEM_IDENTIFICATION"/>
                                                                            </xs:restriction>
                                                                        </xs:simpleType>
                                                                    </xs:attribute>
                                                                </xs:extension>
                                                            </xs:simpleContent>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="codigoTallaInternoCop">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="codigo">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:integer"/>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="talla" minOccurs="0">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:integer"/>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="tradeItemDescriptionInformation" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="longText">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="35"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                            <xs:attribute name="language" use="optional">
                                                                <xs:simpleType>
                                                                    <xs:restriction base="xs:NMTOKEN">
                                                                        <xs:length value="2"/>
                                                                        <xs:enumeration value="ES"/>
                                                                        <xs:enumeration value="EN"/>
                                                                    </xs:restriction>
                                                                </xs:simpleType>
                                                            </xs:attribute>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="invoicedQuantity">
                                                        <xs:complexType mixed="true">
                                                            <xs:simpleContent>
                                                                <xs:extension base="xs:decimal">
                                                                    <xs:attribute name="unitOfMeasure" type="xs:NMTOKEN" use="required"/>
                                                                </xs:extension>
                                                            </xs:simpleContent>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="aditionalQuantity" minOccurs="0" maxOccurs="9999">
                                                        <xs:complexType mixed="true">
                                                            <xs:simpleContent>
                                                                <xs:extension base="xs:decimal">
                                                                    <xs:attribute name="QuantityType" use="required">
                                                                        <xs:simpleType>
                                                                            <xs:restriction base="xs:NMTOKEN">
                                                                                <xs:minLength value="1"/>
                                                                                <xs:maxLength value="18"/>
                                                                                <xs:enumeration value="NUM_CONSUMER_UNITS"/>
                                                                                <xs:enumeration value="FREE_GOODS"/>
                                                                            </xs:restriction>
                                                                        </xs:simpleType>
                                                                    </xs:attribute>
                                                                </xs:extension>
                                                            </xs:simpleContent>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="grossPrice">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="Amount" type="xs:decimal"/>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="netPrice">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="Amount" type="xs:decimal"/>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="palletInformation" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:all>
                                                                <xs:element name="description">
                                                                    <xs:complexType mixed="true">
                                                                        <xs:simpleContent>
                                                                            <xs:extension base="xs:string">
                                                                                <xs:attribute name="type" use="required">
                                                                                    <xs:simpleType>
                                                                                        <xs:restriction base="xs:NMTOKEN">
                                                                                            <xs:maxLength value="35"/>
                                                                                            <xs:minLength value="1"/>
                                                                                            <xs:enumeration value="EXCHANGE_PALLETS"/>
                                                                                            <xs:enumeration value="RETURN_PALLETS"/>
                                                                                            <xs:enumeration value="PALLET_80x100"/>
                                                                                            <xs:enumeration value="CASE"/>
                                                                                            <xs:enumeration value="BOX"/>
                                                                                        </xs:restriction>
                                                                                    </xs:simpleType>
                                                                                </xs:attribute>
                                                                            </xs:extension>
                                                                        </xs:simpleContent>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                                <xs:element name="transport">
                                                                    <xs:complexType>
                                                                        <xs:sequence>
                                                                            <xs:element name="methodOfPayment">
                                                                                <xs:simpleType>
                                                                                    <xs:restriction base="xs:NMTOKEN">
                                                                                        <xs:maxLength value="17"/>
                                                                                        <xs:minLength value="1"/>
                                                                                        <xs:enumeration value="PREPAID_BY_SELLER"/>
                                                                                        <xs:enumeration value="PAID_BY_BUYER"/>
                                                                                    </xs:restriction>
                                                                                </xs:simpleType>
                                                                            </xs:element>
                                                                            <xs:element name="prepactCant">
                                                                                <xs:simpleType>
                                                                                    <xs:restriction base="xs:string">
                                                                                        <xs:maxLength value="4"/>
                                                                                        <xs:minLength value="1"/>
                                                                                    </xs:restriction>
                                                                                </xs:simpleType>
                                                                            </xs:element>
                                                                        </xs:sequence>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                            </xs:all>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="extendedAttributes" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="lotNumber" maxOccurs="10">
                                                                    <xs:complexType>
                                                                        <xs:simpleContent>
                                                                            <xs:extension base="xs:string">
                                                                                <xs:attribute name="productionDate" type="xs:string" use="optional"/>
                                                                            </xs:extension>
                                                                        </xs:simpleContent>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="allowanceCharge" minOccurs="0" maxOccurs="99">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="specialServicesType" minOccurs="0">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:NMTOKEN">
                                                                            <xs:maxLength value="3"/>
                                                                            <xs:minLength value="1"/>
                                                                            <xs:enumeration value="AA"/>
                                                                            <xs:enumeration value="ADS"/>
                                                                            <xs:enumeration value="ADO"/>
                                                                            <xs:enumeration value="ABZ"/>
                                                                            <xs:enumeration value="DA"/>
                                                                            <xs:enumeration value="EAA"/>
                                                                            <xs:enumeration value="PI"/>
                                                                            <xs:enumeration value="TAE"/>
                                                                            <xs:enumeration value="SAB"/>
                                                                            <xs:enumeration value="RAA"/>
                                                                            <xs:enumeration value="PAD"/>
                                                                            <xs:enumeration value="FG"/>
                                                                            <xs:enumeration value="FA"/>
                                                                            <xs:enumeration value="TD"/>
                                                                            <xs:enumeration value="TS"/>
                                                                            <xs:enumeration value="TX"/>
                                                                            <xs:enumeration value="ZZZ"/>
                                                                            <xs:enumeration value="VAB"/>
                                                                            <xs:enumeration value="UM"/>
                                                                            <xs:enumeration value="DI"/>
                                                                            <xs:enumeration value="ADT"/>
                                                                            <xs:enumeration value="AJ"/>
                                                                            <xs:enumeration value="CAC"/>
                                                                            <xs:enumeration value="COD"/>
                                                                            <xs:enumeration value="EAB"/>
                                                                            <xs:enumeration value="FC"/>
                                                                            <xs:enumeration value="FI"/>
                                                                            <xs:enumeration value="HD"/>
                                                                            <xs:enumeration value="QD"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="monetaryAmountOrPercentage">
                                                                    <xs:complexType>
                                                                        <xs:sequence>
                                                                            <xs:element name="percentagePerUnit">
                                                                                <xs:simpleType>
                                                                                    <xs:restriction base="xs:string">
                                                                                        <xs:minLength value="1"/>
                                                                                        <xs:maxLength value="5"/>
                                                                                    </xs:restriction>
                                                                                </xs:simpleType>
                                                                            </xs:element>
                                                                            <xs:element name="ratePerUnit" minOccurs="0">
                                                                                <xs:complexType>
                                                                                    <xs:sequence>
                                                                                        <xs:element name="amountPerUnit">
                                                                                            <xs:simpleType>
                                                                                                <xs:restriction base="xs:string">
                                                                                                    <xs:minLength value="1"/>
                                                                                                    <xs:maxLength value="5"/>
                                                                                                </xs:restriction>
                                                                                            </xs:simpleType>
                                                                                        </xs:element>
                                                                                    </xs:sequence>
                                                                                </xs:complexType>
                                                                            </xs:element>
                                                                        </xs:sequence>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                            <xs:attribute name="allowanceChargeType" use="required">
                                                                <xs:simpleType>
                                                                    <xs:restriction base="xs:NMTOKEN">
                                                                        <xs:minLength value="1"/>
                                                                        <xs:maxLength value="16"/>
                                                                        <xs:enumeration value="ALLOWANCE_GLOBAL"/>
                                                                        <xs:enumeration value="CHARGE_GLOBAL"/>
                                                                    </xs:restriction>
                                                                </xs:simpleType>
                                                            </xs:attribute>
                                                            <xs:attribute name="settlementType" use="optional">
                                                                <xs:simpleType>
                                                                    <xs:restriction base="xs:NMTOKEN">
                                                                        <xs:minLength value="1"/>
                                                                        <xs:maxLength value="29"/>
                                                                        <xs:enumeration value="OFF_INVOICE"/>
                                                                        <xs:enumeration value="CHARGE_TO_BE_PAID_BY_VENDOR"/>
                                                                        <xs:enumeration value="CHARGE_TO_BE_PAID_BY_CUSTOMER"/>
                                                                    </xs:restriction>
                                                                </xs:simpleType>
                                                            </xs:attribute>
                                                            <xs:attribute name="sequenceNumber" use="optional">
                                                                <xs:simpleType>
                                                                    <xs:restriction base="xs:string">
                                                                        <xs:minLength value="1"/>
                                                                        <xs:maxLength value="15"/>
                                                                    </xs:restriction>
                                                                </xs:simpleType>
                                                            </xs:attribute>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="totalLineAmount">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="grossAmount" minOccurs="0">
                                                                    <xs:complexType>
                                                                        <xs:sequence>
                                                                            <xs:element name="Amount" type="xs:decimal"/>
                                                                        </xs:sequence>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                                <xs:element name="netAmount">
                                                                    <xs:complexType>
                                                                        <xs:sequence>
                                                                            <xs:element name="Amount" type="xs:decimal"/>
                                                                        </xs:sequence>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                </xs:sequence>
                                                <xs:attribute name="type" use="optional" default="SimpleInvoiceLineItemType">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:minLength value="1"/>
                                                            <xs:maxLength value="32"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="number" use="optional">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:integer">
                                                            <xs:totalDigits value="5"/>
                                                            <xs:fractionDigits value="0"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="totalAmount" minOccurs="0">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="Amount" type="xs:decimal"/>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="TotalAllowanceCharge" maxOccurs="999999">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="specialServicesType">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:NMTOKEN">
                                                                <xs:minLength value="1"/>
                                                                <xs:maxLength value="3"/>
                                                                <xs:enumeration value="AA"/>
                                                                <xs:enumeration value="ADS"/>
                                                                <xs:enumeration value="ADO"/>
                                                                <xs:enumeration value="ABZ"/>
                                                                <xs:enumeration value="DA"/>
                                                                <xs:enumeration value="EAA"/>
                                                                <xs:enumeration value="PI"/>
                                                                <xs:enumeration value="TAE"/>
                                                                <xs:enumeration value="SAB"/>
                                                                <xs:enumeration value="RAA"/>
                                                                <xs:enumeration value="PAD"/>
                                                                <xs:enumeration value="FG"/>
                                                                <xs:enumeration value="FA"/>
                                                                <xs:enumeration value="TD"/>
                                                                <xs:enumeration value="TS"/>
                                                                <xs:enumeration value="TX"/>
                                                                <xs:enumeration value="ZZZ"/>
                                                                <xs:enumeration value="VAB"/>
                                                                <xs:enumeration value="UM"/>
                                                                <xs:enumeration value="DI"/>
                                                                <xs:enumeration value="ADT"/>
                                                                <xs:enumeration value="AJ"/>
                                                                <xs:enumeration value="CAC"/>
                                                                <xs:enumeration value="COD"/>
                                                                <xs:enumeration value="EAB"/>
                                                                <xs:enumeration value="FC"/>
                                                                <xs:enumeration value="FI"/>
                                                                <xs:enumeration value="HD"/>
                                                                <xs:enumeration value="QD"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="Amount" type="xs:decimal"/>
                                                </xs:sequence>
                                                <xs:attribute name="allowanceOrChargeType" use="required">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:NMTOKEN">
                                                            <xs:minLength value="1"/>
                                                            <xs:maxLength value="9"/>
                                                            <xs:enumeration value="ALLOWANCE"/>
                                                            <xs:enumeration value="CHARGE"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="baseAmount">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="Amount" type="xs:decimal"/>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="tax" maxOccurs="99">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="taxPercentage" type="xs:decimal"/>
                                                    <xs:element name="taxAmount" type="xs:decimal"/>
                                                    <xs:element name="taxCategory" minOccurs="0">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:NMTOKEN">
                                                                <xs:minLength value="0"/>
                                                                <xs:maxLength value="11"/>
                                                                <xs:enumeration value="TRANSFERIDO"/>
                                                                <xs:enumeration value="RETENIDO"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                </xs:sequence>
                                                <xs:attribute name="type" use="optional">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:NMTOKEN">
                                                            <xs:length value="3"/>
                                                            <xs:enumeration value="GST"/>
                                                            <xs:enumeration value="VAT"/>
                                                            <xs:enumeration value="LAC"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="payableAmount">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="Amount" type="xs:decimal"/>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="cadenaOriginal">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="Cadena" type="xs:string"/>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                    <xs:attribute name="type" type="xs:string" use="optional" default="SimpleInvoiceType"/>
                                    <xs:attribute name="contentVersion" type="xs:string" use="optional" default="1.0"/>
                                    <xs:attribute name="documentStructureVersion" type="xs:string" use="optional" default="CPLR1.0"/>
                                    <xs:attribute name="documentStatus" use="required">
                                        <xs:simpleType>
                                            <xs:restriction base="xs:NMTOKEN">
                                                <xs:enumeration value="ORIGINAL"/>
                                                <xs:enumeration value="COPY"/>
                                                <xs:enumeration value="REEMPLAZA"/>
                                                <xs:enumeration value="DELETE"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                    <xs:attribute name="DeliveryDate" type="xs:string" use="optional"/>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
            </xs:sequence>
            <xs:attribute name="version" use="required" fixed="2.0">
                <xs:annotation>
                    <xs:documentation>Atributo requerido con valor prefijado a 2.0 que indica la versión del estándar bajo el que se encuentra expresado el comprobante.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="serie" use="optional">
                <xs:annotation>
                    <xs:documentation>Atributo opcional para precisar la serie a la que corresponde el comprobante. Este atributo acepta una cadena de caracteres alfabéticos de 1 a 10 caracteres sin incluir caracteres acentuados.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:minLength value="1"/>
                        <xs:maxLength value="10"/>
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="folio" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido que acepta un valor numérico entero superior a 0 que expresa el folio del comprobante.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:minLength value="1"/>
                        <xs:maxLength value="20"/>
                        <xs:whiteSpace value="collapse"/>
                        <xs:pattern value="[0-9]+"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="fecha" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para la expresión de la fecha y hora de expedición  del comprobante fiscal. Se expresa en la forma aaaa-mm-ddThh:mm:ss, de acuerdo con la especificación ISO 8601.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="sello" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para contener el sello digital del comprobante fiscal, al que hacen referencia las reglas de resolución miscelánea aplicable. El sello deberá ser expresado cómo una cadena de texto en formato Base 64.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="noAprobacion" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para precisar el número de aprobación emitido por el SAT, para el rango de folios al que pertenece el folio particular que ampara el comprobante fiscal digital.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:integer">
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="anoAprobacion" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para precisar el año en que se solicito el folio que se están utilizando para emitir el comprobante fiscal digital.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:integer">
                        <xs:whiteSpace value="collapse"/>
                        <xs:totalDigits value="4"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="formaDePago" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para precisar la forma de pago que aplica para este comprobante fiscal digital. Se utiliza para expresar Pago en una sola exhibición o número de parcialidad pagada contra el total de parcialidades, Parcialidad 1 de X. </xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="noCertificado" use="required">
                <xs:annotation>
                    <xs:documentation> Atributo requerido para expresar el número de serie del certificado de sello digital que ampara al comprobante, de acuerdo al acuse correspondiente a 20 posiciones otorgado por el sistema del SAT.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="certificado" use="optional">
                <xs:annotation>
                    <xs:documentation>Atributo opcional que sirve para expresar el certificado de sello digital que ampara al comprobante como texto, en formato base 64.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="condicionesDePago" use="optional">
                <xs:annotation>
                    <xs:documentation>Atributo opcional para expresar las condiciones comerciales aplicables para el pago del comprobante fiscal digital.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:whiteSpace value="collapse"/>
                        <xs:minLength value="1"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="subTotal" type="t_Importe" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para representar la suma de los importes antes de descuentos e impuestos.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="descuento" type="t_Importe" use="optional">
                <xs:annotation>
                    <xs:documentation>Atributo opcional para representar el importe total de los descuentos aplicables antes de impuestos.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="motivoDescuento" use="optional">
                <xs:annotation>
                    <xs:documentation>Atributo opcional para expresar el motivo del descuento aplicable.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:minLength value="1"/>
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="total" type="t_Importe" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para representar la suma del subtotal, menos los descuentos aplicables, más los impuestos trasladados, menos los impuestos retenidos.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="metodoDePago" use="optional">
                <xs:annotation>
                    <xs:documentation>Atributo opcional de texto libre para expresar el método de pago de los bienes o servicios amparados por el comprobante. Se entiende como método de pago leyendas tales como: cheque, tarjeta de crédito o debito, depósito en cuenta, etc.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:minLength value="1"/>
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="tipoDeComprobante" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para expresar el efecto del comprobante fiscal para el contribuyente emisor.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="ingreso"/>
                        <xs:enumeration value="egreso"/>
                        <xs:enumeration value="traslado"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
        </xs:complexType>
    </xs:element>
    <xs:complexType name="t_Ubicacion">
        <xs:annotation>
            <xs:documentation>Tipo definido para expresar domicilios o direcciones</xs:documentation>
        </xs:annotation>
        <xs:attribute name="calle" use="optional">
            <xs:annotation>
                <xs:documentation>Este atributo opcional sirve para precisar la avenida, calle, camino o carretera donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="noExterior" use="optional">
            <xs:annotation>
                <xs:documentation>Este atributo opcional sirve para expresar el número particular en donde se da la ubicación sobre una calle dada.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="noInterior" use="optional">
            <xs:annotation>
                <xs:documentation>Este atributo opcional sirve para expresar información adicional para especificar la ubicación cuando calle y número exterior (noExterior) no resulten suficientes para determinar la ubicación de forma precisa.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="colonia" use="optional">
            <xs:annotation>
                <xs:documentation>Este atributo opcional sirve para precisar la colonia en donde se da la ubicación cuando se desea ser más específico en casos de ubicaciones urbanas.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="localidad" use="optional">
            <xs:annotation>
                <xs:documentation>Atributo opcional que sirve para precisar la ciudad o población donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="referencia" use="optional">
            <xs:annotation>
                <xs:documentation>Atributo opcional para expresar una referencia de ubicación adicional.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="municipio" use="optional">
            <xs:annotation>
                <xs:documentation>Atributo opcional que sirve para precisar el municipio o delegación (en el caso del Distrito Federal) en donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="estado" use="optional">
            <xs:annotation>
                <xs:documentation>Atributo opcional que sirve para precisar el estado o entidad federativa donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="pais" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido que sirve para precisar el país donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="codigoPostal" use="optional">
            <xs:annotation>
                <xs:documentation>Atributo opcional que sirve para asentar el código postal en donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>
    <xs:complexType name="t_UbicacionFiscal">
        <xs:annotation>
            <xs:documentation>Tipo definido para expresar domicilios o direcciones</xs:documentation>
        </xs:annotation>
        <xs:attribute name="calle" use="required">
            <xs:annotation>
                <xs:documentation>Este atributo requerido sirve para precisar la avenida, calle, camino o carretera donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="noExterior" use="optional">
            <xs:annotation>
                <xs:documentation>Este atributo opcional sirve para expresar el número particular en donde se da la ubicación sobre una calle dada.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="noInterior" use="optional">
            <xs:annotation>
                <xs:documentation>Este atributo opcional sirve para expresar información adicional para especificar la ubicación cuando calle y número exterior (noExterior) no resulten suficientes para determinar la ubicación de forma precisa.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="colonia" use="optional">
            <xs:annotation>
                <xs:documentation>Este atributo opcional sirve para precisar la colonia en donde se da la ubicación cuando se desea ser más específico en casos de ubicaciones urbanas.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="localidad" use="optional">
            <xs:annotation>
                <xs:documentation>Atributo opcional que sirve para precisar la ciudad o población donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="referencia" use="optional">
            <xs:annotation>
                <xs:documentation>Atributo opcional para expresar una referencia de ubicación adicional.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:whiteSpace value="collapse"/>
                    <xs:minLength value="1"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="municipio" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido que sirve para precisar el municipio o delegación (en el caso del Distrito Federal) en donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="estado" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido que sirve para precisar el estado o entidad federativa donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="pais" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido que sirve para precisar el país donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="codigoPostal" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido que sirve para asentar el código postal en donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:whiteSpace value="collapse"/>
                    <xs:length value="5"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>
    <xs:simpleType name="t_RFC">
        <xs:annotation>
            <xs:documentation>Tipo definido para expresar claves del Registro Federal de Contribuyentes</xs:documentation>
        </xs:annotation>
        <xs:restriction base="xs:string">
            <xs:minLength value="12"/>
            <xs:maxLength value="13"/>
            <xs:whiteSpace value="collapse"/>
        </xs:restriction>
    </xs:simpleType>
    <xs:simpleType name="t_Importe">
        <xs:annotation>
            <xs:documentation>Tipo definido para expresar importes numéricos con fracción a dos decimales</xs:documentation>
        </xs:annotation>
        <xs:restriction base="xs:decimal">
            <xs:fractionDigits value="2"/>
            <xs:whiteSpace value="collapse"/>
        </xs:restriction>
    </xs:simpleType>
    <xs:complexType name="t_InformacionAduanera">
        <xs:annotation>
            <xs:documentation>Tipo definido para expresar información aduanera</xs:documentation>
        </xs:annotation>
        <xs:attribute name="numero" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido para expresar el número del documento aduanero que ampara la importación del bien.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="fecha" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido para expresar la fecha de expedición del documento aduanero que ampara la importación del bien.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="aduana" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido para precisar la aduana por la que se efectuó la importación del bien.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>
</xs:schema>'

IF NOT EXISTS(SELECT * FROM eDocXSD WHERE Modulo = 'VTAS' AND Clave = 'CoppelM.01') 
--<!-- edited with XMLSpy v2005 rel. 3 U (http://www.altova.com) by bg (bg) -->
INSERT INTO eDocXSD (Modulo, Clave, XSD) SELECT 'VTAS', 'CoppelM.01',
'
<xs:schema xmlns="http://www.sat.gob.mx/cfd/2" targetNamespace="http://www.sat.gob.mx/cfd/2" xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" attributeFormDefault="unqualified">
    <xs:element name="Comprobante">
        <xs:annotation>
            <xs:documentation>Estándar para la expresión de comprobantes fiscales digitales.</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element name="Emisor">
                    <xs:annotation>
                        <xs:documentation>Nodo requerido para expresar la información del contribuyente emisor del comprobante.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="DomicilioFiscal" type="t_UbicacionFiscal">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido para precisar la información de ubicación del domicilio fiscal del contribuyente emisor</xs:documentation>
                                </xs:annotation>
                            </xs:element>
                            <xs:element name="ExpedidoEn" type="t_Ubicacion" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional para precisar la información de ubicación del domicilio en donde es emitido el comprobante fiscal en caso de que sea distinto del domicilio fiscal del contribuyente emisor.</xs:documentation>
                                </xs:annotation>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="rfc" type="t_RFC" use="required">
                            <xs:annotation>
                                <xs:documentation>Atributo requerido para la Clave del Registro Federal de Contribuyentes correspondiente al contribuyente emisor del comprobante sin guiones o espacios.</xs:documentation>
                            </xs:annotation>
                        </xs:attribute>
                        <xs:attribute name="nombre" use="required">
                            <xs:annotation>
                                <xs:documentation>Atributo requerido para el nombre o razón social del contribuyente emisor del comprobante.</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:string">
                                    <xs:minLength value="1"/>
                                    <xs:whiteSpace value="collapse"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
                <xs:element name="Receptor">
                    <xs:annotation>
                        <xs:documentation>Nodo requerido para precisar la información del contribuyente receptor del comprobante.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="Domicilio" type="t_Ubicacion">
                                <xs:annotation>
                                    <xs:documentation>Nodo para la definición de la ubicación donde se da el domicilio del receptor del comprobante fiscal.</xs:documentation>
                                </xs:annotation>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="rfc" type="t_RFC" use="required">
                            <xs:annotation>
                                <xs:documentation>Atributo requerido para precisar la Clave del Registro Federal de Contribuyentes correspondiente al contribuyente receptor del comprobante.</xs:documentation>
                            </xs:annotation>
                        </xs:attribute>
                        <xs:attribute name="nombre" use="optional">
                            <xs:annotation>
                                <xs:documentation>Atributo opcional para precisar el nombre o razón social del contribuyente receptor.</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:string">
                                    <xs:minLength value="1"/>
                                    <xs:whiteSpace value="collapse"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
                <xs:element name="Conceptos">
                    <xs:annotation>
                        <xs:documentation>Nodo requerido para enlistar los conceptos cubiertos por el comprobante.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="Concepto" maxOccurs="unbounded">
                                <xs:annotation>
                                    <xs:documentation>Nodo para introducir la información detallada de un bien o servicio amparado en el comprobante.</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:choice minOccurs="0">
                                        <xs:element name="InformacionAduanera" type="t_InformacionAduanera" minOccurs="0" maxOccurs="unbounded">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional para introducir la información aduanera aplicable cuando se trate de ventas de primera mano de mercancías importadas.</xs:documentation>
                                            </xs:annotation>
                                        </xs:element>
                                        <xs:element name="CuentaPredial" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional para asentar el número de cuenta predial con el que fue registrado el inmueble, en el sistema catastral de la entidad federativa de que trate.</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:attribute name="numero" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para precisar el número de la cuenta predial del inmueble cubierto por el presente concepto en caso de recibos de arrendamiento.</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:whiteSpace value="collapse"/>
                                                            <xs:minLength value="1"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="ComplementoConcepto" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional donde se incluirán los nodos complementarios de extensión al concepto, definidos por el SAT, de acuerdo a disposiciones particulares a un sector o actividad especifica.</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:any minOccurs="0" maxOccurs="unbounded"/>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="Parte" minOccurs="0" maxOccurs="unbounded">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional para expresar las partes o componentes que integran la totalidad del concepto expresado en el comprobante fiscal digital</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="InformacionAduanera" type="t_InformacionAduanera" minOccurs="0" maxOccurs="unbounded">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo opcional para introducir la información aduanera aplicable cuando se trate de partes o componentes importados vendidos de primera mano.</xs:documentation>
                                                        </xs:annotation>
                                                    </xs:element>
                                                </xs:sequence>
                                                <xs:attribute name="cantidad" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para precisar la cantidad de bienes o servicios del tipo particular definido por la presente parte.</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:decimal">
                                                            <xs:whiteSpace value="collapse"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="unidad" use="optional">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo opcional para precisar la unidad de medida aplicable para la cantidad expresada en la parte.</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:whiteSpace value="collapse"/>
                                                            <xs:minLength value="1"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="noIdentificacion" use="optional">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo opcional para expresar el número de serie del bien o identificador del servicio amparado por la presente parte.</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:minLength value="1"/>
                                                            <xs:whiteSpace value="collapse"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="descripcion" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para precisar la descripción del bien o servicio cubierto por la presente parte.</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:minLength value="1"/>
                                                            <xs:whiteSpace value="collapse"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="valorUnitario" type="t_Importe" use="optional">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo opcional para precisar el valor o precio unitario del bien o servicio cubierto por la presente parte.</xs:documentation>
                                                    </xs:annotation>
                                                </xs:attribute>
                                                <xs:attribute name="importe" type="t_Importe" use="optional">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo opcional para precisar el importe total de los bienes o servicios de la presente parte. Debe ser equivalente al resultado de multiplicar la cantidad por el valor unitario expresado en la parte.</xs:documentation>
                                                    </xs:annotation>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:choice>
                                    <xs:attribute name="cantidad" use="required">
                                        <xs:annotation>
                                            <xs:documentation>Atributo requerido para precisar la cantidad de bienes o servicios del tipo particular definido por el presente concepto.</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:decimal">
                                                <xs:whiteSpace value="collapse"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                    <xs:attribute name="unidad" use="optional">
                                        <xs:annotation>
                                            <xs:documentation>Atributo opcional para precisar la unidad de medida aplicable para la cantidad expresada en el concepto.</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:string">
                                                <xs:whiteSpace value="collapse"/>
                                                <xs:minLength value="1"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                    <xs:attribute name="noIdentificacion" use="optional">
                                        <xs:annotation>
                                            <xs:documentation>Atributo opcional para expresar el número de serie del bien o identificador del servicio amparado por el presente concepto.</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:string">
                                                <xs:minLength value="1"/>
                                                <xs:whiteSpace value="collapse"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                    <xs:attribute name="descripcion" use="required">
                                        <xs:annotation>
                                            <xs:documentation>Atributo requerido para precisar la descripción del bien o servicio cubierto por el presente concepto.</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:string">
                                                <xs:minLength value="1"/>
                                                <xs:whiteSpace value="collapse"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                    <xs:attribute name="valorUnitario" type="t_Importe" use="required">
                                        <xs:annotation>
                                            <xs:documentation>Atributo requerido para precisar el valor o precio unitario del bien o servicio cubierto por el presente concepto.</xs:documentation>
                                        </xs:annotation>
                                    </xs:attribute>
                                    <xs:attribute name="importe" type="t_Importe" use="required">
                                        <xs:annotation>
                                            <xs:documentation>Atributo requerido para precisar el importe total de los bienes o servicios del presente concepto. Debe ser equivalente al resultado de multiplicar la cantidad por el valor unitario expresado en el concepto.</xs:documentation>
                                        </xs:annotation>
                                    </xs:attribute>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="Impuestos">
                    <xs:annotation>
                        <xs:documentation>Nodo requerido para capturar los impuestos aplicables.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="Retenciones" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional para capturar los impuestos retenidos aplicables</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="Retencion" maxOccurs="unbounded">
                                            <xs:annotation>
                                                <xs:documentation>Nodo para la información detallada de una retención de impuesto específico</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:attribute name="impuesto" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para señalar el tipo de impuesto retenido</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:whiteSpace value="collapse"/>
                                                            <xs:enumeration value="ISR">
                                                                <xs:annotation>
                                                                    <xs:documentation>Impuesto sobre la renta</xs:documentation>
                                                                </xs:annotation>
                                                            </xs:enumeration>
                                                            <xs:enumeration value="IVA">
                                                                <xs:annotation>
                                                                    <xs:documentation>Impuesto al Valor Agregado</xs:documentation>
                                                                </xs:annotation>
                                                            </xs:enumeration>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="importe" type="t_Importe" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para señalar el importe o monto del impuesto retenido</xs:documentation>
                                                    </xs:annotation>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="Traslados" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional para asentar o referir los impuestos trasladados aplicables</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="Traslado" maxOccurs="unbounded">
                                            <xs:annotation>
                                                <xs:documentation>Nodo para la información detallada de un traslado de impuesto específico</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:attribute name="impuesto" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para señalar el tipo de impuesto trasladado</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:whiteSpace value="collapse"/>
                                                            <xs:enumeration value="IVA">
                                                                <xs:annotation>
                                                                    <xs:documentation>Impuesto al Valor Agregado</xs:documentation>
                                                                </xs:annotation>
                                                            </xs:enumeration>
                                                            <xs:enumeration value="IEPS">
                                                                <xs:annotation>
                                                                    <xs:documentation>Impuesto especial sobre productos y servicios</xs:documentation>
                                                                </xs:annotation>
                                                            </xs:enumeration>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="tasa" type="t_Importe" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para señalar la tasa del impuesto que se traslada por cada concepto amparado en el comprobante</xs:documentation>
                                                    </xs:annotation>
                                                </xs:attribute>
                                                <xs:attribute name="importe" type="t_Importe" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo requerido para señalar el importe del impuesto trasladado</xs:documentation>
                                                    </xs:annotation>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="totalImpuestosRetenidos" type="t_Importe" use="optional">
                            <xs:annotation>
                                <xs:documentation>Atributo opcional para expresar el total de los impuestos retenidos que se desprenden de los conceptos expresados en el comprobante fiscal digital.</xs:documentation>
                            </xs:annotation>
                        </xs:attribute>
                        <xs:attribute name="totalImpuestosTrasladados" type="t_Importe" use="optional">
                            <xs:annotation>
                                <xs:documentation>Atributo opcional para expresar el total de los impuestos trasladados que se desprenden de los conceptos expresados en el comprobante fiscal digital.</xs:documentation>
                            </xs:annotation>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
                <xs:element name="Complemento" minOccurs="0">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional donde se incluirán los nodos complementarios determinados por el SAT, de acuerdo a las disposiciones particulares a un sector o actividad especifica.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:any minOccurs="0" maxOccurs="unbounded"/>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="Addenda" minOccurs="0">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional para recibir las extensiones al presente formato que sean de utilidad al contribuyente. Para las reglas de uso del mismo, referirse al formato de origen.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="requestForPayment">
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="requestForPaymentIdentification">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="entityType">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:NMTOKEN">
                                                                <xs:enumeration value="INVOICE"/>
                                                                <xs:enumeration value="DEBIT_NOTE"/>
                                                                <xs:enumeration value="CREDIT_NOTE"/>
                                                                <xs:enumeration value="LEASE_RECEIPT"/>
                                                                <xs:enumeration value="HONORARY_RECEIPT"/>
                                                                <xs:enumeration value="PARTIAL_INVOICE"/>
                                                                <xs:enumeration value="TRANSPORT_DOCUMENT"/>
                                                                <xs:enumeration value="AUTO_INVOICE"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="uniqueCreatorIdentification">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:minLength value="1"/>
                                                                <xs:maxLength value="17"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="orderIdentification">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="referenceIdentification" maxOccurs="30">
                                                        <xs:complexType>
                                                            <xs:simpleContent>
                                                                <xs:extension base="xs:string">
                                                                    <xs:attribute name="type" use="required" fixed="ON">
                                                                        <xs:annotation>
                                                                            <xs:appinfo source="ON"/>
                                                                        </xs:annotation>
                                                                        <xs:simpleType>
                                                                            <xs:restriction base="xs:NMTOKEN">
                                                                                <xs:enumeration value="ON"/>
                                                                            </xs:restriction>
                                                                        </xs:simpleType>
                                                                    </xs:attribute>
                                                                </xs:extension>
                                                            </xs:simpleContent>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="ReferenceDate" type="xs:string"/>
                                                    <xs:element name="FechaPromesaEnt" type="xs:string"/>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="seller" minOccurs="0">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="gln">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:length value="13"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="alternatePartyIdentification">
                                                        <xs:complexType>
                                                            <xs:simpleContent>
                                                                <xs:extension base="xs:string">
                                                                    <xs:attribute name="type" use="required">
                                                                        <xs:simpleType>
                                                                            <xs:restriction base="xs:NMTOKEN">
                                                                                <xs:minLength value="1"/>
                                                                                <xs:maxLength value="40"/>
                                                                                <xs:enumeration value="SELLER_ASSIGNED_IDENTIFIER_FOR_A_PARTY"/>
                                                                                <xs:enumeration value="IEPS_REFERENCE"/>
                                                                            </xs:restriction>
                                                                        </xs:simpleType>
                                                                    </xs:attribute>
                                                                </xs:extension>
                                                            </xs:simpleContent>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="IndentificaTipoProv">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:length value="1"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="shipTo">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="gln" minOccurs="0">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:length value="13"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="nameAndAddress" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:sequence maxOccurs="unbounded">
                                                                <xs:element name="name">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="35"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="streetAddressOne" minOccurs="0">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="35"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="city" minOccurs="0">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="35"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="postalCode" minOccurs="0">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="9"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="BodegaDestino">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:length value="5"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="BodegaReceptora">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:length value="5"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="RegionCel" minOccurs="0">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="Region" minOccurs="0">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:minLength value="1"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="Customs" minOccurs="0" maxOccurs="999999">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="alternatePartyIdentification">
                                                        <xs:complexType>
                                                            <xs:simpleContent>
                                                                <xs:extension base="xs:string">
                                                                    <xs:attribute name="type" use="required">
                                                                        <xs:simpleType>
                                                                            <xs:restriction base="xs:NMTOKEN">
                                                                                <xs:length value="2"/>
                                                                                <xs:enumeration value="TN"/>
                                                                            </xs:restriction>
                                                                        </xs:simpleType>
                                                                    </xs:attribute>
                                                                </xs:extension>
                                                            </xs:simpleContent>
                                                        </xs:complexType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="currency" maxOccurs="3">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="currencyFunction" maxOccurs="3">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:NMTOKEN">
                                                                <xs:maxLength value="16"/>
                                                                <xs:minLength value="1"/>
                                                                <xs:enumeration value="BILLING_CURRENCY"/>
                                                                <xs:enumeration value="PRICE_CURRENCY"/>
                                                                <xs:enumeration value="PAYMENT_CURRENCY"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="rateOfChange" type="xs:decimal" minOccurs="0"/>
                                                </xs:sequence>
                                                <xs:attribute name="currencyISOCode" use="required">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:NMTOKEN">
                                                            <xs:length value="3"/>
                                                            <xs:enumeration value="MXN"/>
                                                            <xs:enumeration value="XEU"/>
                                                            <xs:enumeration value="USD"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="CotizaOro" minOccurs="0">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="Amount" type="xs:decimal"/>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="FleteCaja">
                                            <xs:complexType>
                                                <xs:simpleContent>
                                                    <xs:extension base="xs:string">
                                                        <xs:attribute name="type" use="required">
                                                            <xs:simpleType>
                                                                <xs:restriction base="xs:NMTOKEN">
                                                                    <xs:minLength value="1"/>
                                                                    <xs:maxLength value="15"/>
                                                                    <xs:enumeration value="SELLER_PROVIDED"/>
                                                                    <xs:enumeration value="BUYER_PROVIDED"/>
                                                                </xs:restriction>
                                                            </xs:simpleType>
                                                        </xs:attribute>
                                                    </xs:extension>
                                                </xs:simpleContent>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="allowanceCharge" maxOccurs="99">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="specialServicesType">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:NMTOKEN">
                                                                <xs:minLength value="1"/>
                                                                <xs:maxLength value="6"/>
                                                                <xs:enumeration value="AA"/>
                                                                <xs:enumeration value="EAB"/>
                                                                <xs:enumeration value="DXDIST"/>
                                                                <xs:enumeration value="DXALM"/>
                                                                <xs:enumeration value="DXECEN"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="monetaryAmountOrPercentage">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="rate">
                                                                    <xs:complexType>
                                                                        <xs:sequence>
                                                                            <xs:element name="percentage" type="xs:decimal"/>
                                                                        </xs:sequence>
                                                                        <xs:attribute name="base" use="required">
                                                                            <xs:simpleType>
                                                                                <xs:restriction base="xs:NMTOKEN">
                                                                                    <xs:length value="13"/>
                                                                                    <xs:enumeration value="INVOICE_VALUE"/>
                                                                                </xs:restriction>
                                                                            </xs:simpleType>
                                                                        </xs:attribute>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                </xs:sequence>
                                                <xs:attribute name="allowanceChargeType" use="required">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:NMTOKEN">
                                                            <xs:minLength value="1"/>
                                                            <xs:maxLength value="16"/>
                                                            <xs:enumeration value="ALLOWANCE_GLOBAL"/>
                                                            <xs:enumeration value="CHARGE_GLOBAL"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="settlementType" use="required">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:NMTOKEN">
                                                            <xs:minLength value="1"/>
                                                            <xs:maxLength value="11"/>
                                                            <xs:enumeration value="BILL_BACK"/>
                                                            <xs:enumeration value="OFF_INVOICE"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="sequenceNumber" use="optional">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:minLength value="1"/>
                                                            <xs:maxLength value="15"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="lineItem" maxOccurs="9999999">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="tradeItemIdentification">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="gtin">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="14"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="alternateTradeItemIdentification" minOccurs="0" maxOccurs="999999">
                                                        <xs:complexType mixed="true">
                                                            <xs:simpleContent>
                                                                <xs:extension base="xs:string">
                                                                    <xs:attribute name="type" use="required">
                                                                        <xs:simpleType>
                                                                            <xs:restriction base="xs:NMTOKEN">
                                                                                <xs:minLength value="1"/>
                                                                                <xs:maxLength value="35"/>
                                                                                <xs:enumeration value="BUYER_ASSIGNED"/>
                                                                                <xs:enumeration value="SUPPLIER_ASSIGNED"/>
                                                                                <xs:enumeration value="SERIAL_NUMBER"/>
                                                                                <xs:enumeration value="GLOBAL_TRADE_ITEM_IDENTIFICATION"/>
                                                                            </xs:restriction>
                                                                        </xs:simpleType>
                                                                    </xs:attribute>
                                                                </xs:extension>
                                                            </xs:simpleContent>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="tradeItemDescriptionInformation">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="longText">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="35"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                            <xs:attribute name="language" use="optional">
                                                                <xs:simpleType>
                                                                    <xs:restriction base="xs:NMTOKEN">
                                                                        <xs:length value="2"/>
                                                                        <xs:enumeration value="ES"/>
                                                                        <xs:enumeration value="EN"/>
                                                                    </xs:restriction>
                                                                </xs:simpleType>
                                                            </xs:attribute>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="invoicedQuantity">
                                                        <xs:complexType mixed="true">
                                                            <xs:simpleContent>
                                                                <xs:extension base="xs:decimal">
                                                                    <xs:attribute name="unitOfMeasure" type="xs:NMTOKEN" use="required"/>
                                                                </xs:extension>
                                                            </xs:simpleContent>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="grossPrice">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="Amount" type="xs:decimal"/>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="netPrice">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="Amount" type="xs:decimal"/>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="modeloInformation">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="longText">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="50"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="extendedAttributes" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="lotNumber" maxOccurs="10">
                                                                    <xs:complexType>
                                                                        <xs:simpleContent>
                                                                            <xs:extension base="xs:string">
                                                                                <xs:attribute name="productionDate" type="xs:string" use="optional"/>
                                                                            </xs:extension>
                                                                        </xs:simpleContent>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="allowanceCharge" maxOccurs="99">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="specialServicesType">
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:NMTOKEN">
                                                                            <xs:maxLength value="3"/>
                                                                            <xs:minLength value="1"/>
                                                                            <xs:enumeration value="PAD"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                                <xs:element name="monetaryAmountOrPercentage">
                                                                    <xs:complexType>
                                                                        <xs:sequence>
                                                                            <xs:element name="percentagePerUnit">
                                                                                <xs:simpleType>
                                                                                    <xs:restriction base="xs:string">
                                                                                        <xs:minLength value="1"/>
                                                                                        <xs:maxLength value="5"/>
                                                                                    </xs:restriction>
                                                                                </xs:simpleType>
                                                                            </xs:element>
                                                                            <xs:element name="ratePerUnit" minOccurs="0">
                                                                                <xs:complexType>
                                                                                    <xs:sequence>
                                                                                        <xs:element name="amountPerUnit">
                                                                                            <xs:simpleType>
                                                                                                <xs:restriction base="xs:string">
                                                                                                    <xs:minLength value="1"/>
                                                                                                    <xs:maxLength value="5"/>
                                                                                                </xs:restriction>
                                                                                            </xs:simpleType>
                                                                                        </xs:element>
                                                                                    </xs:sequence>
                                                                                </xs:complexType>
                                                                            </xs:element>
                                                                        </xs:sequence>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                            <xs:attribute name="allowanceChargeType" use="required">
                                                                <xs:simpleType>
                                                                    <xs:restriction base="xs:NMTOKEN">
                                                                        <xs:minLength value="1"/>
                                                                        <xs:maxLength value="16"/>
                                                                        <xs:enumeration value="ALLOWANCE_GLOBAL"/>
                                                                        <xs:enumeration value="CHARGE_GLOBAL"/>
                                                                    </xs:restriction>
                                                                </xs:simpleType>
                                                            </xs:attribute>
                                                            <xs:attribute name="settlementType" use="optional">
                                                                <xs:simpleType>
                                                                    <xs:restriction base="xs:NMTOKEN">
                                                                        <xs:minLength value="1"/>
                                                                        <xs:maxLength value="29"/>
                                                                        <xs:enumeration value="OFF_INVOICE"/>
                                                                        <xs:enumeration value="CHARGE_TO_BE_PAID_BY_VENDOR"/>
                                                                        <xs:enumeration value="CHARGE_TO_BE_PAID_BY_CUSTOMER"/>
                                                                    </xs:restriction>
                                                                </xs:simpleType>
                                                            </xs:attribute>
                                                            <xs:attribute name="sequenceNumber" use="optional">
                                                                <xs:simpleType>
                                                                    <xs:restriction base="xs:string">
                                                                        <xs:minLength value="1"/>
                                                                        <xs:maxLength value="15"/>
                                                                    </xs:restriction>
                                                                </xs:simpleType>
                                                            </xs:attribute>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="totalLineAmount">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="grossAmount">
                                                                    <xs:complexType>
                                                                        <xs:sequence>
                                                                            <xs:element name="Amount" type="xs:decimal"/>
                                                                        </xs:sequence>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                                <xs:element name="netAmount">
                                                                    <xs:complexType>
                                                                        <xs:sequence>
                                                                            <xs:element name="Amount" type="xs:decimal"/>
                                                                        </xs:sequence>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="DetCaractsFisicas" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="Composicion">
                                                                    <xs:complexType>
                                                                        <xs:sequence>
                                                                            <xs:element name="Material">
                                                                                <xs:simpleType>
                                                                                    <xs:restriction base="xs:string">
                                                                                        <xs:minLength value="1"/>
                                                                                        <xs:maxLength value="50"/>
                                                                                    </xs:restriction>
                                                                                </xs:simpleType>
                                                                            </xs:element>
                                                                            <xs:element name="GrmRelleno" minOccurs="0">
                                                                                <xs:complexType mixed="true">
                                                                                    <xs:simpleContent>
                                                                                        <xs:extension base="xs:decimal">
                                                                                            <xs:attribute name="Udmedida" use="required">
                                                                                                <xs:simpleType>
                                                                                                    <xs:restriction base="xs:NMTOKEN">
                                                                                                        <xs:enumeration value="GRM"/>
                                                                                                    </xs:restriction>
                                                                                                </xs:simpleType>
                                                                                            </xs:attribute>
                                                                                        </xs:extension>
                                                                                    </xs:simpleContent>
                                                                                </xs:complexType>
                                                                            </xs:element>
                                                                        </xs:sequence>
                                                                    </xs:complexType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="Detjoyeria" minOccurs="0">
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="Kilataje" type="xs:decimal"/>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                    <xs:element name="Peso" minOccurs="0">
                                                        <xs:complexType mixed="true">
                                                            <xs:simpleContent>
                                                                <xs:extension base="xs:decimal">
                                                                    <xs:attribute name="Udmedida" use="required">
                                                                        <xs:simpleType>
                                                                            <xs:restriction base="xs:NMTOKEN">
                                                                                <xs:enumeration value="GRM"/>
                                                                            </xs:restriction>
                                                                        </xs:simpleType>
                                                                    </xs:attribute>
                                                                </xs:extension>
                                                            </xs:simpleContent>
                                                        </xs:complexType>
                                                    </xs:element>
                                                </xs:sequence>
                                                <xs:attribute name="type" use="optional" default="SimpleInvoiceLineItemType">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:string">
                                                            <xs:minLength value="1"/>
                                                            <xs:maxLength value="32"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                                <xs:attribute name="number" use="optional">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:integer">
                                                            <xs:totalDigits value="5"/>
                                                            <xs:fractionDigits value="0"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="totalCaractsFisicas" minOccurs="0">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="Peso" minOccurs="0">
                                                        <xs:complexType mixed="true">
                                                            <xs:simpleContent>
                                                                <xs:extension base="xs:decimal">
                                                                    <xs:attribute name="Udmedida" use="required">
                                                                        <xs:simpleType>
                                                                            <xs:restriction base="xs:NMTOKEN">
                                                                                <xs:enumeration value="GRM"/>
                                                                            </xs:restriction>
                                                                        </xs:simpleType>
                                                                    </xs:attribute>
                                                                </xs:extension>
                                                            </xs:simpleContent>
                                                        </xs:complexType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="totalAmount">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="Amount" type="xs:decimal"/>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="TotalAllowanceCharge" minOccurs="0" maxOccurs="999999">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="specialServicesType" minOccurs="0">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:NMTOKEN">
                                                                <xs:minLength value="1"/>
                                                                <xs:maxLength value="3"/>
                                                                <xs:enumeration value="AA"/>
                                                                <xs:enumeration value="ADS"/>
                                                                <xs:enumeration value="ADO"/>
                                                                <xs:enumeration value="ABZ"/>
                                                                <xs:enumeration value="DA"/>
                                                                <xs:enumeration value="EAA"/>
                                                                <xs:enumeration value="PI"/>
                                                                <xs:enumeration value="TAE"/>
                                                                <xs:enumeration value="SAB"/>
                                                                <xs:enumeration value="RAA"/>
                                                                <xs:enumeration value="PAD"/>
                                                                <xs:enumeration value="FG"/>
                                                                <xs:enumeration value="FA"/>
                                                                <xs:enumeration value="TD"/>
                                                                <xs:enumeration value="TS"/>
                                                                <xs:enumeration value="TX"/>
                                                                <xs:enumeration value="ZZZ"/>
                                                                <xs:enumeration value="VAB"/>
                                                                <xs:enumeration value="UM"/>
                                                                <xs:enumeration value="DI"/>
                                                                <xs:enumeration value="ADT"/>
                                                                <xs:enumeration value="AJ"/>
                                                                <xs:enumeration value="CAC"/>
                                                                <xs:enumeration value="COD"/>
                                                                <xs:enumeration value="EAB"/>
                                                                <xs:enumeration value="FC"/>
                                                                <xs:enumeration value="FI"/>
                                                                <xs:enumeration value="HD"/>
                                                                <xs:enumeration value="QD"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="Amount" type="xs:decimal" minOccurs="0"/>
                                                </xs:sequence>
                                                <xs:attribute name="allowanceOrChargeType" use="required">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:NMTOKEN">
                                                            <xs:minLength value="1"/>
                                                            <xs:maxLength value="9"/>
                                                            <xs:enumeration value="ALLOWANCE"/>
                                                            <xs:enumeration value="CHARGE"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="baseAmount">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="Amount" type="xs:decimal"/>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="tax" minOccurs="0" maxOccurs="99">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="taxPercentage" type="xs:decimal"/>
                                                    <xs:element name="taxAmount" type="xs:decimal"/>
                                                    <xs:element name="taxCategory">
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:NMTOKEN">
                                                                <xs:minLength value="0"/>
                                                                <xs:maxLength value="11"/>
                                                                <xs:enumeration value="TRANSFERIDO"/>
                                                                <xs:enumeration value="RETENIDO"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                </xs:sequence>
                                                <xs:attribute name="type" use="required">
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:NMTOKEN">
                                                            <xs:length value="3"/>
                                                            <xs:enumeration value="GST"/>
                                                            <xs:enumeration value="VAT"/>
                                                            <xs:enumeration value="LAC"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="payableAmount">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="Amount" type="xs:decimal"/>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="cadenaOriginal">
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="Cadena" type="xs:string"/>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                    <xs:attribute name="type" type="xs:string" use="optional" default="SimpleInvoiceType"/>
                                    <xs:attribute name="contentVersion" type="xs:string" use="optional" default="1.0"/>
                                    <xs:attribute name="documentStructureVersion" type="xs:string" use="optional" default="CPLM1.0"/>
                                    <xs:attribute name="documentStatus" use="required">
                                        <xs:simpleType>
                                            <xs:restriction base="xs:NMTOKEN">
                                                <xs:enumeration value="ORIGINAL"/>
                                                <xs:enumeration value="COPY"/>
                                                <xs:enumeration value="REEMPLAZA"/>
                                                <xs:enumeration value="DELETE"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                    <xs:attribute name="DeliveryDate" type="xs:string" use="optional"/>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
            </xs:sequence>
            <xs:attribute name="version" use="required" fixed="2.0">
                <xs:annotation>
                    <xs:documentation>Atributo requerido con valor prefijado a 2.0 que indica la versión del estándar bajo el que se encuentra expresado el comprobante.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="serie" use="optional">
                <xs:annotation>
                    <xs:documentation>Atributo opcional para precisar la serie a la que corresponde el comprobante. Este atributo acepta una cadena de caracteres alfabéticos de 1 a 10 caracteres sin incluir caracteres acentuados.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:minLength value="1"/>
                        <xs:maxLength value="10"/>
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="folio" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido que acepta un valor numérico entero superior a 0 que expresa el folio del comprobante.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:minLength value="1"/>
                        <xs:maxLength value="20"/>
                        <xs:whiteSpace value="collapse"/>
                        <xs:pattern value="[0-9]+"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="fecha" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para la expresión de la fecha y hora de expedición  del comprobante fiscal. Se expresa en la forma aaaa-mm-ddThh:mm:ss, de acuerdo con la especificación ISO 8601.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="sello" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para contener el sello digital del comprobante fiscal, al que hacen referencia las reglas de resolución miscelánea aplicable. El sello deberá ser expresado cómo una cadena de texto en formato Base 64.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="noAprobacion" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para precisar el número de aprobación emitido por el SAT, para el rango de folios al que pertenece el folio particular que ampara el comprobante fiscal digital.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:integer">
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="anoAprobacion" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para precisar el año en que se solicito el folio que se están utilizando para emitir el comprobante fiscal digital.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:integer">
                        <xs:whiteSpace value="collapse"/>
                        <xs:totalDigits value="4"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="formaDePago" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para precisar la forma de pago que aplica para este comprobante fiscal digital. Se utiliza para expresar Pago en una sola exhibición o número de parcialidad pagada contra el total de parcialidades, Parcialidad 1 de X. </xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="noCertificado" use="required">
                <xs:annotation>
                    <xs:documentation> Atributo requerido para expresar el número de serie del certificado de sello digital que ampara al comprobante, de acuerdo al acuse correspondiente a 20 posiciones otorgado por el sistema del SAT.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="certificado" use="optional">
                <xs:annotation>
                    <xs:documentation>Atributo opcional que sirve para expresar el certificado de sello digital que ampara al comprobante como texto, en formato base 64.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="condicionesDePago" use="optional">
                <xs:annotation>
                    <xs:documentation>Atributo opcional para expresar las condiciones comerciales aplicables para el pago del comprobante fiscal digital.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:whiteSpace value="collapse"/>
                        <xs:minLength value="1"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="subTotal" type="t_Importe" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para representar la suma de los importes antes de descuentos e impuestos.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="descuento" type="t_Importe" use="optional">
                <xs:annotation>
                    <xs:documentation>Atributo opcional para representar el importe total de los descuentos aplicables antes de impuestos.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="motivoDescuento" use="optional">
                <xs:annotation>
                    <xs:documentation>Atributo opcional para expresar el motivo del descuento aplicable.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:minLength value="1"/>
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="total" type="t_Importe" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para representar la suma del subtotal, menos los descuentos aplicables, más los impuestos trasladados, menos los impuestos retenidos.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="metodoDePago" use="optional">
                <xs:annotation>
                    <xs:documentation>Atributo opcional de texto libre para expresar el método de pago de los bienes o servicios amparados por el comprobante. Se entiende como método de pago leyendas tales como: cheque, tarjeta de crédito o debito, depósito en cuenta, etc.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:minLength value="1"/>
                        <xs:whiteSpace value="collapse"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="tipoDeComprobante" use="required">
                <xs:annotation>
                    <xs:documentation>Atributo requerido para expresar el efecto del comprobante fiscal para el contribuyente emisor.</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="ingreso"/>
                        <xs:enumeration value="egreso"/>
                        <xs:enumeration value="traslado"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
        </xs:complexType>
    </xs:element>
    <xs:complexType name="t_Ubicacion">
        <xs:annotation>
            <xs:documentation>Tipo definido para expresar domicilios o direcciones</xs:documentation>
        </xs:annotation>
        <xs:attribute name="calle" use="optional">
            <xs:annotation>
                <xs:documentation>Este atributo opcional sirve para precisar la avenida, calle, camino o carretera donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="noExterior" use="optional">
            <xs:annotation>
                <xs:documentation>Este atributo opcional sirve para expresar el número particular en donde se da la ubicación sobre una calle dada.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="noInterior" use="optional">
            <xs:annotation>
                <xs:documentation>Este atributo opcional sirve para expresar información adicional para especificar la ubicación cuando calle y número exterior (noExterior) no resulten suficientes para determinar la ubicación de forma precisa.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="colonia" use="optional">
            <xs:annotation>
                <xs:documentation>Este atributo opcional sirve para precisar la colonia en donde se da la ubicación cuando se desea ser más específico en casos de ubicaciones urbanas.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="localidad" use="optional">
            <xs:annotation>
                <xs:documentation>Atributo opcional que sirve para precisar la ciudad o población donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="referencia" use="optional">
            <xs:annotation>
                <xs:documentation>Atributo opcional para expresar una referencia de ubicación adicional.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="municipio" use="optional">
            <xs:annotation>
                <xs:documentation>Atributo opcional que sirve para precisar el municipio o delegación (en el caso del Distrito Federal) en donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="estado" use="optional">
            <xs:annotation>
                <xs:documentation>Atributo opcional que sirve para precisar el estado o entidad federativa donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="pais" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido que sirve para precisar el país donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="codigoPostal" use="optional">
            <xs:annotation>
                <xs:documentation>Atributo opcional que sirve para asentar el código postal en donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>
    <xs:complexType name="t_UbicacionFiscal">
        <xs:annotation>
            <xs:documentation>Tipo definido para expresar domicilios o direcciones</xs:documentation>
        </xs:annotation>
        <xs:attribute name="calle" use="required">
            <xs:annotation>
                <xs:documentation>Este atributo requerido sirve para precisar la avenida, calle, camino o carretera donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="noExterior" use="optional">
            <xs:annotation>
                <xs:documentation>Este atributo opcional sirve para expresar el número particular en donde se da la ubicación sobre una calle dada.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="noInterior" use="optional">
            <xs:annotation>
                <xs:documentation>Este atributo opcional sirve para expresar información adicional para especificar la ubicación cuando calle y número exterior (noExterior) no resulten suficientes para determinar la ubicación de forma precisa.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="colonia" use="optional">
            <xs:annotation>
                <xs:documentation>Este atributo opcional sirve para precisar la colonia en donde se da la ubicación cuando se desea ser más específico en casos de ubicaciones urbanas.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="localidad" use="optional">
            <xs:annotation>
                <xs:documentation>Atributo opcional que sirve para precisar la ciudad o población donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="referencia" use="optional">
            <xs:annotation>
                <xs:documentation>Atributo opcional para expresar una referencia de ubicación adicional.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:whiteSpace value="collapse"/>
                    <xs:minLength value="1"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="municipio" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido que sirve para precisar el municipio o delegación (en el caso del Distrito Federal) en donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="estado" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido que sirve para precisar el estado o entidad federativa donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="pais" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido que sirve para precisar el país donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="codigoPostal" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido que sirve para asentar el código postal en donde se da la ubicación.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:whiteSpace value="collapse"/>
                    <xs:length value="5"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>
    <xs:simpleType name="t_RFC">
        <xs:annotation>
            <xs:documentation>Tipo definido para expresar claves del Registro Federal de Contribuyentes</xs:documentation>
        </xs:annotation>
        <xs:restriction base="xs:string">
            <xs:minLength value="12"/>
            <xs:maxLength value="13"/>
            <xs:whiteSpace value="collapse"/>
        </xs:restriction>
    </xs:simpleType>
    <xs:simpleType name="t_Importe">
        <xs:annotation>
            <xs:documentation>Tipo definido para expresar importes numéricos con fracción a dos decimales</xs:documentation>
        </xs:annotation>
        <xs:restriction base="xs:decimal">
            <xs:fractionDigits value="2"/>
            <xs:whiteSpace value="collapse"/>
        </xs:restriction>
    </xs:simpleType>
    <xs:complexType name="t_InformacionAduanera">
        <xs:annotation>
            <xs:documentation>Tipo definido para expresar información aduanera</xs:documentation>
        </xs:annotation>
        <xs:attribute name="numero" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido para expresar el número del documento aduanero que ampara la importación del bien.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="fecha" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido para expresar la fecha de expedición del documento aduanero que ampara la importación del bien.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="aduana" use="required">
            <xs:annotation>
                <xs:documentation>Atributo requerido para precisar la aduana por la que se efectuó la importación del bien.</xs:documentation>
            </xs:annotation>
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:minLength value="1"/>
                    <xs:whiteSpace value="collapse"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>
</xs:schema>'

IF NOT EXISTS(SELECT * FROM eDocXSD WHERE Modulo = 'VTAS' AND Clave = 'Detallista') 
INSERT INTO eDocXSD (Modulo, Clave, XSD) SELECT 'VTAS', 'Detallista',
'<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:detallista="http://www.sat.gob.mx/detallista" targetNamespace="http://www.sat.gob.mx/detallista" elementFormDefault="qualified" attributeFormDefault="unqualified">
    <xs:element name="detallista">
        <xs:annotation>
            <xs:documentation>Complemento requerido para la emision y recepcion de comprobantes fiscales digitales en el sector Retail</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element name="requestForPaymentIdentification">
                    <xs:annotation>
                        <xs:documentation>Nodo requerido que especifica la transacción a utilizar</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="entityType">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica el tipo de transacción</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:NMTOKEN">
                                        <xs:enumeration value="INVOICE"/>
                                        <xs:enumeration value="DEBIT_NOTE"/>
                                        <xs:enumeration value="CREDIT_NOTE"/>
                                        <xs:enumeration value="LEASE_RECEIPT"/>
                                        <xs:enumeration value="HONORARY_RECEIPT"/>
                                        <xs:enumeration value="PARTIAL_INVOICE"/>
                                        <xs:enumeration value="TRANSPORT_DOCUMENT"/>
                                        <xs:enumeration value="AUTO_INVOICE"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="specialInstruction" minOccurs="0" maxOccurs="4">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica que tipo de instrucciones comerciales son enviadas</xs:documentation>
                    </xs:annotation>
                    <xs:complexType mixed="true">
                        <xs:sequence>
                            <xs:element name="text" maxOccurs="15">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica información de texto que aplica a todo el mensaje de la factura. La información estará en función al código del tema de texto</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:string">
                                        <xs:minLength value="1"/>
                                        <xs:maxLength value="255"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="code" use="required">
                            <xs:annotation>
                                <xs:documentation>Atributo para especificar el codigo del tipo de instrucciones comerciales que son enviadas</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:NMTOKEN">
                                    <xs:maxLength value="3"/>
                                    <xs:minLength value="1"/>
                                    <xs:enumeration value="AAB"/>
                                    <xs:enumeration value="DUT"/>
                                    <xs:enumeration value="PUR"/>
                                    <xs:enumeration value="ZZZ"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
                <xs:element name="orderIdentification">
                    <xs:annotation>
                        <xs:documentation>Nodo requerido que especifica información sobre la orden de compra a la que hace referencia la factura</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="referenceIdentification" maxOccurs="30">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica el número de  orden de compra (comprador) a la que hace referencia la factura</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:simpleContent>
                                        <xs:extension base="xs:string">
                                            <xs:attribute name="type" use="required" fixed="ON">
                                                <xs:annotation>
                                                    <xs:appinfo source="ON"/>
                                                    <xs:documentation>Atributo para especificar el codigo para identificar la orden de compra</xs:documentation>
                                                </xs:annotation>
                                                <xs:simpleType>
                                                    <xs:restriction base="xs:NMTOKEN">
                                                        <xs:enumeration value="ON"/>
                                                    </xs:restriction>
                                                </xs:simpleType>
                                            </xs:attribute>
                                        </xs:extension>
                                    </xs:simpleContent>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="ReferenceDate" type="xs:string" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica la fecha de la orden de compra(comprador) a la que hace referencia la factura</xs:documentation>
                                </xs:annotation>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="AdditionalInformation">
                    <xs:annotation>
                        <xs:documentation>Nodo requerido que especifica las referencias adicionales a nivel global de la factura</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="referenceIdentification" maxOccurs="99">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica el número de referencia adicional</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:simpleContent>
                                        <xs:extension base="xs:string">
                                            <xs:attribute name="type" use="required">
                                                <xs:annotation>
                                                    <xs:documentation>Atributo para especificar el codigo de referencias adicionales</xs:documentation>
                                                </xs:annotation>
                                                <xs:simpleType>
                                                    <xs:restriction base="xs:NMTOKEN">
                                                        <xs:enumeration value="AAE"/>
                                                        <xs:enumeration value="CK"/>
                                                        <xs:enumeration value="ACE"/>
                                                        <xs:enumeration value="ATZ"/>
                                                        <xs:enumeration value="DQ"/>
                                                        <xs:enumeration value="IV"/>
                                                        <xs:enumeration value="ON"/>
                                                        <xs:enumeration value="AWR"/>
                                                    </xs:restriction>
                                                </xs:simpleType>
                                            </xs:attribute>
                                        </xs:extension>
                                    </xs:simpleContent>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="DeliveryNote" minOccurs="0">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional donde se especifica información de recepción de mercancia.Información emitida por el comprador cuando recibe la mercancía que es facturada</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="referenceIdentification" maxOccurs="30">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica el numero de folio. Número emitido por el comprador cuando recibe la mercancía que es facturada</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:string">
                                        <xs:minLength value="1"/>
                                        <xs:maxLength value="35"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                            <xs:element name="ReferenceDate" type="xs:string" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica la fecha en que fue asignado el no. de folio de recibo</xs:documentation>
                                </xs:annotation>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="buyer">
                    <xs:annotation>
                        <xs:documentation>Nodo requerido que especifica información del comprador</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="gln">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica el número global de localización (GLN) del comprador.</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:string">
                                        <xs:length value="13"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                            <xs:element name="contactInformation" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica información del contacto de compras</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="personOrDepartmentName">
                                            <xs:annotation>
                                                <xs:documentation>Etiqueta que especifica el contacto de compras</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="text">
                                                        <xs:annotation>
                                                            <xs:documentation>Contacto de Nodo requerido que especifica el contacto de compras</xs:documentation>
                                                        </xs:annotation>
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:minLength value="1"/>
                                                                <xs:maxLength value="35"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="seller" minOccurs="0">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica información del vendedor</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="gln">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica el número global de localización (GLN) del vendedor.</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:string">
                                        <xs:length value="13"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                            <xs:element name="alternatePartyIdentification">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica el código para identificar qué tipo de identificación secundaria se le asignó al proveedor</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:simpleContent>
                                        <xs:extension base="xs:string">
                                            <xs:attribute name="type" use="required">
                                                <xs:annotation>
                                                    <xs:documentation>Atributo para especificar el tipo de identificación secundaria se le asigno al proveedor</xs:documentation>
                                                </xs:annotation>
                                                <xs:simpleType>
                                                    <xs:restriction base="xs:NMTOKEN">
                                                        <xs:minLength value="1"/>
                                                        <xs:maxLength value="40"/>
                                                        <xs:enumeration value="SELLER_ASSIGNED_IDENTIFIER_FOR_A_PARTY"/>
                                                        <xs:enumeration value="IEPS_REFERENCE"/>
                                                    </xs:restriction>
                                                </xs:simpleType>
                                            </xs:attribute>
                                        </xs:extension>
                                    </xs:simpleContent>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="shipTo" minOccurs="0">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica la ubicación donde debe realizarse la entrega de la mercancía.  </xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="gln" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica el número global de localización (GLN) de la ubicación a entregar la mercancía</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:string">
                                        <xs:length value="13"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                            <xs:element name="nameAndAddress" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica el nombre y dirección de la ubicación donde debe realizarse la entrega de mercancía </xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence maxOccurs="unbounded">
                                        <xs:element name="name">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica la razón social de la empresa a donde se va a embarcar en caso de ser diferente al comprador, o el nombre de la bodega o centro de distribución</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="35"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="streetAddressOne" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el domicilio a donde se embarcara la mercancía: Calle, número exterior, número interior y colonias</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="35"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="city" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica  la ciudad donde se encuentra el domicilio a donde se embarcará la mercancía</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="35"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="postalCode" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el codigo postal del domicilio a donde se embarcara la mercancía</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="9"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="InvoiceCreator" minOccurs="0">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica la ubicación donde se especifica el identificador del emisor de la factura si es distinto del identificador del proveedor.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="gln" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica el número global de localización (GLN)de la ubicación del emisor de la factura</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:string">
                                        <xs:length value="13"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                            <xs:element name="alternatePartyIdentification" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica la identificación secundaria del emisor de la factura</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:simpleContent>
                                        <xs:extension base="xs:string">
                                            <xs:attribute name="type" use="required">
                                                <xs:annotation>
                                                    <xs:documentation>Atributo para especificar el tipo de identificación secundaria se le asigno al proveedor</xs:documentation>
                                                </xs:annotation>
                                                <xs:simpleType>
                                                    <xs:restriction base="xs:NMTOKEN">
                                                        <xs:length value="2"/>
                                                        <xs:enumeration value="VA"/>
                                                        <xs:enumeration value="IA"/>
                                                    </xs:restriction>
                                                </xs:simpleType>
                                            </xs:attribute>
                                        </xs:extension>
                                    </xs:simpleContent>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="nameAndAddress" minOccurs="0">
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="name" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica la razón social de la empresa a dende se emite la factura en caso de ser diferente al identificador del proveedor</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="35"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="streetAddressOne" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el domicilio del emisor de la factura: Calle, número exterior, número interior y colonias</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="35"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="city" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica  la ciudad donde se encuentra el domicilio del emisor de la factura</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="35"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="postalCode" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el codigo postal del domicilio del emisor de la factura</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="9"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="Customs" minOccurs="0" maxOccurs="999999">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica la ubicación de la aduana</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="gln" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica el número global de localización (GLN) de la aduana</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:string">
                                        <xs:length value="13"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="currency" minOccurs="0" maxOccurs="3">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica  el tipo de divisa utilizada, para efectos de comprobantes fiscales digitales emitidos UNICAMENTE se podrá utilizar como divisa la moneda nacional (MXN), sin embargo dentro del complemento  se podrá detallar en otra de forma informativa. Lo detallado en esta etiqueta deberá coincidir con lo declarado en las etiquetas del SAT considerando el tipo de cambio. </xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="currencyFunction" maxOccurs="3">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica la función de divisa</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:NMTOKEN">
                                        <xs:maxLength value="16"/>
                                        <xs:minLength value="1"/>
                                        <xs:enumeration value="BILLING_CURRENCY"/>
                                        <xs:enumeration value="PRICE_CURRENCY"/>
                                        <xs:enumeration value="PAYMENT_CURRENCY"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                            <xs:element name="rateOfChange" type="xs:decimal" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifical la tasa de cambio que se aplica a las monedas. La regla general para calcular la tasa de cambio es la siguiente:
Divisa de Referencia multiplicada por la Tasa =  Divisa Objetivo
</xs:documentation>
                                </xs:annotation>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="currencyISOCode" use="required">
                            <xs:annotation>
                                <xs:documentation>Atributo para especificar el codigo de la moneda utilizada para detallar la relación de facturas.Todas las cantidades posteriores seran expresadas en la divisa detallada en esta etiqueta</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:NMTOKEN">
                                    <xs:length value="3"/>
                                    <xs:enumeration value="MXN"/>
                                    <xs:enumeration value="XEU"/>
                                    <xs:enumeration value="USD"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
                <xs:element name="paymentTerms" minOccurs="0">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica los términos de pago de la factura</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="netPayment" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica  las condiciones de pago</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence minOccurs="0">
                                        <xs:element name="paymentTimePeriod" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el periodo de pago de la factura</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="timePeriodDue">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo requerido que especifica el tiempo de pago</xs:documentation>
                                                        </xs:annotation>
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="value">
                                                                    <xs:annotation>
                                                                        <xs:documentation>Nodo requerido que especifica el numero de periodos</xs:documentation>
                                                                    </xs:annotation>
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="5"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                            <xs:attribute name="timePeriod" use="required">
                                                                <xs:annotation>
                                                                    <xs:documentation>Atributo para especificar el tipo de periodo</xs:documentation>
                                                                </xs:annotation>
                                                                <xs:simpleType>
                                                                    <xs:restriction base="xs:NMTOKEN">
                                                                        <xs:minLength value="1"/>
                                                                        <xs:maxLength value="6"/>
                                                                        <xs:enumeration value="DAYS"/>
                                                                    </xs:restriction>
                                                                </xs:simpleType>
                                                            </xs:attribute>
                                                        </xs:complexType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                    <xs:attribute name="netPaymentTermsType" use="required">
                                        <xs:annotation>
                                            <xs:documentation>Atributo para especificar las condiciones de pago</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:NMTOKEN">
                                                <xs:maxLength value="22"/>
                                                <xs:minLength value="1"/>
                                                <xs:enumeration value="BASIC_NET"/>
                                                <xs:enumeration value="END_OF_MONTH"/>
                                                <xs:enumeration value="BASIC_DISCOUNT_OFFERED"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="discountPayment" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica los descuentos por pago</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="percentage">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica el valor de los porcentajes que serán descontados o cargados si la factura no se paga dentro del término. El porcentaje será en base al valor de la factura</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="5"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                    </xs:sequence>
                                    <xs:attribute name="discountType" use="required">
                                        <xs:annotation>
                                            <xs:documentation>Atributo para especificar el calificador de porcentajes</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:NMTOKEN">
                                                <xs:maxLength value="28"/>
                                                <xs:minLength value="1"/>
                                                <xs:enumeration value="ALLOWANCE_BY_PAYMENT_ON_TIME"/>
                                                <xs:enumeration value="SANCTION"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="paymentTermsEvent" use="optional">
                            <xs:annotation>
                                <xs:documentation>Atributo para especificar la referencia del tiempo de pago</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:NMTOKEN">
                                    <xs:maxLength value="15"/>
                                    <xs:minLength value="1"/>
                                    <xs:enumeration value="DATE_OF_INVOICE"/>
                                    <xs:enumeration value="EFFECTIVE_DATE"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="PaymentTermsRelationTime" use="optional">
                            <xs:annotation>
                                <xs:documentation>Atributo para especificar el termino de relación del tiempo de pago</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:NMTOKEN">
                                    <xs:minLength value="1"/>
                                    <xs:maxLength value="15"/>
                                    <xs:enumeration value="REFERENCE_AFTER"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
                <xs:element name="shipmentDetail" minOccurs="0">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica la información pertinente para el embarque de la mercancía.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType/>
                </xs:element>
                <xs:element name="allowanceCharge" minOccurs="0" maxOccurs="99">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica la información de los cargos o descuentos globales mercantiles por factura</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="specialServicesType" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica  el tipo de descuento o cargo. Este atributo sólo se utiliza si el comprador conoce los descuentos</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:NMTOKEN">
                                        <xs:minLength value="1"/>
                                        <xs:maxLength value="3"/>
                                        <xs:enumeration value="AA"/>
                                        <xs:enumeration value="AJ"/>
                                        <xs:enumeration value="ADO"/>
                                        <xs:enumeration value="ADT"/>
                                        <xs:enumeration value="ADS"/>
                                        <xs:enumeration value="ABZ"/>
                                        <xs:enumeration value="DA"/>
                                        <xs:enumeration value="EAA"/>
                                        <xs:enumeration value="EAB"/>
                                        <xs:enumeration value="PI"/>
                                        <xs:enumeration value="TAE"/>
                                        <xs:enumeration value="SAB"/>
                                        <xs:enumeration value="RAA"/>
                                        <xs:enumeration value="PAD"/>
                                        <xs:enumeration value="FG"/>
                                        <xs:enumeration value="FA"/>
                                        <xs:enumeration value="TD"/>
                                        <xs:enumeration value="TS"/>
                                        <xs:enumeration value="TX"/>
                                        <xs:enumeration value="TZ"/>
                                        <xs:enumeration value="ZZZ"/>
                                        <xs:enumeration value="VAB"/>
                                        <xs:enumeration value="UM"/>
                                        <xs:enumeration value="DI"/>
                                        <xs:enumeration value="CAC"/>
                                        <xs:enumeration value="COD"/>
                                        <xs:enumeration value="EAB"/>
                                        <xs:enumeration value="FC"/>
                                        <xs:enumeration value="FI"/>
                                        <xs:enumeration value="HD"/>
                                        <xs:enumeration value="QD"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                            <xs:element name="monetaryAmountOrPercentage" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica la cantidad monetaria o porcentaje del descuento</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="rate" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica  la tarifa</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="percentage" type="xs:decimal">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo opcional que especifica el porcentaje de descuento que se está aplicando según se ha indicado en el campo anterior a toda la factura</xs:documentation>
                                                        </xs:annotation>
                                                    </xs:element>
                                                </xs:sequence>
                                                <xs:attribute name="base" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo para especificar la base del porcentaje que se aplicara</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:NMTOKEN">
                                                            <xs:length value="13"/>
                                                            <xs:enumeration value="INVOICE_VALUE"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="allowanceChargeType" use="required">
                            <xs:annotation>
                                <xs:documentation>Atributo indicador de cargo o descuento</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:NMTOKEN">
                                    <xs:minLength value="1"/>
                                    <xs:maxLength value="16"/>
                                    <xs:enumeration value="ALLOWANCE_GLOBAL"/>
                                    <xs:enumeration value="CHARGE_GLOBAL"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="settlementType" use="required">
                            <xs:annotation>
                                <xs:documentation>Atributo para especificar la imputación del descuento o cargo</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:NMTOKEN">
                                    <xs:minLength value="1"/>
                                    <xs:maxLength value="11"/>
                                    <xs:enumeration value="BILL_BACK"/>
                                    <xs:enumeration value="OFF_INVOICE"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="sequenceNumber" use="optional">
                            <xs:annotation>
                                <xs:documentation>Atributo indicador de secuencia de calculo</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:string">
                                    <xs:minLength value="1"/>
                                    <xs:maxLength value="15"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
                <xs:element name="lineItem" minOccurs="0" maxOccurs="9999999">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica la linea de detalle de la factura</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="tradeItemIdentification">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica la identificación de cada artículo</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="gtin">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica el código EAN del artículo solicitado</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="14"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="alternateTradeItemIdentification" minOccurs="0" maxOccurs="999999">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica el numero de identificación adicional para el artículo.</xs:documentation>
                                </xs:annotation>
                                <xs:complexType mixed="true">
                                    <xs:simpleContent>
                                        <xs:extension base="xs:string">
                                            <xs:attribute name="type" use="required">
                                                <xs:annotation>
                                                    <xs:documentation>Atributo para especificar el tipo de identificación adicional, en caso de no utilizar condigo GTIN</xs:documentation>
                                                </xs:annotation>
                                                <xs:simpleType>
                                                    <xs:restriction base="xs:NMTOKEN">
                                                        <xs:minLength value="1"/>
                                                        <xs:maxLength value="35"/>
                                                        <xs:enumeration value="BUYER_ASSIGNED"/>
                                                        <xs:enumeration value="SUPPLIER_ASSIGNED"/>
                                                        <xs:enumeration value="SERIAL_NUMBER"/>
                                                        <xs:enumeration value="GLOBAL_TRADE_ITEM_IDENTIFICATION"/>
                                                    </xs:restriction>
                                                </xs:simpleType>
                                            </xs:attribute>
                                        </xs:extension>
                                    </xs:simpleContent>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="tradeItemDescriptionInformation" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica el inicio de la descripción del artículo </xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="longText">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica la descripción del artículo solicitado</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="35"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                    </xs:sequence>
                                    <xs:attribute name="language" use="optional">
                                        <xs:annotation>
                                            <xs:documentation>Atributo para especificar el codigo del idioma en que esta la descripción del articulo</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:NMTOKEN">
                                                <xs:length value="2"/>
                                                <xs:enumeration value="ES"/>
                                                <xs:enumeration value="EN"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="invoicedQuantity">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica la cantidad facturada del producto en la línea de articulo actual</xs:documentation>
                                </xs:annotation>
                                <xs:complexType mixed="true">
                                    <xs:simpleContent>
                                        <xs:extension base="xs:decimal">
                                            <xs:attribute name="unitOfMeasure" type="xs:NMTOKEN" use="required">
                                                <xs:annotation>
                                                    <xs:documentation>Atributo para especificar la unidad de medida, solo si el articulo es de unidad variable</xs:documentation>
                                                </xs:annotation>
                                            </xs:attribute>
                                        </xs:extension>
                                    </xs:simpleContent>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="aditionalQuantity" minOccurs="0" maxOccurs="9999">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica  la cantidad que se esta declarando como adicional</xs:documentation>
                                </xs:annotation>
                                <xs:complexType mixed="true">
                                    <xs:simpleContent>
                                        <xs:extension base="xs:decimal">
                                            <xs:attribute name="QuantityType" use="required">
                                                <xs:annotation>
                                                    <xs:documentation>Atributo para especificar el codigo  de tipo de cantidad adicional declarada</xs:documentation>
                                                </xs:annotation>
                                                <xs:simpleType>
                                                    <xs:restriction base="xs:NMTOKEN">
                                                        <xs:minLength value="1"/>
                                                        <xs:maxLength value="18"/>
                                                        <xs:enumeration value="NUM_CONSUMER_UNITS"/>
                                                        <xs:enumeration value="FREE_GOODS"/>
                                                    </xs:restriction>
                                                </xs:simpleType>
                                            </xs:attribute>
                                        </xs:extension>
                                    </xs:simpleContent>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="grossPrice" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica  la declaración del precio bruto</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="Amount" type="xs:decimal">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica el precio Bruto del artículo sin incluir descuento ni cargos</xs:documentation>
                                            </xs:annotation>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="netPrice" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica la declaración del precion neto</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="Amount" type="xs:decimal">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica el precio neto de cada artículo</xs:documentation>
                                            </xs:annotation>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="AdditionalInformation" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica la información adicional de referencia en el detalle de productos</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="referenceIdentification" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica la referencia adicional de los productos</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:simpleContent>
                                                    <xs:extension base="xs:string">
                                                        <xs:attribute name="type" use="required">
                                                            <xs:annotation>
                                                                <xs:documentation>Atributo para especificar el tipo de referencia</xs:documentation>
                                                            </xs:annotation>
                                                            <xs:simpleType>
                                                                <xs:restriction base="xs:NMTOKEN">
                                                                    <xs:length value="2"/>
                                                                    <xs:enumeration value="ON"/>
                                                                </xs:restriction>
                                                            </xs:simpleType>
                                                        </xs:attribute>
                                                    </xs:extension>
                                                </xs:simpleContent>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="Customs" minOccurs="0" maxOccurs="999999">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica la ubicación donde se especifica el identificador de la aduana</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:all>
                                        <xs:element name="gln" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el número global de localización (GLN) de la aduana</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:length value="13"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="alternatePartyIdentification">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica la identificación del no. pedimento a nivel detalle</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:simpleContent>
                                                    <xs:extension base="xs:string">
                                                        <xs:attribute name="type" use="required">
                                                            <xs:annotation>
                                                                <xs:documentation>Atributo para especificar el codigo de identificación secundaria</xs:documentation>
                                                            </xs:annotation>
                                                            <xs:simpleType>
                                                                <xs:restriction base="xs:NMTOKEN">
                                                                    <xs:length value="2"/>
                                                                    <xs:enumeration value="TN"/>
                                                                </xs:restriction>
                                                            </xs:simpleType>
                                                        </xs:attribute>
                                                    </xs:extension>
                                                </xs:simpleContent>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="ReferenceDate" type="xs:string">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica la fecha del pedimento
YYYYMMDD
</xs:documentation>
                                            </xs:annotation>
                                        </xs:element>
                                        <xs:element name="nameAndAddress">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica la etiqueta padre que indica que se empezará a definir el nombre y dirección de la ubicación donde esta la aduana </xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="name">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo requerido que especifica el nombre de la Aduana</xs:documentation>
                                                        </xs:annotation>
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:minLength value="1"/>
                                                                <xs:maxLength value="35"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:all>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="LogisticUnits" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica la información de identificación logística</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="serialShippingContainerCode">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica la información de Rangos de identificación de productos</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:simpleContent>
                                                    <xs:extension base="xs:string">
                                                        <xs:attribute name="type" use="required">
                                                            <xs:annotation>
                                                                <xs:documentation>Atributo para especificar el codigo del numero de identidad</xs:documentation>
                                                            </xs:annotation>
                                                            <xs:simpleType>
                                                                <xs:restriction base="xs:NMTOKEN">
                                                                    <xs:minLength value="1"/>
                                                                    <xs:maxLength value="3"/>
                                                                    <xs:enumeration value="BJ"/>
                                                                    <xs:enumeration value="SRV"/>
                                                                </xs:restriction>
                                                            </xs:simpleType>
                                                        </xs:attribute>
                                                    </xs:extension>
                                                </xs:simpleContent>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="palletInformation" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica la información de empaquetado</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:all>
                                        <xs:element name="palletQuantity">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica el numero de paquetes </xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="15"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="description">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica la descripción del  empaquetado</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType mixed="true">
                                                <xs:simpleContent>
                                                    <xs:extension base="xs:string">
                                                        <xs:attribute name="type" use="required">
                                                            <xs:annotation>
                                                                <xs:documentation>Atributo para especificar el tipo de empaquetado</xs:documentation>
                                                            </xs:annotation>
                                                            <xs:simpleType>
                                                                <xs:restriction base="xs:NMTOKEN">
                                                                    <xs:maxLength value="35"/>
                                                                    <xs:minLength value="1"/>
                                                                    <xs:enumeration value="EXCHANGE_PALLETS"/>
                                                                    <xs:enumeration value="RETURN_PALLETS"/>
                                                                    <xs:enumeration value="PALLET_80x100"/>
                                                                    <xs:enumeration value="CASE"/>
                                                                    <xs:enumeration value="BOX"/>
                                                                </xs:restriction>
                                                            </xs:simpleType>
                                                        </xs:attribute>
                                                    </xs:extension>
                                                </xs:simpleContent>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="transport">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica el pago de transporte de embalaje</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="methodOfPayment">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo requerido que especifica el metodo de pago</xs:documentation>
                                                        </xs:annotation>
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:NMTOKEN">
                                                                <xs:maxLength value="17"/>
                                                                <xs:minLength value="1"/>
                                                                <xs:enumeration value="PREPAID_BY_SELLER"/>
                                                                <xs:enumeration value="PAID_BY_BUYER"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:all>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="extendedAttributes" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica la información adicional de lote del producto facturado</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="lotNumber" maxOccurs="10">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica el No. De lote</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:simpleContent>
                                                    <xs:extension base="xs:string">
                                                        <xs:attribute name="productionDate" type="xs:string" use="optional">
                                                            <xs:annotation>
                                                                <xs:documentation>Atributo para especificar la fecha de producción</xs:documentation>
                                                            </xs:annotation>
                                                        </xs:attribute>
                                                    </xs:extension>
                                                </xs:simpleContent>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="allowanceCharge" minOccurs="0" maxOccurs="99">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica  la información de los cargos o descuentos globales por línea de artículo</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="specialServicesType" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el tipo de descuento o cargo. Este atributo sólo se utiliza si el comprador conoce el tipo de descuento o cargo.</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:NMTOKEN">
                                                    <xs:maxLength value="3"/>
                                                    <xs:minLength value="1"/>
                                                    <xs:enumeration value="AA"/>
                                                    <xs:enumeration value="ADS"/>
                                                    <xs:enumeration value="ADO"/>
                                                    <xs:enumeration value="ABZ"/>
                                                    <xs:enumeration value="DA"/>
                                                    <xs:enumeration value="EAA"/>
                                                    <xs:enumeration value="PI"/>
                                                    <xs:enumeration value="TAE"/>
                                                    <xs:enumeration value="SAB"/>
                                                    <xs:enumeration value="RAA"/>
                                                    <xs:enumeration value="PAD"/>
                                                    <xs:enumeration value="FG"/>
                                                    <xs:enumeration value="FA"/>
                                                    <xs:enumeration value="TD"/>
                                                    <xs:enumeration value="TS"/>
                                                    <xs:enumeration value="TX"/>
                                                    <xs:enumeration value="ZZZ"/>
                                                    <xs:enumeration value="VAB"/>
                                                    <xs:enumeration value="UM"/>
                                                    <xs:enumeration value="DI"/>
                                                    <xs:enumeration value="ADT"/>
                                                    <xs:enumeration value="AJ"/>
                                                    <xs:enumeration value="CAC"/>
                                                    <xs:enumeration value="COD"/>
                                                    <xs:enumeration value="EAB"/>
                                                    <xs:enumeration value="FC"/>
                                                    <xs:enumeration value="FI"/>
                                                    <xs:enumeration value="HD"/>
                                                    <xs:enumeration value="QD"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="monetaryAmountOrPercentage">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica la cantidad monetaria o descuento por linea de articulo</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="percentagePerUnit">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo requerido que especifica el porcentaje del cargo o descuento</xs:documentation>
                                                        </xs:annotation>
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:minLength value="1"/>
                                                                <xs:maxLength value="5"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="ratePerUnit" minOccurs="0">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo opcional que especifica la Tarifa por unidad</xs:documentation>
                                                        </xs:annotation>
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="amountPerUnit">
                                                                    <xs:annotation>
                                                                        <xs:documentation>Nodo requerido que especifica el importe monetario del cargo o descuento por unidad</xs:documentation>
                                                                    </xs:annotation>
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="5"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                    <xs:attribute name="allowanceChargeType" use="required">
                                        <xs:annotation>
                                            <xs:documentation>Atributo para especificar el cargo o descuento</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:NMTOKEN">
                                                <xs:minLength value="1"/>
                                                <xs:maxLength value="16"/>
                                                <xs:enumeration value="ALLOWANCE_GLOBAL"/>
                                                <xs:enumeration value="CHARGE_GLOBAL"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                    <xs:attribute name="settlementType" use="optional">
                                        <xs:annotation>
                                            <xs:documentation>Atributo para especificar la imputación del cargo o descuento</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:NMTOKEN">
                                                <xs:minLength value="1"/>
                                                <xs:maxLength value="29"/>
                                                <xs:enumeration value="OFF_INVOICE"/>
                                                <xs:enumeration value="CHARGE_TO_BE_PAID_BY_VENDOR"/>
                                                <xs:enumeration value="CHARGE_TO_BE_PAID_BY_CUSTOMER"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                    <xs:attribute name="sequenceNumber" use="optional">
                                        <xs:annotation>
                                            <xs:documentation>Atributo para especificar la secuencia de cálculo</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:string">
                                                <xs:minLength value="1"/>
                                                <xs:maxLength value="15"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="tradeItemTaxInformation" minOccurs="0" maxOccurs="99">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica los impuestos por cada línea de artículo</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:all>
                                        <xs:element name="taxTypeDescription">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica el tipo de arancel, impuesto o cuota. </xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:NMTOKEN">
                                                    <xs:length value="3"/>
                                                    <xs:enumeration value="GST"/>
                                                    <xs:enumeration value="VAT"/>
                                                    <xs:enumeration value="LAC"/>
                                                    <xs:enumeration value="AAA"/>
                                                    <xs:enumeration value="ADD"/>
                                                    <xs:enumeration value="FRE"/>
                                                    <xs:enumeration value="LOC"/>
                                                    <xs:enumeration value="STT"/>
                                                    <xs:enumeration value="OTH"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="referenceNumber" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el numero de identificación del impuesto. Numero asignado al comprador por una jurisdicción de impuesto</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="20"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="tradeItemTaxAmount" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el importe o porcentaje del descuento</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="taxPercentage" type="xs:decimal">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo requerido que especifica el porcentaje del impuesto</xs:documentation>
                                                        </xs:annotation>
                                                    </xs:element>
                                                    <xs:element name="taxAmount" type="xs:decimal">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo requerido que especifica el monto del impuesto</xs:documentation>
                                                        </xs:annotation>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="taxCategory" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el identificador de impuesto retenido o transferido</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:NMTOKEN">
                                                    <xs:minLength value="0"/>
                                                    <xs:maxLength value="11"/>
                                                    <xs:enumeration value="TRANSFERIDO"/>
                                                    <xs:enumeration value="RETENIDO"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                    </xs:all>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="totalLineAmount">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica los importes monetarios por línea de articulo</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="grossAmount" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el  importe bruto</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="Amount" type="xs:decimal">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo requerido que especifica el importe bruto de la línea de artículo </xs:documentation>
                                                        </xs:annotation>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="netAmount">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica el importe neto</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="Amount" type="xs:decimal">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo requerido que especifica el importe neto de la línea de artículo </xs:documentation>
                                                        </xs:annotation>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="type" use="optional" default="SimpleInvoiceLineItemType">
                            <xs:annotation>
                                <xs:documentation>Atributo para especificar el tipo de línea de detalle</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:string">
                                    <xs:minLength value="1"/>
                                    <xs:maxLength value="32"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="number" use="optional">
                            <xs:annotation>
                                <xs:documentation>Atributo para especificar el numero secuencial que se asigna a cada línea de detalle</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:integer">
                                    <xs:totalDigits value="5"/>
                                    <xs:fractionDigits value="0"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
                <xs:element name="totalAmount" minOccurs="0">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica el monto total de las líneas de artículos.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="Amount" type="xs:decimal">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica el monto</xs:documentation>
                                </xs:annotation>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="TotalAllowanceCharge" minOccurs="0" maxOccurs="999999">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica el monto total de cargos o descuentos</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="specialServicesType" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica el tipo de descuento o cargo. Este atributo sólo se utiliza si el comprador conoce el tipo de descuento o cargo.</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:NMTOKEN">
                                        <xs:minLength value="1"/>
                                        <xs:maxLength value="3"/>
                                        <xs:enumeration value="AA"/>
                                        <xs:enumeration value="ADS"/>
                                        <xs:enumeration value="ADO"/>
                                        <xs:enumeration value="ABZ"/>
                                        <xs:enumeration value="DA"/>
                                        <xs:enumeration value="EAA"/>
                                        <xs:enumeration value="PI"/>
                                        <xs:enumeration value="TAE"/>
                                        <xs:enumeration value="SAB"/>
                                        <xs:enumeration value="RAA"/>
                                        <xs:enumeration value="PAD"/>
                                        <xs:enumeration value="FG"/>
                                        <xs:enumeration value="FA"/>
                                        <xs:enumeration value="TD"/>
                                        <xs:enumeration value="TS"/>
                                        <xs:enumeration value="TX"/>
                                        <xs:enumeration value="ZZZ"/>
                                        <xs:enumeration value="VAB"/>
                                        <xs:enumeration value="UM"/>
                                        <xs:enumeration value="DI"/>
                                        <xs:enumeration value="ADT"/>
                                        <xs:enumeration value="AJ"/>
                                        <xs:enumeration value="CAC"/>
                                        <xs:enumeration value="COD"/>
                                        <xs:enumeration value="EAB"/>
                                        <xs:enumeration value="FC"/>
                                        <xs:enumeration value="FI"/>
                                        <xs:enumeration value="HD"/>
                                        <xs:enumeration value="QD"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                            <xs:element name="Amount" type="xs:decimal" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica el monto total de los cargos o descuentos</xs:documentation>
                                </xs:annotation>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="allowanceOrChargeType" use="required">
                            <xs:annotation>
                                <xs:documentation>Atributo para especificar los cargos o descuentos consolidados</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:NMTOKEN">
                                    <xs:minLength value="1"/>
                                    <xs:maxLength value="9"/>
                                    <xs:enumeration value="ALLOWANCE"/>
                                    <xs:enumeration value="CHARGE"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
            </xs:sequence>
            <xs:attribute name="type" type="xs:string" use="optional" default="SimpleInvoiceType">
                <xs:annotation>
                    <xs:documentation>Tipo de transacción bajo estandar del sector detallista</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="contentVersion" type="xs:string" use="optional" default="1.3.1">
                <xs:annotation>
                    <xs:documentation>Versión del estandar XML utilizado para la elaboración de la guia del sector detallista</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="documentStructureVersion" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>Versión de la estructura del documento generado "AMC8.1"</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="documentStatus" use="required">
                <xs:annotation>
                    <xs:documentation>Función del mensaje</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:NMTOKEN">                  
                        <xs:enumeration value="ORIGINAL"/>
                        <xs:enumeration value="COPY"/>
                        <xs:enumeration value="REEMPLAZA"/>
                        <xs:enumeration value="DELETE"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
        </xs:complexType>
    </xs:element>
</xs:schema>
'

IF NOT EXISTS(SELECT * FROM eDocXSD WHERE Modulo = 'VTAS' AND Clave = 'FEMSA') 
INSERT INTO eDocXSD (Modulo, Clave, XSD) SELECT 'VTAS', 'FEMSA',
'<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://www.sat.gob.mx/cfd/2" elementFormDefault="qualified" attributeFormDefault="unqualified">
	<xs:element name="Documento">
		<xs:annotation>
			<xs:documentation>.</xs:documentation>
		</xs:annotation>
		<xs:complexType>
			<xs:sequence>
				<xs:element name="FacturaFemsa">
					<xs:annotation>
						<xs:documentation>Formato de la addenda para Femsa</xs:documentation>
					</xs:annotation>
					<xs:complexType>
						<xs:sequence>
							<xs:element name="noVersAdd">
								<xs:annotation>
									<xs:documentation>.</xs:documentation>
								</xs:annotation>
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:minLength value="1"/>
										<xs:whiteSpace value="collapse"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="claseDoc">
								<xs:annotation>
									<xs:documentation>.</xs:documentation>
								</xs:annotation>
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:minLength value="1"/>
										<xs:whiteSpace value="collapse"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="noSociedad">
								<xs:annotation>
									<xs:documentation>.</xs:documentation>
								</xs:annotation>
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:minLength value="1"/>
										<xs:whiteSpace value="collapse"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="noProveedor">
								<xs:annotation>
									<xs:documentation>.</xs:documentation>
								</xs:annotation>
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:minLength value="1"/>
										<xs:whiteSpace value="collapse"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="noPedido">
								<xs:annotation>
									<xs:documentation>.</xs:documentation>
								</xs:annotation>
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:minLength value="1"/>
										<xs:whiteSpace value="collapse"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="moneda">
								<xs:annotation>
									<xs:documentation>.</xs:documentation>
								</xs:annotation>
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:minLength value="1"/>
										<xs:whiteSpace value="collapse"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="noEntrada">
								<xs:annotation>
									<xs:documentation>.</xs:documentation>
								</xs:annotation>
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:minLength value="1"/>
										<xs:whiteSpace value="collapse"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="noRemision" minOccurs="0">
								<xs:annotation>
									<xs:documentation>.</xs:documentation>
								</xs:annotation>
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:whiteSpace value="collapse"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="noSocio" minOccurs="0">
								<xs:annotation>
									<xs:documentation>.</xs:documentation>
								</xs:annotation>
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:whiteSpace value="collapse"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="centroCostos" minOccurs="0">
								<xs:annotation>
									<xs:documentation>.</xs:documentation>
								</xs:annotation>
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:whiteSpace value="collapse"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="iniPerLiq" minOccurs="0">
								<xs:annotation>
									<xs:documentation>.</xs:documentation>
								</xs:annotation>
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:whiteSpace value="collapse"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="finPerLiq" minOccurs="0">
								<xs:annotation>
									<xs:documentation>.</xs:documentation>
								</xs:annotation>
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:whiteSpace value="collapse"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="retencion1" minOccurs="0">
								<xs:annotation>
									<xs:documentation>.</xs:documentation>
								</xs:annotation>
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:whiteSpace value="collapse"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="retencion2" minOccurs="0">
								<xs:annotation>
									<xs:documentation>.</xs:documentation>
								</xs:annotation>
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:whiteSpace value="collapse"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="retencion3" minOccurs="0">
								<xs:annotation>
									<xs:documentation>.</xs:documentation>
								</xs:annotation>
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:whiteSpace value="collapse"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="email">
								<xs:annotation>
									<xs:documentation>.</xs:documentation>
								</xs:annotation>
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:minLength value="1"/>
										<xs:whiteSpace value="collapse"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
			</xs:sequence>
		</xs:complexType>
	</xs:element>
</xs:schema>'

IF NOT EXISTS(SELECT * FROM eDocXSD WHERE Modulo = 'VTAS' AND Clave = 'HOMEDEPOT') 
INSERT INTO eDocXSD (Modulo, Clave, XSD) SELECT 'VTAS', 'HOMEDEPOT',
'<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" attributeFormDefault="unqualified">
	<xs:element name="Encabezado">
		<xs:annotation>
			<xs:documentation>Contiene los datos del encabezado</xs:documentation>
		</xs:annotation>
		<xs:complexType>
			<xs:sequence maxOccurs="unbounded">
				<xs:element name="Detalle">
					<xs:complexType>
						<xs:attribute name="SKU" use="required">
							<xs:annotation>
								<xs:documentation>UPC o SKU</xs:documentation>
							</xs:annotation>
						</xs:attribute>
						<xs:attribute name="cantidad" use="required">
							<xs:annotation>
								<xs:documentation>Cantidad Facturada</xs:documentation>
							</xs:annotation>
						</xs:attribute>
						<xs:attribute name="descripcion" use="required">
							<xs:annotation>
								<xs:documentation>Descripcion del detalle</xs:documentation>
							</xs:annotation>
						</xs:attribute>
						<xs:attribute name="valor" use="required">
							<xs:annotation>
								<xs:documentation>Valor Unitario</xs:documentation>
							</xs:annotation>
						</xs:attribute>
						<xs:attribute name="unidad" use="required">
							<xs:annotation>
								<xs:documentation>Unidad de Medida</xs:documentation>
							</xs:annotation>
						</xs:attribute>
						<xs:attribute name="IVA" use="required">
							<xs:annotation>
								<xs:documentation>Porcentaje de IVA</xs:documentation>
							</xs:annotation>
						</xs:attribute>
						<xs:attribute name="vendorPack" use="required"/>
					</xs:complexType>
				</xs:element>
			</xs:sequence>
			<xs:attribute name="oc" type="xs:string" use="required">
				<xs:annotation>
					<xs:documentation>Numero de Orden de Compra</xs:documentation>
				</xs:annotation>
			</xs:attribute>
			<xs:attribute name="folio" type="xs:string" use="required">
				<xs:annotation>
					<xs:documentation>Folio del Comprobante</xs:documentation>
				</xs:annotation>
			</xs:attribute>
			<xs:attribute name="serie" type="xs:string">
				<xs:annotation>
					<xs:documentation>Serie del Comprobante</xs:documentation>
				</xs:annotation>
			</xs:attribute>
			<xs:attribute name="fecha" type="xs:string" use="required">
				<xs:annotation>
					<xs:documentation>Fecha del Comprobante</xs:documentation>
				</xs:annotation>
			</xs:attribute>
			<xs:attribute name="proveedor" type="xs:string" use="required">
				<xs:annotation>
					<xs:documentation>Numero de Proveedor HDM</xs:documentation>
				</xs:annotation>
			</xs:attribute>
			<xs:attribute name="subtotal" type="xs:string" use="required">
				<xs:annotation>
					<xs:documentation>Subtotal del Comprobante</xs:documentation>
				</xs:annotation>
			</xs:attribute>
			<xs:attribute name="iva" use="required">
				<xs:annotation>
					<xs:documentation>IVA del comprobante</xs:documentation>
				</xs:annotation>
			</xs:attribute>
			<xs:attribute name="total" type="xs:string" use="required">
				<xs:annotation>
					<xs:documentation>Total del Comprobante con IVA</xs:documentation>
				</xs:annotation>
			</xs:attribute>
			<xs:attribute name="divisa" use="required"/>
			<xs:attribute name="tipoCambio" use="required"/>
			<xs:attribute name="descuento1" type="xs:string"/>
			<xs:attribute name="descuento2" type="xs:string"/>
		</xs:complexType>
	</xs:element>
</xs:schema>'


IF NOT EXISTS(SELECT * FROM eDocXSD WHERE Modulo = 'VTAS' AND Clave = 'SorianaConsolidado') 
INSERT INTO eDocXSD (Modulo, Clave, XSD) SELECT 'VTAS', 'SorianaConsolidado',
'<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" attributeFormDefault="unqualified">
	<xs:element name="DSCargaRemisionProv">
		<xs:complexType>
			<xs:choice maxOccurs="unbounded">
				<xs:element name="Remision">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="Proveedor" type="xs:int"/>
							<xs:element name="Remision" type="xs:string"/>
							<xs:element name="Consecutivo" type="xs:short"/>
							<xs:element name="FechaRemision" type="xs:string"/>
							<xs:element name="Tienda" type="xs:short"/>
							<xs:element name="TipoMoneda" type="xs:short"/>
							<xs:element name="TipoBulto" type="xs:short"/>
							<xs:element name="EntregaMercancia" type="xs:short"/>
							<xs:element name="CumpleReqFiscales" type="xs:boolean"/>
							<xs:element name="CantidadBultos" type="xs:decimal"/>
							<xs:element name="Subtotal" type="xs:decimal"/>
							<xs:element name="IEPS" type="xs:decimal"/>
							<xs:element name="IVA" type="xs:decimal"/>
							<xs:element name="OtrosImpuestos" type="xs:decimal"/>
							<xs:element name="Total" type="xs:decimal"/>
							<xs:element name="CantidadPedidos" type="xs:int"/>
							<xs:element name="FechaEntregaMercancia" type="xs:string"/>
						</xs:sequence>
						<xs:attribute name="id" type="xs:string"/>
						<xs:attribute name="RowOrder" type="xs:string"/>
					</xs:complexType>
				</xs:element>
				<xs:element name="Pedimento">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="Proveedor" type="xs:int"/>
							<xs:element name="Remision" type="xs:string"/>
							<xs:element name="Pedimento" type="xs:string"/>
							<xs:element name="Aduana" type="xs:short"/>
							<xs:element name="AgenteAduanal" type="xs:short"/>
							<xs:element name="TipoPedimento" type="xs:string"/>
							<xs:element name="FechaPedimento" type="xs:string"/>
							<xs:element name="FechaReciboLaredo" type="xs:string"/>
							<xs:element name="FechaBillOfLading" type="xs:string"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="Pedidos">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="Proveedor" type="xs:int"/>
							<xs:element name="Remision" type="xs:string"/>
							<xs:element name="FolioPedido" type="xs:int"/>
							<xs:element name="Tienda" type="xs:short"/>
							<xs:element name="CantidadArticulos" type="xs:int"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="Articulos">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="Proveedor" type="xs:int"/>
							<xs:element name="Remision" type="xs:string"/>
							<xs:element name="FolioPedido" type="xs:int"/>
							<xs:element name="Tienda" type="xs:short"/>
							<xs:element name="Codigo" type="xs:decimal"/>
							<xs:element name="CantidadUnidadCompra" type="xs:decimal"/>
							<xs:element name="CostoNetoUnidadCompra" type="xs:decimal"/>
							<xs:element name="PorcentajeIEPS" type="xs:decimal"/>
							<xs:element name="PorcentajeIVA" type="xs:decimal"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="CajasTarimas">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="Proveedor" type="xs:int" minOccurs="0"/>
							<xs:element name="Remision" type="xs:string" minOccurs="0"/>
							<xs:element name="NumeroCajaTarima" type="xs:short" minOccurs="0"/>
							<xs:element name="CodigoBarraCajaTarima" type="xs:decimal" nillable="true" minOccurs="0"/>
							<xs:element name="SucursalDistribuir" type="xs:short" minOccurs="0"/>
							<xs:element name="CantidadArticulos" type="xs:short" minOccurs="0"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="ArticulosPorCajaTarima">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="Proveedor" type="xs:int" minOccurs="0"/>
							<xs:element name="Remision" type="xs:string" minOccurs="0"/>
							<xs:element name="FolioPedido" type="xs:int" minOccurs="0"/>
							<xs:element name="NumeroCajaTarima" type="xs:short" minOccurs="0"/>
							<xs:element name="SucursalDistribuir" type="xs:short" minOccurs="0"/>
							<xs:element name="Codigo" type="xs:decimal" minOccurs="0"/>
							<xs:element name="CantidadUnidadCompra" type="xs:decimal" minOccurs="0"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
			</xs:choice>
		</xs:complexType>
	</xs:element>
</xs:schema>'

IF NOT EXISTS(SELECT * FROM eDocXSD WHERE Modulo = 'VTAS' AND Clave = 'CFDI') 
INSERT INTO eDocXSD (Modulo, Clave, XSD) SELECT 'VTAS', 'CFDI',
'<?xml version="1.0" encoding="utf-8"?>
<xs:schema xmlns:cfdi="http://www.sat.gob.mx/cfd/3" xmlns:xs="http://www.w3.org/2001/XMLSchema" targetNamespace="http://www.sat.gob.mx/cfd/3" elementFormDefault="qualified" attributeFormDefault="unqualified">
  <xs:element name="Comprobante">
    <xs:annotation>
      <xs:documentation>EstÃ¡ndar para la expresiÃ³n de comprobantes fiscales digitales por Internet.</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="Emisor">
          <xs:annotation>
            <xs:documentation>Nodo requerido para expresar la informaciÃ³n del contribuyente emisor del comprobante.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element name="DomicilioFiscal" type="cfdi:t_UbicacionFiscal">
                <xs:annotation>
                  <xs:documentation>Nodo requerido para precisar la informaciÃ³n de ubicaciÃ³n del domicilio fiscal del contribuyente emisor</xs:documentation>
                </xs:annotation>
              </xs:element>
              <xs:element name="ExpedidoEn" type="cfdi:t_Ubicacion" minOccurs="0">
                <xs:annotation>
                  <xs:documentation>
                    Nodo opcional para precisar la informaciÃ³n de ubicaciÃ³n del domicilio en donde es emitido el comprobante fiscal en caso de que sea
                    distinto del domicilio fiscal del contribuyente emisor.
                  </xs:documentation>
                </xs:annotation>
              </xs:element>
            </xs:sequence>
            <xs:attribute name="rfc" type="cfdi:t_RFC" use="required">
              <xs:annotation>
                <xs:documentation>
                  Atributo requerido para la Clave del Registro Federal de Contribuyentes correspondiente al contribuyente emisor del comprobante sin
                  guiones o espacios.
                </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute name="nombre" use="required">
              <xs:annotation>
                <xs:documentation>Atributo requerido para el nombre o razÃ³n social del contribuyente emisor del comprobante.</xs:documentation>
              </xs:annotation>
              <xs:simpleType>
                <xs:restriction base="xs:string">
                  <xs:minLength value="1"/>
                  <xs:whiteSpace value="collapse"/>
                </xs:restriction>
              </xs:simpleType>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element name="Receptor">
          <xs:annotation>
            <xs:documentation>Nodo requerido para precisar la informaciÃ³n del contribuyente receptor del comprobante.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element name="Domicilio" type="cfdi:t_Ubicacion" minOccurs="0">
                <xs:annotation>
                  <xs:documentation>Nodo opcional para la definiciÃ³n de la ubicaciÃ³n donde se da el domicilio del receptor del comprobante fiscal.</xs:documentation>
                </xs:annotation>
              </xs:element>
            </xs:sequence>
            <xs:attribute name="rfc" type="cfdi:t_RFC" use="required">
              <xs:annotation>
                <xs:documentation>
                  Atributo requerido para precisar la Clave del Registro Federal de Contribuyentes correspondiente al contribuyente receptor del
                  comprobante.
                </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute name="nombre" use="optional">
              <xs:annotation>
                <xs:documentation>Atributo opcional para precisar el nombre o razÃ³n social del contribuyente receptor.</xs:documentation>
              </xs:annotation>
              <xs:simpleType>
                <xs:restriction base="xs:string">
                  <xs:minLength value="1"/>
                  <xs:whiteSpace value="collapse"/>
                </xs:restriction>
              </xs:simpleType>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element name="Conceptos">
          <xs:annotation>
            <xs:documentation>Nodo requerido para enlistar los conceptos cubiertos por el comprobante.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element name="Concepto" maxOccurs="unbounded">
                <xs:annotation>
                  <xs:documentation>Nodo para introducir la informaciÃ³n detallada de un bien o servicio amparado en el comprobante.</xs:documentation>
                </xs:annotation>
                <xs:complexType>
                  <xs:choice minOccurs="0">
                    <xs:element name="InformacionAduanera" type="cfdi:t_InformacionAduanera" minOccurs="0" maxOccurs="unbounded">
                      <xs:annotation>
                        <xs:documentation>
                          Nodo opcional para introducir la informaciÃ³n aduanera aplicable cuando se trate de ventas de primera mano de mercancÃ­as
                          importadas.
                        </xs:documentation>
                      </xs:annotation>
                    </xs:element>
                    <xs:element name="CuentaPredial" minOccurs="0">
                      <xs:annotation>
                        <xs:documentation>
                          Nodo opcional para asentar el nÃºmero de cuenta predial con el que fue registrado el inmueble, en el sistema catastral de la entidad
                          federativa de que trate.
                        </xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:attribute name="numero" use="required">
                          <xs:annotation>
                            <xs:documentation>
                              Atributo requerido para precisar el nÃºmero de la cuenta predial del inmueble cubierto por el presente concepto en caso de recibos
                              de arrendamiento.
                            </xs:documentation>
                          </xs:annotation>
                          <xs:simpleType>
                            <xs:restriction base="xs:string">
                              <xs:whiteSpace value="collapse"/>
                              <xs:minLength value="1"/>
                            </xs:restriction>
                          </xs:simpleType>
                        </xs:attribute>
                      </xs:complexType>
                    </xs:element>
                    <xs:element name="ComplementoConcepto" minOccurs="0">
                      <xs:annotation>
                        <xs:documentation>
                          Nodo opcional donde se incluirÃ¡n los nodos complementarios de extensiÃ³n al concepto, definidos por el SAT, de acuerdo a
                          disposiciones particulares a un sector o actividad especifica.
                        </xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:sequence>
                          <xs:any minOccurs="0" maxOccurs="unbounded"/>
                        </xs:sequence>
                      </xs:complexType>
                    </xs:element>
                    <xs:element name="Parte" minOccurs="0" maxOccurs="unbounded">
                      <xs:annotation>
                        <xs:documentation>
                          Nodo opcional para expresar las partes o componentes que integran la totalidad del concepto expresado en el comprobante fiscal
                          digital por Internet
                        </xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:sequence>
                          <xs:element name="InformacionAduanera" type="cfdi:t_InformacionAduanera" minOccurs="0" maxOccurs="unbounded">
                            <xs:annotation>
                              <xs:documentation>
                                Nodo opcional para introducir la informaciÃ³n aduanera aplicable cuando se trate de partes o componentes importados vendidos de
                                primera mano.
                              </xs:documentation>
                            </xs:annotation>
                          </xs:element>
                        </xs:sequence>
                        <xs:attribute name="cantidad" use="required">
                          <xs:annotation>
                            <xs:documentation>
                              Atributo requerido para precisar la cantidad de bienes o servicios del tipo particular definido por la presente
                              parte.
                            </xs:documentation>
                          </xs:annotation>
                          <xs:simpleType>
                            <xs:restriction base="xs:decimal">
                              <xs:whiteSpace value="collapse"/>
                            </xs:restriction>
                          </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="unidad" use="optional">
                          <xs:annotation>
                            <xs:documentation>Atributo opcional para precisar la unidad de medida aplicable para la cantidad expresada en la parte.</xs:documentation>
                          </xs:annotation>
                          <xs:simpleType>
                            <xs:restriction base="xs:string">
                              <xs:whiteSpace value="collapse"/>
                              <xs:minLength value="1"/>
                            </xs:restriction>
                          </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="noIdentificacion" use="optional">
                          <xs:annotation>
                            <xs:documentation>
                              Atributo opcional para expresar el nÃºmero de serie del bien o identificador del servicio amparado por la presente
                              parte.
                            </xs:documentation>
                          </xs:annotation>
                          <xs:simpleType>
                            <xs:restriction base="xs:string">
                              <xs:minLength value="1"/>
                              <xs:whiteSpace value="collapse"/>
                            </xs:restriction>
                          </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="descripcion" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para precisar la descripciÃ³n del bien o servicio cubierto por la presente parte.</xs:documentation>
                          </xs:annotation>
                          <xs:simpleType>
                            <xs:restriction base="xs:string">
                              <xs:minLength value="1"/>
                              <xs:whiteSpace value="collapse"/>
                            </xs:restriction>
                          </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="valorUnitario" type="cfdi:t_Importe" use="optional">
                          <xs:annotation>
                            <xs:documentation>Atributo opcional para precisar el valor o precio unitario del bien o servicio cubierto por la presente parte.</xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                        <xs:attribute name="importe" type="cfdi:t_Importe" use="optional">
                          <xs:annotation>
                            <xs:documentation>
                              Atributo opcional para precisar el importe total de los bienes o servicios de la presente parte. Debe ser equivalente al resultado
                              de multiplicar la cantidad por el valor unitario expresado en la parte.
                            </xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                      </xs:complexType>
                    </xs:element>
                  </xs:choice>
                  <xs:attribute name="cantidad" use="required">
                    <xs:annotation>
                      <xs:documentation>
                        Atributo requerido para precisar la cantidad de bienes o servicios del tipo particular definido por el presente
                        concepto.
                      </xs:documentation>
                    </xs:annotation>
                    <xs:simpleType>
                      <xs:restriction base="xs:decimal">
                        <xs:whiteSpace value="collapse"/>
                      </xs:restriction>
                    </xs:simpleType>
                  </xs:attribute>
                  <xs:attribute name="unidad" use="optional">
                    <xs:annotation>
                      <xs:documentation>Atributo opcional para precisar la unidad de medida aplicable para la cantidad expresada en el concepto.</xs:documentation>
                    </xs:annotation>
                    <xs:simpleType>
                      <xs:restriction base="xs:string">
                        <xs:whiteSpace value="collapse"/>
                        <xs:minLength value="1"/>
                      </xs:restriction>
                    </xs:simpleType>
                  </xs:attribute>
                  <xs:attribute name="noIdentificacion" use="optional">
                    <xs:annotation>
                      <xs:documentation>
                        Atributo opcional para expresar el nÃºmero de serie del bien o identificador del servicio amparado por el presente
                        concepto.
                      </xs:documentation>
                    </xs:annotation>
                    <xs:simpleType>
                      <xs:restriction base="xs:string">
                        <xs:minLength value="1"/>
                        <xs:whiteSpace value="collapse"/>
                      </xs:restriction>
                    </xs:simpleType>
                  </xs:attribute>
                  <xs:attribute name="descripcion" use="required">
                    <xs:annotation>
                      <xs:documentation>Atributo requerido para precisar la descripciÃ³n del bien o servicio cubierto por el presente concepto.</xs:documentation>
                    </xs:annotation>
                    <xs:simpleType>
                      <xs:restriction base="xs:string">
                        <xs:minLength value="1"/>
                        <xs:whiteSpace value="collapse"/>
                      </xs:restriction>
                    </xs:simpleType>
                  </xs:attribute>
                  <xs:attribute name="valorUnitario" type="cfdi:t_Importe" use="required">
                    <xs:annotation>
                      <xs:documentation>Atributo requerido para precisar el valor o precio unitario del bien o servicio cubierto por el presente concepto.</xs:documentation>
                    </xs:annotation>
                  </xs:attribute>
                  <xs:attribute name="importe" type="cfdi:t_Importe" use="required">
                    <xs:annotation>
                      <xs:documentation>
                        Atributo requerido para precisar el importe total de los bienes o servicios del presente concepto. Debe ser equivalente al
                        resultado de multiplicar la cantidad por el valor unitario expresado en el concepto.
                      </xs:documentation>
                    </xs:annotation>
                  </xs:attribute>
                </xs:complexType>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="Impuestos">
          <xs:annotation>
            <xs:documentation>Nodo requerido para capturar los impuestos aplicables.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element name="Retenciones" minOccurs="0">
                <xs:annotation>
                  <xs:documentation>Nodo opcional para capturar los impuestos retenidos aplicables</xs:documentation>
                </xs:annotation>
                <xs:complexType>
                  <xs:sequence>
                    <xs:element name="Retencion" maxOccurs="unbounded">
                      <xs:annotation>
                        <xs:documentation>Nodo para la informaciÃ³n detallada de una retenciÃ³n de impuesto especÃ­fico</xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:attribute name="impuesto" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para seÃ±alar el tipo de impuesto retenido</xs:documentation>
                          </xs:annotation>
                          <xs:simpleType>
                            <xs:restriction base="xs:string">
                              <xs:whiteSpace value="collapse"/>
                              <xs:enumeration value="ISR">
                                <xs:annotation>
                                  <xs:documentation>Impuesto sobre la renta</xs:documentation>
                                </xs:annotation>
                              </xs:enumeration>
                              <xs:enumeration value="IVA">
                                <xs:annotation>
                                  <xs:documentation>Impuesto al Valor Agregado</xs:documentation>
                                </xs:annotation>
                              </xs:enumeration>
                            </xs:restriction>
                          </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="importe" type="cfdi:t_Importe" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para seÃ±alar el importe o monto del impuesto retenido</xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                      </xs:complexType>
                    </xs:element>
                  </xs:sequence>
                </xs:complexType>
              </xs:element>
              <xs:element name="Traslados" minOccurs="0">
                <xs:annotation>
                  <xs:documentation>Nodo opcional para asentar o referir los impuestos trasladados aplicables</xs:documentation>
                </xs:annotation>
                <xs:complexType>
                  <xs:sequence>
                    <xs:element name="Traslado" maxOccurs="unbounded">
                      <xs:annotation>
                        <xs:documentation>Nodo para la informaciÃ³n detallada de un traslado de impuesto especÃ­fico</xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:attribute name="impuesto" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para seÃ±alar el tipo de impuesto trasladado</xs:documentation>
                          </xs:annotation>
                          <xs:simpleType>
                            <xs:restriction base="xs:string">
                              <xs:whiteSpace value="collapse"/>
                              <xs:enumeration value="IVA">
                                <xs:annotation>
                                  <xs:documentation>Impuesto al Valor Agregado</xs:documentation>
                                </xs:annotation>
                              </xs:enumeration>
                              <xs:enumeration value="IEPS">
                                <xs:annotation>
                                  <xs:documentation>Impuesto especial sobre productos y servicios</xs:documentation>
                                </xs:annotation>
                              </xs:enumeration>
                            </xs:restriction>
                          </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="tasa" type="cfdi:t_Importe" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para seÃ±alar la tasa del impuesto que se traslada por cada concepto amparado en el comprobante</xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                        <xs:attribute name="importe" type="cfdi:t_Importe" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para seÃ±alar el importe del impuesto trasladado</xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                      </xs:complexType>
                    </xs:element>
                  </xs:sequence>
                </xs:complexType>
              </xs:element>
            </xs:sequence>
            <xs:attribute name="totalImpuestosRetenidos" type="cfdi:t_Importe" use="optional">
              <xs:annotation>
                <xs:documentation>
                  Atributo opcional para expresar el total de los impuestos retenidos que se desprenden de los conceptos expresados en el comprobante
                  fiscal digital por Internet.
                </xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute name="totalImpuestosTrasladados" type="cfdi:t_Importe" use="optional">
              <xs:annotation>
                <xs:documentation>
                  Atributo opcional para expresar el total de los impuestos trasladados que se desprenden de los conceptos expresados en el
                  comprobante fiscal digital por Internet.
                </xs:documentation>
              </xs:annotation>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element name="Complemento" minOccurs="0">
          <xs:annotation>
            <xs:documentation>
              Nodo opcional donde se incluirÃ¡ el complemento Timbre Fiscal Digital de manera obligatoria y los nodos complementarios determinados
              por el SAT, de acuerdo a las disposiciones particulares a un sector o actividad especifica.
            </xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:any processContents="skip" minOccurs="0"/>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="Addenda" minOccurs="0">
          <xs:annotation>
            <xs:documentation>
              Nodo opcional para recibir las extensiones al presente formato que sean de utilidad al contribuyente. Para las reglas de uso del
              mismo, referirse al formato de origen.
            </xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:any processContents="skip" minOccurs="0"/>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:sequence>
      <xs:attribute name="version" use="required" fixed="3.0">
        <xs:annotation>
          <xs:documentation>
            Atributo requerido con valor prefijado a 3.0 que indica la versiÃ³n del estÃ¡ndar bajo el que se encuentra expresado el
            comprobante.
          </xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="serie" use="optional">
        <xs:annotation>
          <xs:documentation>
            Atributo opcional para precisar la serie para control interno del contribuyente. Este atributo acepta una cadena de caracteres
            alfabÃ©ticos de 1 a 25 caracteres sin incluir caracteres acentuados.
          </xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:minLength value="1"/>
            <xs:maxLength value="25"/>
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="folio">
        <xs:annotation>
          <xs:documentation>
            Atributo opcional para control interno del contribuyente que acepta un valor numÃ©rico entero superior a 0 que expresa el folio del
            comprobante.
          </xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:minLength value="1"/>
            <xs:maxLength value="20"/>
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="fecha" use="required">
        <xs:annotation>
          <xs:documentation>
            Atributo requerido para la expresiÃ³n de la fecha y hora de expediciÃ³n  del comprobante fiscal. Se expresa en la forma
            aaaa-mm-ddThh:mm:ss, de acuerdo con la especificaciÃ³n ISO 8601.
          </xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="sello" use="required">
        <xs:annotation>
          <xs:documentation>
            Atributo requerido para contener el sello digital del comprobante fiscal, al que hacen referencia las reglas de resoluciÃ³n
            miscelÃ¡nea aplicable. El sello deberÃ¡ ser expresado cÃ³mo una cadena de texto en formato
            Base 64.
          </xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="formaDePago" use="required">
        <xs:annotation>
          <xs:documentation>
            Atributo requerido para precisar la forma de pago que aplica para este comprobante fiscal digital por Internet. Se utiliza para
            expresar Pago en una sola exhibiciÃ³n o nÃºmero de parcialidad pagada contra el total de parcialidades, Parcialidad 1 de X.
          </xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="noCertificado" use="required">
        <xs:annotation>
          <xs:documentation>
            Atributo requerido para expresar el nÃºmero de serie del certificado de sello digital que ampara al comprobante, de acuerdo al
            acuse correspondiente a 20 posiciones otorgado por el sistema del SAT.
          </xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="certificado" use="required">
        <xs:annotation>
          <xs:documentation>
            Atributo requerido que sirve para expresar el certificado de sello digital que ampara al comprobante como texto, en formato base
            64.
          </xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="condicionesDePago" use="optional">
        <xs:annotation>
          <xs:documentation>
            Atributo opcional para expresar las condiciones comerciales aplicables para el pago del comprobante fiscal digital por
            Internet.
          </xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
            <xs:minLength value="1"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="subTotal" type="cfdi:t_Importe" use="required">
        <xs:annotation>
          <xs:documentation>Atributo requerido para representar la suma de los importes antes de descuentos e impuestos.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute name="descuento" type="cfdi:t_Importe" use="optional">
        <xs:annotation>
          <xs:documentation>Atributo opcional para representar el importe total de los descuentos aplicables antes de impuestos.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute name="motivoDescuento" use="optional">
        <xs:annotation>
          <xs:documentation>Atributo opcional para expresar el motivo del descuento aplicable.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:minLength value="1"/>
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="TipoCambio" type="xs:string">
        <xs:annotation>
          <xs:documentation>Atributo opcional para representar el tipo de cambio conforme a la moneda usada</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute name="Moneda" type="xs:string">
        <xs:annotation>
          <xs:documentation>Atributo opcional para expresar la moneda utilizada para expresar los montos </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute name="total" type="cfdi:t_Importe" use="required">
        <xs:annotation>
          <xs:documentation>
            Atributo requerido para representar la suma del subtotal, menos los descuentos aplicables, mÃ¡s los impuestos trasladados, menos los
            impuestos retenidos.
          </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute name="metodoDePago" use="optional">
        <xs:annotation>
          <xs:documentation>
            Atributo opcional de texto libre para expresar el mÃ©todo de pago de los bienes o servicios amparados por el comprobante. Se
            entiende como mÃ©todo de pago leyendas tales como: cheque, tarjeta de crÃ©dito o debito, depÃ³sito en cuenta, etc.
          </xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:minLength value="1"/>
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="tipoDeComprobante" use="required">
        <xs:annotation>
          <xs:documentation>Atributo requerido para expresar el efecto del comprobante fiscal para el contribuyente emisor.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:enumeration value="ingreso"/>
            <xs:enumeration value="egreso"/>
            <xs:enumeration value="traslado"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
    </xs:complexType>
  </xs:element>
  <xs:complexType name="t_Ubicacion">
    <xs:annotation>
      <xs:documentation>Tipo definido para expresar domicilios o direcciones</xs:documentation>
    </xs:annotation>
    <xs:attribute name="calle" use="optional">
      <xs:annotation>
        <xs:documentation>Este atributo opcional sirve para precisar la avenida, calle, camino o carretera donde se da la ubicaciÃ³n.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="noExterior" use="optional">
      <xs:annotation>
        <xs:documentation>Este atributo opcional sirve para expresar el nÃºmero particular en donde se da la ubicaciÃ³n sobre una calle dada.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="noInterior" use="optional">
      <xs:annotation>
        <xs:documentation>
          Este atributo opcional sirve para expresar informaciÃ³n adicional para especificar la ubicaciÃ³n cuando calle y nÃºmero exterior
          (noExterior) no resulten suficientes para determinar la ubicaciÃ³n de forma precisa.
        </xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="colonia" use="optional">
      <xs:annotation>
        <xs:documentation>
          Este atributo opcional sirve para precisar la colonia en donde se da la ubicaciÃ³n cuando se desea ser mÃ¡s especÃ­fico en casos de
          ubicaciones urbanas.
        </xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="localidad" use="optional">
      <xs:annotation>
        <xs:documentation>Atributo opcional que sirve para precisar la ciudad o poblaciÃ³n donde se da la ubicaciÃ³n.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="referencia" use="optional">
      <xs:annotation>
        <xs:documentation>Atributo opcional para expresar una referencia de ubicaciÃ³n adicional.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="municipio" use="optional">
      <xs:annotation>
        <xs:documentation>
          Atributo opcional que sirve para precisar el municipio o delegaciÃ³n (en el caso del Distrito Federal) en donde se da la
          ubicaciÃ³n.
        </xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="estado" use="optional">
      <xs:annotation>
        <xs:documentation>Atributo opcional que sirve para precisar el estado o entidad federativa donde se da la ubicaciÃ³n.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="pais" use="required">
      <xs:annotation>
        <xs:documentation>Atributo requerido que sirve para precisar el paÃ­s donde se da la ubicaciÃ³n.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="codigoPostal" use="optional">
      <xs:annotation>
        <xs:documentation>Atributo opcional que sirve para asentar el cÃ³digo postal en donde se da la ubicaciÃ³n.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="t_UbicacionFiscal">
    <xs:annotation>
      <xs:documentation>Tipo definido para expresar domicilios o direcciones</xs:documentation>
    </xs:annotation>
    <xs:attribute name="calle" use="required">
      <xs:annotation>
        <xs:documentation>Este atributo requerido sirve para precisar la avenida, calle, camino o carretera donde se da la ubicaciÃ³n.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="noExterior" use="optional">
      <xs:annotation>
        <xs:documentation>Este atributo opcional sirve para expresar el nÃºmero particular en donde se da la ubicaciÃ³n sobre una calle dada.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="noInterior" use="optional">
      <xs:annotation>
        <xs:documentation>
          Este atributo opcional sirve para expresar informaciÃ³n adicional para especificar la ubicaciÃ³n cuando calle y nÃºmero exterior
          (noExterior) no resulten suficientes para determinar la ubicaciÃ³n de forma precisa.
        </xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="colonia" use="optional">
      <xs:annotation>
        <xs:documentation>
          Este atributo opcional sirve para precisar la colonia en donde se da la ubicaciÃ³n cuando se desea ser mÃ¡s especÃ­fico en casos de
          ubicaciones urbanas.
        </xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="localidad" use="optional">
      <xs:annotation>
        <xs:documentation>Atributo opcional que sirve para precisar la ciudad o poblaciÃ³n donde se da la ubicaciÃ³n.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="referencia" use="optional">
      <xs:annotation>
        <xs:documentation>Atributo opcional para expresar una referencia de ubicaciÃ³n adicional.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:whiteSpace value="collapse"/>
          <xs:minLength value="1"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="municipio" use="required">
      <xs:annotation>
        <xs:documentation>
          Atributo requerido que sirve para precisar el municipio o delegaciÃ³n (en el caso del Distrito Federal) en donde se da la
          ubicaciÃ³n.
        </xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="estado" use="required">
      <xs:annotation>
        <xs:documentation>Atributo requerido que sirve para precisar el estado o entidad federativa donde se da la ubicaciÃ³n.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="pais" use="required">
      <xs:annotation>
        <xs:documentation>Atributo requerido que sirve para precisar el paÃ­s donde se da la ubicaciÃ³n.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="codigoPostal" use="required">
      <xs:annotation>
        <xs:documentation>Atributo requerido que sirve para asentar el cÃ³digo postal en donde se da la ubicaciÃ³n.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:whiteSpace value="collapse"/>
          <xs:length value="5"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
  </xs:complexType>
  <xs:simpleType name="t_RFC">
    <xs:annotation>
      <xs:documentation>Tipo definido para expresar claves del Registro Federal de Contribuyentes</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:minLength value="12"/>
      <xs:maxLength value="13"/>
      <xs:whiteSpace value="collapse"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="t_Importe">
    <xs:annotation>
      <xs:documentation>Tipo definido para expresar importes numÃ©ricos con fracciÃ³n hasta seis decimales</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:decimal">
      <xs:fractionDigits value="6"/>
      <xs:whiteSpace value="collapse"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="t_InformacionAduanera">
    <xs:annotation>
      <xs:documentation>Tipo definido para expresar informaciÃ³n aduanera</xs:documentation>
    </xs:annotation>
    <xs:attribute name="numero" use="required">
      <xs:annotation>
        <xs:documentation>Atributo requerido para expresar el nÃºmero del documento aduanero que ampara la importaciÃ³n del bien.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="fecha" use="required">
      <xs:annotation>
        <xs:documentation>Atributo requerido para expresar la fecha de expediciÃ³n del documento aduanero que ampara la importaciÃ³n del bien.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="aduana" use="required">
      <xs:annotation>
        <xs:documentation>Atributo requerido para precisar la aduana por la que se efectuÃ³ la importaciÃ³n del bien.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
  </xs:complexType>
</xs:schema>
'

IF NOT EXISTS(SELECT * FROM eDocXSD WHERE Modulo = 'VTAS' AND Clave = 'AMC7.1_CFDI') 
INSERT INTO eDocXSD (Modulo, Clave, XSD) SELECT 'VTAS', 'AMC7.1_CFDI',
'<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://www.sat.gob.mx/cfd/2" targetNamespace="http://www.sat.gob.mx/cfd/2" elementFormDefault="qualified" attributeFormDefault="unqualified">
	<xs:element name="requestForPayment">
		<xs:complexType>
			<xs:sequence>
				<xs:element name="requestForPaymentIdentification">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="entityType">
								<xs:simpleType>
									<xs:restriction base="xs:NMTOKEN">
										<xs:enumeration value="INVOICE"/>
										<xs:enumeration value="DEBIT_NOTE"/>
										<xs:enumeration value="CREDIT_NOTE"/>
										<xs:enumeration value="LEASE_RECEIPT"/>
										<xs:enumeration value="HONORARY_RECEIPT"/>
										<xs:enumeration value="PARTIAL_INVOICE"/>
										<xs:enumeration value="TRANSPORT_DOCUMENT"/>
										<xs:enumeration value="AUTO_INVOICE"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="uniqueCreatorIdentification">
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:minLength value="1"/>
										<xs:maxLength value="17"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="specialInstruction" minOccurs="0" maxOccurs="4">
					<xs:complexType mixed="true">
						<xs:sequence>
							<xs:element name="text" maxOccurs="15">
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:minLength value="1"/>
										<xs:maxLength value="255"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
						</xs:sequence>
						<xs:attribute name="code" use="required">
							<xs:simpleType>
								<xs:restriction base="xs:NMTOKEN">
									<xs:maxLength value="3"/>
									<xs:minLength value="1"/>
									<xs:enumeration value="AAB"/>
									<xs:enumeration value="DUT"/>
									<xs:enumeration value="PUR"/>
									<xs:enumeration value="ZZZ"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
					</xs:complexType>
				</xs:element>
				<xs:element name="orderIdentification">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="referenceIdentification" maxOccurs="30">
								<xs:complexType>
									<xs:simpleContent>
										<xs:extension base="xs:string">
											<xs:attribute name="type" use="required" fixed="ON">
												<xs:annotation>
													<xs:appinfo source="ON"/>
												</xs:annotation>
												<xs:simpleType>
													<xs:restriction base="xs:NMTOKEN">
														<xs:enumeration value="ON"/>
													</xs:restriction>
												</xs:simpleType>
											</xs:attribute>
										</xs:extension>
									</xs:simpleContent>
								</xs:complexType>
							</xs:element>
							<xs:element name="ReferenceDate" type="xs:string" minOccurs="0"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="AdditionalInformation">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="referenceIdentification" maxOccurs="99">
								<xs:complexType>
									<xs:simpleContent>
										<xs:extension base="xs:string">
											<xs:attribute name="type" use="required">
												<xs:simpleType>
													<xs:restriction base="xs:NMTOKEN">
														<xs:enumeration value="AAE"/>
														<xs:enumeration value="CK"/>
														<xs:enumeration value="ACE"/>
														<xs:enumeration value="ATZ"/>
														<xs:enumeration value="DQ"/>
														<xs:enumeration value="IV"/>
														<xs:enumeration value="ON"/>
														<xs:enumeration value="AWR"/>
													</xs:restriction>
												</xs:simpleType>
											</xs:attribute>
										</xs:extension>
									</xs:simpleContent>
								</xs:complexType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="DeliveryNote" minOccurs="0">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="referenceIdentification" maxOccurs="30">
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:minLength value="1"/>
										<xs:maxLength value="35"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="ReferenceDate" type="xs:string" minOccurs="0"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="buyer">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="gln">
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:length value="13"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="contactInformation" minOccurs="0">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="personOrDepartmentName">
											<xs:complexType>
												<xs:sequence>
													<xs:element name="text">
														<xs:simpleType>
															<xs:restriction base="xs:string">
																<xs:minLength value="1"/>
																<xs:maxLength value="35"/>
															</xs:restriction>
														</xs:simpleType>
													</xs:element>
												</xs:sequence>
											</xs:complexType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="seller" minOccurs="0">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="gln">
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:length value="13"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="alternatePartyIdentification">
								<xs:complexType>
									<xs:simpleContent>
										<xs:extension base="xs:string">
											<xs:attribute name="type" use="required">
												<xs:simpleType>
													<xs:restriction base="xs:NMTOKEN">
														<xs:minLength value="1"/>
														<xs:maxLength value="40"/>
														<xs:enumeration value="SELLER_ASSIGNED_IDENTIFIER_FOR_A_PARTY"/>
														<xs:enumeration value="IEPS_REFERENCE"/>
													</xs:restriction>
												</xs:simpleType>
											</xs:attribute>
										</xs:extension>
									</xs:simpleContent>
								</xs:complexType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="shipTo" minOccurs="0">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="gln" minOccurs="0">
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:length value="13"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="nameAndAddress" minOccurs="0">
								<xs:complexType>
									<xs:sequence maxOccurs="unbounded">
										<xs:element name="name">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="35"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
										<xs:element name="streetAddressOne" minOccurs="0">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="35"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
										<xs:element name="city" minOccurs="0">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="35"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
										<xs:element name="postalCode" minOccurs="0">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="9"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="InvoiceCreator" minOccurs="0">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="gln" minOccurs="0">
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:length value="13"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="alternatePartyIdentification" minOccurs="0">
								<xs:complexType>
									<xs:simpleContent>
										<xs:extension base="xs:string">
											<xs:attribute name="type" use="required">
												<xs:simpleType>
													<xs:restriction base="xs:NMTOKEN">
														<xs:length value="2"/>
														<xs:enumeration value="VA"/>
														<xs:enumeration value="IA"/>
													</xs:restriction>
												</xs:simpleType>
											</xs:attribute>
										</xs:extension>
									</xs:simpleContent>
								</xs:complexType>
							</xs:element>
							<xs:element name="nameAndAddress" minOccurs="0">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="name" minOccurs="0">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="35"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
										<xs:element name="streetAddressOne" minOccurs="0">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="35"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
										<xs:element name="city" minOccurs="0">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="35"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
										<xs:element name="postalCode" minOccurs="0">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="9"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="Customs" minOccurs="0" maxOccurs="999999">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="gln" minOccurs="0">
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:length value="13"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="alternatePartyIdentification">
								<xs:complexType>
									<xs:simpleContent>
										<xs:extension base="xs:string">
											<xs:attribute name="type" use="required">
												<xs:simpleType>
													<xs:restriction base="xs:NMTOKEN">
														<xs:length value="2"/>
														<xs:enumeration value="TN"/>
													</xs:restriction>
												</xs:simpleType>
											</xs:attribute>
										</xs:extension>
									</xs:simpleContent>
								</xs:complexType>
							</xs:element>
							<xs:element name="ReferenceDate" type="xs:string"/>
							<xs:element name="nameAndAddress" minOccurs="0">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="name">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="35"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
										<xs:element name="city">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="35"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="currency" minOccurs="0" maxOccurs="3">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="currencyFunction" maxOccurs="3">
								<xs:simpleType>
									<xs:restriction base="xs:NMTOKEN">
										<xs:maxLength value="16"/>
										<xs:minLength value="1"/>
										<xs:enumeration value="BILLING_CURRENCY"/>
										<xs:enumeration value="PRICE_CURRENCY"/>
										<xs:enumeration value="PAYMENT_CURRENCY"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="rateOfChange" type="xs:decimal" minOccurs="0"/>
						</xs:sequence>
						<xs:attribute name="currencyISOCode" use="required">
							<xs:simpleType>
								<xs:restriction base="xs:NMTOKEN">
									<xs:length value="3"/>
									<xs:enumeration value="MXN"/>
									<xs:enumeration value="XEU"/>
									<xs:enumeration value="USD"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
					</xs:complexType>
				</xs:element>
				<xs:element name="paymentTerms" minOccurs="0">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="netPayment" minOccurs="0">
								<xs:complexType>
									<xs:sequence minOccurs="0">
										<xs:element name="paymentTimePeriod" minOccurs="0">
											<xs:complexType>
												<xs:sequence>
													<xs:element name="timePeriodDue">
														<xs:complexType>
															<xs:sequence>
																<xs:element name="value">
																	<xs:simpleType>
																		<xs:restriction base="xs:string">
																			<xs:minLength value="1"/>
																			<xs:maxLength value="5"/>
																		</xs:restriction>
																	</xs:simpleType>
																</xs:element>
															</xs:sequence>
															<xs:attribute name="timePeriod" use="required">
																<xs:simpleType>
																	<xs:restriction base="xs:NMTOKEN">
																		<xs:minLength value="1"/>
																		<xs:maxLength value="6"/>
																		<xs:enumeration value="DAYS"/>
																	</xs:restriction>
																</xs:simpleType>
															</xs:attribute>
														</xs:complexType>
													</xs:element>
												</xs:sequence>
											</xs:complexType>
										</xs:element>
									</xs:sequence>
									<xs:attribute name="netPaymentTermsType" use="required">
										<xs:simpleType>
											<xs:restriction base="xs:NMTOKEN">
												<xs:maxLength value="22"/>
												<xs:minLength value="1"/>
												<xs:enumeration value="BASIC_NET"/>
												<xs:enumeration value="END_OF_MONTH"/>
												<xs:enumeration value="BASIC_DISCOUNT_OFFERED"/>
											</xs:restriction>
										</xs:simpleType>
									</xs:attribute>
								</xs:complexType>
							</xs:element>
							<xs:element name="discountPayment" minOccurs="0">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="percentage">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="5"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
									</xs:sequence>
									<xs:attribute name="discountType" use="required">
										<xs:simpleType>
											<xs:restriction base="xs:NMTOKEN">
												<xs:maxLength value="28"/>
												<xs:minLength value="1"/>
												<xs:enumeration value="ALLOWANCE_BY_PAYMENT_ON_TIME"/>
												<xs:enumeration value="SANCTION"/>
											</xs:restriction>
										</xs:simpleType>
									</xs:attribute>
								</xs:complexType>
							</xs:element>
						</xs:sequence>
						<xs:attribute name="paymentTermsEvent" use="optional">
							<xs:simpleType>
								<xs:restriction base="xs:NMTOKEN">
									<xs:maxLength value="15"/>
									<xs:minLength value="1"/>
									<xs:enumeration value="DATE_OF_INVOICE"/>
									<xs:enumeration value="EFFECTIVE_DATE"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
						<xs:attribute name="PaymentTermsRelationTime" use="optional">
							<xs:simpleType>
								<xs:restriction base="xs:NMTOKEN">
									<xs:minLength value="1"/>
									<xs:maxLength value="15"/>
									<xs:enumeration value="REFERENCE_AFTER"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
					</xs:complexType>
				</xs:element>
				<xs:element name="shipmentDetail" minOccurs="0"/>
				<xs:element name="allowanceCharge" minOccurs="0" maxOccurs="99">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="specialServicesType" minOccurs="0">
								<xs:simpleType>
									<xs:restriction base="xs:NMTOKEN">
										<xs:minLength value="1"/>
										<xs:maxLength value="3"/>
										<xs:enumeration value="AA"/>
										<xs:enumeration value="AJ"/>
										<xs:enumeration value="ADO"/>
										<xs:enumeration value="ADT"/>
										<xs:enumeration value="ADS"/>
										<xs:enumeration value="ABZ"/>
										<xs:enumeration value="DA"/>
										<xs:enumeration value="EAA"/>
										<xs:enumeration value="EAB"/>
										<xs:enumeration value="PI"/>
										<xs:enumeration value="TAE"/>
										<xs:enumeration value="SAB"/>
										<xs:enumeration value="RAA"/>
										<xs:enumeration value="PAD"/>
										<xs:enumeration value="FG"/>
										<xs:enumeration value="FA"/>
										<xs:enumeration value="TD"/>
										<xs:enumeration value="TS"/>
										<xs:enumeration value="TX"/>
										<xs:enumeration value="TZ"/>
										<xs:enumeration value="ZZZ"/>
										<xs:enumeration value="VAB"/>
										<xs:enumeration value="UM"/>
										<xs:enumeration value="DI"/>
										<xs:enumeration value="CAC"/>
										<xs:enumeration value="COD"/>
										<xs:enumeration value="EAB"/>
										<xs:enumeration value="FC"/>
										<xs:enumeration value="FI"/>
										<xs:enumeration value="HD"/>
										<xs:enumeration value="QD"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="monetaryAmountOrPercentage" minOccurs="0">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="rate" minOccurs="0">
											<xs:complexType>
												<xs:sequence>
													<xs:element name="percentage" type="xs:decimal"/>
												</xs:sequence>
												<xs:attribute name="base" use="required">
													<xs:simpleType>
														<xs:restriction base="xs:NMTOKEN">
															<xs:length value="13"/>
															<xs:enumeration value="INVOICE_VALUE"/>
														</xs:restriction>
													</xs:simpleType>
												</xs:attribute>
											</xs:complexType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
						</xs:sequence>
						<xs:attribute name="allowanceChargeType" use="required">
							<xs:simpleType>
								<xs:restriction base="xs:NMTOKEN">
									<xs:minLength value="1"/>
									<xs:maxLength value="16"/>
									<xs:enumeration value="ALLOWANCE_GLOBAL"/>
									<xs:enumeration value="CHARGE_GLOBAL"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
						<xs:attribute name="settlementType" use="required">
							<xs:simpleType>
								<xs:restriction base="xs:NMTOKEN">
									<xs:minLength value="1"/>
									<xs:maxLength value="11"/>
									<xs:enumeration value="BILL_BACK"/>
									<xs:enumeration value="OFF_INVOICE"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
						<xs:attribute name="sequenceNumber" use="optional">
							<xs:simpleType>
								<xs:restriction base="xs:string">
									<xs:minLength value="1"/>
									<xs:maxLength value="15"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
					</xs:complexType>
				</xs:element>
				<xs:element name="lineItem" minOccurs="0" maxOccurs="9999999">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="tradeItemIdentification">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="gtin">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="14"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
							<xs:element name="alternateTradeItemIdentification" minOccurs="0" maxOccurs="999999">
								<xs:complexType mixed="true">
									<xs:simpleContent>
										<xs:extension base="xs:string">
											<xs:attribute name="type" use="required">
												<xs:simpleType>
													<xs:restriction base="xs:NMTOKEN">
														<xs:minLength value="1"/>
														<xs:maxLength value="35"/>
														<xs:enumeration value="BUYER_ASSIGNED"/>
														<xs:enumeration value="SUPPLIER_ASSIGNED"/>
														<xs:enumeration value="SERIAL_NUMBER"/>
														<xs:enumeration value="GLOBAL_TRADE_ITEM_IDENTIFICATION"/>
													</xs:restriction>
												</xs:simpleType>
											</xs:attribute>
										</xs:extension>
									</xs:simpleContent>
								</xs:complexType>
							</xs:element>
							<xs:element name="tradeItemDescriptionInformation" minOccurs="0">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="longText">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="35"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
									</xs:sequence>
									<xs:attribute name="language" use="optional">
										<xs:simpleType>
											<xs:restriction base="xs:NMTOKEN">
												<xs:length value="2"/>
												<xs:enumeration value="ES"/>
												<xs:enumeration value="EN"/>
											</xs:restriction>
										</xs:simpleType>
									</xs:attribute>
								</xs:complexType>
							</xs:element>
							<xs:element name="invoicedQuantity">
								<xs:complexType mixed="true">
									<xs:simpleContent>
										<xs:extension base="xs:decimal">
											<xs:attribute name="unitOfMeasure" type="xs:NMTOKEN" use="required"/>
										</xs:extension>
									</xs:simpleContent>
								</xs:complexType>
							</xs:element>
							<xs:element name="aditionalQuantity" minOccurs="0" maxOccurs="9999">
								<xs:complexType mixed="true">
									<xs:simpleContent>
										<xs:extension base="xs:decimal">
											<xs:attribute name="QuantityType" use="required">
												<xs:simpleType>
													<xs:restriction base="xs:NMTOKEN">
														<xs:minLength value="1"/>
														<xs:maxLength value="18"/>
														<xs:enumeration value="NUM_CONSUMER_UNITS"/>
														<xs:enumeration value="FREE_GOODS"/>
													</xs:restriction>
												</xs:simpleType>
											</xs:attribute>
										</xs:extension>
									</xs:simpleContent>
								</xs:complexType>
							</xs:element>
							<xs:element name="grossPrice" minOccurs="0">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="Amount" type="xs:decimal"/>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
							<xs:element name="netPrice" minOccurs="0">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="Amount" type="xs:decimal"/>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
							<xs:element name="AdditionalInformation" minOccurs="0">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="referenceIdentification" minOccurs="0">
											<xs:complexType>
												<xs:simpleContent>
													<xs:extension base="xs:string">
														<xs:attribute name="type" use="required">
															<xs:simpleType>
																<xs:restriction base="xs:NMTOKEN">
																	<xs:length value="2"/>
																	<xs:enumeration value="ON"/>
																</xs:restriction>
															</xs:simpleType>
														</xs:attribute>
													</xs:extension>
												</xs:simpleContent>
											</xs:complexType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
							<xs:element name="Customs" minOccurs="0" maxOccurs="999999">
								<xs:complexType>
									<xs:all>
										<xs:element name="gln" minOccurs="0">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:length value="14"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
										<xs:element name="alternatePartyIdentification">
											<xs:complexType>
												<xs:simpleContent>
													<xs:extension base="xs:string">
														<xs:attribute name="type" use="required">
															<xs:simpleType>
																<xs:restriction base="xs:NMTOKEN">
																	<xs:length value="2"/>
																	<xs:enumeration value="TN"/>
																</xs:restriction>
															</xs:simpleType>
														</xs:attribute>
													</xs:extension>
												</xs:simpleContent>
											</xs:complexType>
										</xs:element>
										<xs:element name="ReferenceDate" type="xs:string"/>
										<xs:element name="nameAndAddress">
											<xs:complexType>
												<xs:sequence>
													<xs:element name="name">
														<xs:simpleType>
															<xs:restriction base="xs:string">
																<xs:minLength value="1"/>
																<xs:maxLength value="35"/>
															</xs:restriction>
														</xs:simpleType>
													</xs:element>
												</xs:sequence>
											</xs:complexType>
										</xs:element>
									</xs:all>
								</xs:complexType>
							</xs:element>
							<xs:element name="LogisticUnits" minOccurs="0">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="serialShippingContainerCode">
											<xs:complexType>
												<xs:simpleContent>
													<xs:extension base="xs:string">
														<xs:attribute name="type" use="required">
															<xs:simpleType>
																<xs:restriction base="xs:NMTOKEN">
																	<xs:minLength value="1"/>
																	<xs:maxLength value="3"/>
																	<xs:enumeration value="BJ"/>
																	<xs:enumeration value="SRV"/>
																</xs:restriction>
															</xs:simpleType>
														</xs:attribute>
													</xs:extension>
												</xs:simpleContent>
											</xs:complexType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
							<xs:element name="palletInformation" minOccurs="0">
								<xs:complexType>
									<xs:all>
										<xs:element name="palletQuantity">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="15"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
										<xs:element name="description">
											<xs:complexType mixed="true">
												<xs:simpleContent>
													<xs:extension base="xs:string">
														<xs:attribute name="type" use="required">
															<xs:simpleType>
																<xs:restriction base="xs:NMTOKEN">
																	<xs:maxLength value="35"/>
																	<xs:minLength value="1"/>
																	<xs:enumeration value="EXCHANGE_PALLETS"/>
																	<xs:enumeration value="RETURN_PALLETS"/>
																	<xs:enumeration value="PALLET_80x100"/>
																	<xs:enumeration value="CASE"/>
																	<xs:enumeration value="BOX"/>
																</xs:restriction>
															</xs:simpleType>
														</xs:attribute>
													</xs:extension>
												</xs:simpleContent>
											</xs:complexType>
										</xs:element>
										<xs:element name="transport">
											<xs:complexType>
												<xs:sequence>
													<xs:element name="methodOfPayment">
														<xs:simpleType>
															<xs:restriction base="xs:NMTOKEN">
																<xs:maxLength value="17"/>
																<xs:minLength value="1"/>
																<xs:enumeration value="PREPAID_BY_SELLER"/>
																<xs:enumeration value="PAID_BY_BUYER"/>
															</xs:restriction>
														</xs:simpleType>
													</xs:element>
												</xs:sequence>
											</xs:complexType>
										</xs:element>
									</xs:all>
								</xs:complexType>
							</xs:element>
							<xs:element name="extendedAttributes" minOccurs="0">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="lotNumber" maxOccurs="10">
											<xs:complexType>
												<xs:simpleContent>
													<xs:extension base="xs:string">
														<xs:attribute name="productionDate" type="xs:string" use="optional"/>
													</xs:extension>
												</xs:simpleContent>
											</xs:complexType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
							<xs:element name="allowanceCharge" minOccurs="0" maxOccurs="99">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="specialServicesType" minOccurs="0">
											<xs:simpleType>
												<xs:restriction base="xs:NMTOKEN">
													<xs:maxLength value="3"/>
													<xs:minLength value="1"/>
													<xs:enumeration value="AA"/>
													<xs:enumeration value="ADS"/>
													<xs:enumeration value="ADO"/>
													<xs:enumeration value="ABZ"/>
													<xs:enumeration value="DA"/>
													<xs:enumeration value="EAA"/>
													<xs:enumeration value="PI"/>
													<xs:enumeration value="TAE"/>
													<xs:enumeration value="SAB"/>
													<xs:enumeration value="RAA"/>
													<xs:enumeration value="PAD"/>
													<xs:enumeration value="FG"/>
													<xs:enumeration value="FA"/>
													<xs:enumeration value="TD"/>
													<xs:enumeration value="TS"/>
													<xs:enumeration value="TX"/>
													<xs:enumeration value="ZZZ"/>
													<xs:enumeration value="VAB"/>
													<xs:enumeration value="UM"/>
													<xs:enumeration value="DI"/>
													<xs:enumeration value="ADT"/>
													<xs:enumeration value="AJ"/>
													<xs:enumeration value="CAC"/>
													<xs:enumeration value="COD"/>
													<xs:enumeration value="EAB"/>
													<xs:enumeration value="FC"/>
													<xs:enumeration value="FI"/>
													<xs:enumeration value="HD"/>
													<xs:enumeration value="QD"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
										<xs:element name="monetaryAmountOrPercentage">
											<xs:complexType>
												<xs:sequence>
													<xs:element name="percentagePerUnit">
														<xs:simpleType>
															<xs:restriction base="xs:string">
																<xs:minLength value="1"/>
																<xs:maxLength value="5"/>
															</xs:restriction>
														</xs:simpleType>
													</xs:element>
													<xs:element name="ratePerUnit" minOccurs="0">
														<xs:complexType>
															<xs:sequence>
																<xs:element name="amountPerUnit">
																	<xs:simpleType>
																		<xs:restriction base="xs:string">
																			<xs:minLength value="1"/>
																			<xs:maxLength value="5"/>
																		</xs:restriction>
																	</xs:simpleType>
																</xs:element>
															</xs:sequence>
														</xs:complexType>
													</xs:element>
												</xs:sequence>
											</xs:complexType>
										</xs:element>
									</xs:sequence>
									<xs:attribute name="allowanceChargeType" use="required">
										<xs:simpleType>
											<xs:restriction base="xs:NMTOKEN">
												<xs:minLength value="1"/>
												<xs:maxLength value="16"/>
												<xs:enumeration value="ALLOWANCE_GLOBAL"/>
												<xs:enumeration value="CHARGE_GLOBAL"/>
											</xs:restriction>
										</xs:simpleType>
									</xs:attribute>
									<xs:attribute name="settlementType" use="optional">
										<xs:simpleType>
											<xs:restriction base="xs:NMTOKEN">
												<xs:minLength value="1"/>
												<xs:maxLength value="29"/>
												<xs:enumeration value="OFF_INVOICE"/>
												<xs:enumeration value="CHARGE_TO_BE_PAID_BY_VENDOR"/>
												<xs:enumeration value="CHARGE_TO_BE_PAID_BY_CUSTOMER"/>
											</xs:restriction>
										</xs:simpleType>
									</xs:attribute>
									<xs:attribute name="sequenceNumber" use="optional">
										<xs:simpleType>
											<xs:restriction base="xs:string">
												<xs:minLength value="1"/>
												<xs:maxLength value="15"/>
											</xs:restriction>
										</xs:simpleType>
									</xs:attribute>
								</xs:complexType>
							</xs:element>
							<xs:element name="tradeItemTaxInformation" minOccurs="0" maxOccurs="99">
								<xs:complexType>
									<xs:all>
										<xs:element name="taxTypeDescription">
											<xs:simpleType>
												<xs:restriction base="xs:NMTOKEN">
													<xs:length value="3"/>
													<xs:enumeration value="GST"/>
													<xs:enumeration value="VAT"/>
													<xs:enumeration value="LAC"/>
													<xs:enumeration value="AAA"/>
													<xs:enumeration value="ADD"/>
													<xs:enumeration value="FRE"/>
													<xs:enumeration value="LOC"/>
													<xs:enumeration value="STT"/>
													<xs:enumeration value="OTH"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
										<xs:element name="referenceNumber" minOccurs="0">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="20"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
										<xs:element name="tradeItemTaxAmount" minOccurs="0">
											<xs:complexType>
												<xs:sequence>
													<xs:element name="taxPercentage" type="xs:decimal"/>
													<xs:element name="taxAmount" type="xs:decimal"/>
												</xs:sequence>
											</xs:complexType>
										</xs:element>
										<xs:element name="taxCategory" minOccurs="0">
											<xs:simpleType>
												<xs:restriction base="xs:NMTOKEN">
													<xs:minLength value="0"/>
													<xs:maxLength value="11"/>
													<xs:enumeration value="TRANSFERIDO"/>
													<xs:enumeration value="RETENIDO"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
									</xs:all>
								</xs:complexType>
							</xs:element>
							<xs:element name="totalLineAmount">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="grossAmount" minOccurs="0">
											<xs:complexType>
												<xs:sequence>
													<xs:element name="Amount" type="xs:decimal"/>
												</xs:sequence>
											</xs:complexType>
										</xs:element>
										<xs:element name="netAmount">
											<xs:complexType>
												<xs:sequence>
													<xs:element name="Amount" type="xs:decimal"/>
												</xs:sequence>
											</xs:complexType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
						</xs:sequence>
						<xs:attribute name="type" use="optional" default="SimpleInvoiceLineItemType">
							<xs:simpleType>
								<xs:restriction base="xs:string">
									<xs:minLength value="1"/>
									<xs:maxLength value="32"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
						<xs:attribute name="number" use="optional">
							<xs:simpleType>
								<xs:restriction base="xs:integer">
									<xs:totalDigits value="5"/>
									<xs:fractionDigits value="0"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
					</xs:complexType>
				</xs:element>
				<xs:element name="totalAmount" minOccurs="0">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="Amount" type="xs:decimal"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="TotalAllowanceCharge" minOccurs="0" maxOccurs="999999">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="specialServicesType" minOccurs="0">
								<xs:simpleType>
									<xs:restriction base="xs:NMTOKEN">
										<xs:minLength value="1"/>
										<xs:maxLength value="3"/>
										<xs:enumeration value="AA"/>
										<xs:enumeration value="ADS"/>
										<xs:enumeration value="ADO"/>
										<xs:enumeration value="ABZ"/>
										<xs:enumeration value="DA"/>
										<xs:enumeration value="EAA"/>
										<xs:enumeration value="PI"/>
										<xs:enumeration value="TAE"/>
										<xs:enumeration value="SAB"/>
										<xs:enumeration value="RAA"/>
										<xs:enumeration value="PAD"/>
										<xs:enumeration value="FG"/>
										<xs:enumeration value="FA"/>
										<xs:enumeration value="TD"/>
										<xs:enumeration value="TS"/>
										<xs:enumeration value="TX"/>
										<xs:enumeration value="ZZZ"/>
										<xs:enumeration value="VAB"/>
										<xs:enumeration value="UM"/>
										<xs:enumeration value="DI"/>
										<xs:enumeration value="ADT"/>
										<xs:enumeration value="AJ"/>
										<xs:enumeration value="CAC"/>
										<xs:enumeration value="COD"/>
										<xs:enumeration value="EAB"/>
										<xs:enumeration value="FC"/>
										<xs:enumeration value="FI"/>
										<xs:enumeration value="HD"/>
										<xs:enumeration value="QD"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="Amount" type="xs:decimal" minOccurs="0"/>
						</xs:sequence>
						<xs:attribute name="allowanceOrChargeType" use="required">
							<xs:simpleType>
								<xs:restriction base="xs:NMTOKEN">
									<xs:minLength value="1"/>
									<xs:maxLength value="9"/>
									<xs:enumeration value="ALLOWANCE"/>
									<xs:enumeration value="CHARGE"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
					</xs:complexType>
				</xs:element>
				<xs:element name="baseAmount" minOccurs="0">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="Amount" type="xs:decimal"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="tax" minOccurs="0" maxOccurs="99">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="taxPercentage" type="xs:decimal" minOccurs="0"/>
							<xs:element name="taxAmount" type="xs:decimal" minOccurs="0"/>
							<xs:element name="taxCategory" minOccurs="0">
								<xs:simpleType>
									<xs:restriction base="xs:NMTOKEN">
										<xs:minLength value="0"/>
										<xs:maxLength value="11"/>
										<xs:enumeration value="TRANSFERIDO"/>
										<xs:enumeration value="RETENIDO"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
						</xs:sequence>
						<xs:attribute name="type" use="optional">
							<xs:simpleType>
								<xs:restriction base="xs:NMTOKEN">
									<xs:length value="3"/>
									<xs:enumeration value="GST"/>
									<xs:enumeration value="VAT"/>
									<xs:enumeration value="LAC"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
					</xs:complexType>
				</xs:element>
				<xs:element name="payableAmount" minOccurs="0">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="Amount" type="xs:decimal"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
			</xs:sequence>
			<xs:attribute name="type" type="xs:string" use="optional" default="SimpleInvoiceType"/>
			<xs:attribute name="contentVersion" type="xs:string" use="optional" default="1.3.1"/>
			<xs:attribute name="documentStructureVersion" type="xs:string" use="required"/>
			<xs:attribute name="documentStatus" use="required">
				<xs:simpleType>
					<xs:restriction base="xs:NMTOKEN">
						<xs:enumeration value="ORIGINAL"/>
						<xs:enumeration value="COPY"/>
						<xs:enumeration value="REEMPLAZA"/>
						<xs:enumeration value="DELETE"/>
					</xs:restriction>
				</xs:simpleType>
			</xs:attribute>
			<xs:attribute name="DeliveryDate" type="xs:string" use="optional"/>
		</xs:complexType>
	</xs:element>
</xs:schema>'

IF NOT EXISTS(SELECT * FROM eDocXSD WHERE Modulo = 'VTAS' AND Clave = 'CoppelR.01_CFDI') 
INSERT INTO eDocXSD (Modulo, Clave, XSD) SELECT 'VTAS', 'CoppelR.01_CFDI',
'<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://www.sat.gob.mx/cfd/2" targetNamespace="http://www.sat.gob.mx/cfd/2" elementFormDefault="qualified" attributeFormDefault="unqualified">
	<xs:element name="requestForPayment">
		<xs:complexType>
			<xs:sequence>
				<xs:element name="requestForPaymentIdentification">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="entityType">
								<xs:simpleType>
									<xs:restriction base="xs:NMTOKEN">
										<xs:enumeration value="INVOICE"/>
										<xs:enumeration value="DEBIT_NOTE"/>
										<xs:enumeration value="CREDIT_NOTE"/>
										<xs:enumeration value="LEASE_RECEIPT"/>
										<xs:enumeration value="HONORARY_RECEIPT"/>
										<xs:enumeration value="PARTIAL_INVOICE"/>
										<xs:enumeration value="TRANSPORT_DOCUMENT"/>
										<xs:enumeration value="AUTO_INVOICE"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="uniqueCreatorIdentification">
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:minLength value="1"/>
										<xs:maxLength value="17"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="orderIdentification">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="referenceIdentification" maxOccurs="30">
								<xs:complexType>
									<xs:simpleContent>
										<xs:extension base="xs:string">
											<xs:attribute name="type" use="required" fixed="ON">
												<xs:annotation>
													<xs:appinfo source="ON"/>
												</xs:annotation>
												<xs:simpleType>
													<xs:restriction base="xs:NMTOKEN">
														<xs:enumeration value="ON"/>
													</xs:restriction>
												</xs:simpleType>
											</xs:attribute>
										</xs:extension>
									</xs:simpleContent>
								</xs:complexType>
							</xs:element>
							<xs:element name="ReferenceDate" type="xs:string" minOccurs="0"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="seller" minOccurs="0">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="gln">
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:length value="13"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="alternatePartyIdentification">
								<xs:complexType>
									<xs:simpleContent>
										<xs:extension base="xs:string">
											<xs:attribute name="type" use="required">
												<xs:simpleType>
													<xs:restriction base="xs:NMTOKEN">
														<xs:minLength value="1"/>
														<xs:maxLength value="40"/>
														<xs:enumeration value="SELLER_ASSIGNED_IDENTIFIER_FOR_A_PARTY"/>
														<xs:enumeration value="IEPS_REFERENCE"/>
													</xs:restriction>
												</xs:simpleType>
											</xs:attribute>
										</xs:extension>
									</xs:simpleContent>
								</xs:complexType>
							</xs:element>
							<xs:element name="IndentificaTipoProv">
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:length value="1"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="shipTo" minOccurs="0">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="gln" minOccurs="0">
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:length value="13"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="nameAndAddress" minOccurs="0">
								<xs:complexType>
									<xs:sequence maxOccurs="unbounded">
										<xs:element name="name">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="35"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
										<xs:element name="streetAddressOne" minOccurs="0">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="35"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
										<xs:element name="city" minOccurs="0">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="35"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
										<xs:element name="postalCode" minOccurs="0">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="9"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
										<xs:element name="bodegaEnt">
											<xs:simpleType>
												<xs:restriction base="xs:integer"/>
											</xs:simpleType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="currency" minOccurs="0" maxOccurs="3">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="currencyFunction" maxOccurs="3">
								<xs:simpleType>
									<xs:restriction base="xs:NMTOKEN">
										<xs:maxLength value="16"/>
										<xs:minLength value="1"/>
										<xs:enumeration value="BILLING_CURRENCY"/>
										<xs:enumeration value="PRICE_CURRENCY"/>
										<xs:enumeration value="PAYMENT_CURRENCY"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="rateOfChange" type="xs:decimal" minOccurs="0"/>
						</xs:sequence>
						<xs:attribute name="currencyISOCode" use="required">
							<xs:simpleType>
								<xs:restriction base="xs:NMTOKEN">
									<xs:length value="3"/>
									<xs:enumeration value="MXN"/>
									<xs:enumeration value="XEU"/>
									<xs:enumeration value="USD"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
					</xs:complexType>
				</xs:element>
				<xs:element name="TotalLotes">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="cantidad">
								<xs:simpleType>
									<xs:restriction base="xs:integer">
										<xs:fractionDigits value="0"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="lineItem" minOccurs="0" maxOccurs="9999999">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="tradeItemIdentification">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="gtin">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="14"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
							<xs:element name="alternateTradeItemIdentification" minOccurs="0" maxOccurs="999999">
								<xs:complexType mixed="true">
									<xs:simpleContent>
										<xs:extension base="xs:string">
											<xs:attribute name="type" use="required">
												<xs:simpleType>
													<xs:restriction base="xs:NMTOKEN">
														<xs:minLength value="1"/>
														<xs:maxLength value="35"/>
														<xs:enumeration value="BUYER_ASSIGNED"/>
														<xs:enumeration value="SUPPLIER_ASSIGNED"/>
														<xs:enumeration value="SERIAL_NUMBER"/>
														<xs:enumeration value="GLOBAL_TRADE_ITEM_IDENTIFICATION"/>
													</xs:restriction>
												</xs:simpleType>
											</xs:attribute>
										</xs:extension>
									</xs:simpleContent>
								</xs:complexType>
							</xs:element>
							<xs:element name="codigoTallaInternoCop">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="codigo">
											<xs:simpleType>
												<xs:restriction base="xs:integer"/>
											</xs:simpleType>
										</xs:element>
										<xs:element name="talla" minOccurs="0">
											<xs:simpleType>
												<xs:restriction base="xs:integer"/>
											</xs:simpleType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
							<xs:element name="tradeItemDescriptionInformation" minOccurs="0">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="longText">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="35"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
									</xs:sequence>
									<xs:attribute name="language" use="optional">
										<xs:simpleType>
											<xs:restriction base="xs:NMTOKEN">
												<xs:length value="2"/>
												<xs:enumeration value="ES"/>
												<xs:enumeration value="EN"/>
											</xs:restriction>
										</xs:simpleType>
									</xs:attribute>
								</xs:complexType>
							</xs:element>
							<xs:element name="invoicedQuantity">
								<xs:complexType mixed="true">
									<xs:simpleContent>
										<xs:extension base="xs:decimal">
											<xs:attribute name="unitOfMeasure" type="xs:NMTOKEN" use="required"/>
										</xs:extension>
									</xs:simpleContent>
								</xs:complexType>
							</xs:element>
							<xs:element name="aditionalQuantity" minOccurs="0" maxOccurs="9999">
								<xs:complexType mixed="true">
									<xs:simpleContent>
										<xs:extension base="xs:decimal">
											<xs:attribute name="QuantityType" use="required">
												<xs:simpleType>
													<xs:restriction base="xs:NMTOKEN">
														<xs:minLength value="1"/>
														<xs:maxLength value="18"/>
														<xs:enumeration value="NUM_CONSUMER_UNITS"/>
														<xs:enumeration value="FREE_GOODS"/>
													</xs:restriction>
												</xs:simpleType>
											</xs:attribute>
										</xs:extension>
									</xs:simpleContent>
								</xs:complexType>
							</xs:element>
							<xs:element name="grossPrice">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="Amount" type="xs:decimal"/>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
							<xs:element name="netPrice">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="Amount" type="xs:decimal"/>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
							<xs:element name="palletInformation" minOccurs="0">
								<xs:complexType>
									<xs:all>
										<xs:element name="description">
											<xs:complexType mixed="true">
												<xs:simpleContent>
													<xs:extension base="xs:string">
														<xs:attribute name="type" use="required">
															<xs:simpleType>
																<xs:restriction base="xs:NMTOKEN">
																	<xs:maxLength value="35"/>
																	<xs:minLength value="1"/>
																	<xs:enumeration value="EXCHANGE_PALLETS"/>
																	<xs:enumeration value="RETURN_PALLETS"/>
																	<xs:enumeration value="PALLET_80x100"/>
																	<xs:enumeration value="CASE"/>
																	<xs:enumeration value="BOX"/>
																</xs:restriction>
															</xs:simpleType>
														</xs:attribute>
													</xs:extension>
												</xs:simpleContent>
											</xs:complexType>
										</xs:element>
										<xs:element name="transport">
											<xs:complexType>
												<xs:sequence>
													<xs:element name="methodOfPayment">
														<xs:simpleType>
															<xs:restriction base="xs:NMTOKEN">
																<xs:maxLength value="17"/>
																<xs:minLength value="1"/>
																<xs:enumeration value="PREPAID_BY_SELLER"/>
																<xs:enumeration value="PAID_BY_BUYER"/>
															</xs:restriction>
														</xs:simpleType>
													</xs:element>
													<xs:element name="prepactCant">
														<xs:simpleType>
															<xs:restriction base="xs:string">
																<xs:maxLength value="4"/>
																<xs:minLength value="1"/>
															</xs:restriction>
														</xs:simpleType>
													</xs:element>
												</xs:sequence>
											</xs:complexType>
										</xs:element>
									</xs:all>
								</xs:complexType>
							</xs:element>
							<xs:element name="extendedAttributes" minOccurs="0">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="lotNumber" maxOccurs="10">
											<xs:complexType>
												<xs:simpleContent>
													<xs:extension base="xs:string">
														<xs:attribute name="productionDate" type="xs:string" use="optional"/>
													</xs:extension>
												</xs:simpleContent>
											</xs:complexType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
							<xs:element name="allowanceCharge" minOccurs="0" maxOccurs="99">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="specialServicesType" minOccurs="0">
											<xs:simpleType>
												<xs:restriction base="xs:NMTOKEN">
													<xs:maxLength value="3"/>
													<xs:minLength value="1"/>
													<xs:enumeration value="AA"/>
													<xs:enumeration value="ADS"/>
													<xs:enumeration value="ADO"/>
													<xs:enumeration value="ABZ"/>
													<xs:enumeration value="DA"/>
													<xs:enumeration value="EAA"/>
													<xs:enumeration value="PI"/>
													<xs:enumeration value="TAE"/>
													<xs:enumeration value="SAB"/>
													<xs:enumeration value="RAA"/>
													<xs:enumeration value="PAD"/>
													<xs:enumeration value="FG"/>
													<xs:enumeration value="FA"/>
													<xs:enumeration value="TD"/>
													<xs:enumeration value="TS"/>
													<xs:enumeration value="TX"/>
													<xs:enumeration value="ZZZ"/>
													<xs:enumeration value="VAB"/>
													<xs:enumeration value="UM"/>
													<xs:enumeration value="DI"/>
													<xs:enumeration value="ADT"/>
													<xs:enumeration value="AJ"/>
													<xs:enumeration value="CAC"/>
													<xs:enumeration value="COD"/>
													<xs:enumeration value="EAB"/>
													<xs:enumeration value="FC"/>
													<xs:enumeration value="FI"/>
													<xs:enumeration value="HD"/>
													<xs:enumeration value="QD"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
										<xs:element name="monetaryAmountOrPercentage">
											<xs:complexType>
												<xs:sequence>
													<xs:element name="percentagePerUnit">
														<xs:simpleType>
															<xs:restriction base="xs:string">
																<xs:minLength value="1"/>
																<xs:maxLength value="5"/>
															</xs:restriction>
														</xs:simpleType>
													</xs:element>
													<xs:element name="ratePerUnit" minOccurs="0">
														<xs:complexType>
															<xs:sequence>
																<xs:element name="amountPerUnit">
																	<xs:simpleType>
																		<xs:restriction base="xs:string">
																			<xs:minLength value="1"/>
																			<xs:maxLength value="5"/>
																		</xs:restriction>
																	</xs:simpleType>
																</xs:element>
															</xs:sequence>
														</xs:complexType>
													</xs:element>
												</xs:sequence>
											</xs:complexType>
										</xs:element>
									</xs:sequence>
									<xs:attribute name="allowanceChargeType" use="required">
										<xs:simpleType>
											<xs:restriction base="xs:NMTOKEN">
												<xs:minLength value="1"/>
												<xs:maxLength value="16"/>
												<xs:enumeration value="ALLOWANCE_GLOBAL"/>
												<xs:enumeration value="CHARGE_GLOBAL"/>
											</xs:restriction>
										</xs:simpleType>
									</xs:attribute>
									<xs:attribute name="settlementType" use="optional">
										<xs:simpleType>
											<xs:restriction base="xs:NMTOKEN">
												<xs:minLength value="1"/>
												<xs:maxLength value="29"/>
												<xs:enumeration value="OFF_INVOICE"/>
												<xs:enumeration value="CHARGE_TO_BE_PAID_BY_VENDOR"/>
												<xs:enumeration value="CHARGE_TO_BE_PAID_BY_CUSTOMER"/>
											</xs:restriction>
										</xs:simpleType>
									</xs:attribute>
									<xs:attribute name="sequenceNumber" use="optional">
										<xs:simpleType>
											<xs:restriction base="xs:string">
												<xs:minLength value="1"/>
												<xs:maxLength value="15"/>
											</xs:restriction>
										</xs:simpleType>
									</xs:attribute>
								</xs:complexType>
							</xs:element>
							<xs:element name="totalLineAmount">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="grossAmount" minOccurs="0">
											<xs:complexType>
												<xs:sequence>
													<xs:element name="Amount" type="xs:decimal"/>
												</xs:sequence>
											</xs:complexType>
										</xs:element>
										<xs:element name="netAmount">
											<xs:complexType>
												<xs:sequence>
													<xs:element name="Amount" type="xs:decimal"/>
												</xs:sequence>
											</xs:complexType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
						</xs:sequence>
						<xs:attribute name="type" use="optional" default="SimpleInvoiceLineItemType">
							<xs:simpleType>
								<xs:restriction base="xs:string">
									<xs:minLength value="1"/>
									<xs:maxLength value="32"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
						<xs:attribute name="number" use="optional">
							<xs:simpleType>
								<xs:restriction base="xs:integer">
									<xs:totalDigits value="5"/>
									<xs:fractionDigits value="0"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
					</xs:complexType>
				</xs:element>
				<xs:element name="totalAmount" minOccurs="0">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="Amount" type="xs:decimal"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="TotalAllowanceCharge" maxOccurs="999999">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="specialServicesType">
								<xs:simpleType>
									<xs:restriction base="xs:NMTOKEN">
										<xs:minLength value="1"/>
										<xs:maxLength value="3"/>
										<xs:enumeration value="AA"/>
										<xs:enumeration value="ADS"/>
										<xs:enumeration value="ADO"/>
										<xs:enumeration value="ABZ"/>
										<xs:enumeration value="DA"/>
										<xs:enumeration value="EAA"/>
										<xs:enumeration value="PI"/>
										<xs:enumeration value="TAE"/>
										<xs:enumeration value="SAB"/>
										<xs:enumeration value="RAA"/>
										<xs:enumeration value="PAD"/>
										<xs:enumeration value="FG"/>
										<xs:enumeration value="FA"/>
										<xs:enumeration value="TD"/>
										<xs:enumeration value="TS"/>
										<xs:enumeration value="TX"/>
										<xs:enumeration value="ZZZ"/>
										<xs:enumeration value="VAB"/>
										<xs:enumeration value="UM"/>
										<xs:enumeration value="DI"/>
										<xs:enumeration value="ADT"/>
										<xs:enumeration value="AJ"/>
										<xs:enumeration value="CAC"/>
										<xs:enumeration value="COD"/>
										<xs:enumeration value="EAB"/>
										<xs:enumeration value="FC"/>
										<xs:enumeration value="FI"/>
										<xs:enumeration value="HD"/>
										<xs:enumeration value="QD"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="Amount" type="xs:decimal"/>
						</xs:sequence>
						<xs:attribute name="allowanceOrChargeType" use="required">
							<xs:simpleType>
								<xs:restriction base="xs:NMTOKEN">
									<xs:minLength value="1"/>
									<xs:maxLength value="9"/>
									<xs:enumeration value="ALLOWANCE"/>
									<xs:enumeration value="CHARGE"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
					</xs:complexType>
				</xs:element>
				<xs:element name="baseAmount">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="Amount" type="xs:decimal"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="tax" maxOccurs="99">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="taxPercentage" type="xs:decimal"/>
							<xs:element name="taxAmount" type="xs:decimal"/>
							<xs:element name="taxCategory" minOccurs="0">
								<xs:simpleType>
									<xs:restriction base="xs:NMTOKEN">
										<xs:minLength value="0"/>
										<xs:maxLength value="11"/>
										<xs:enumeration value="TRANSFERIDO"/>
										<xs:enumeration value="RETENIDO"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
						</xs:sequence>
						<xs:attribute name="type" use="optional">
							<xs:simpleType>
								<xs:restriction base="xs:NMTOKEN">
									<xs:length value="3"/>
									<xs:enumeration value="GST"/>
									<xs:enumeration value="VAT"/>
									<xs:enumeration value="LAC"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
					</xs:complexType>
				</xs:element>
				<xs:element name="payableAmount">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="Amount" type="xs:decimal"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="cadenaOriginal">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="Cadena" type="xs:string"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
			</xs:sequence>
			<xs:attribute name="type" type="xs:string" use="optional" default="SimpleInvoiceType"/>
			<xs:attribute name="contentVersion" type="xs:string" use="optional" default="1.0"/>
			<xs:attribute name="documentStructureVersion" type="xs:string" use="optional" default="CPLR1.0"/>
			<xs:attribute name="documentStatus" use="required">
				<xs:simpleType>
					<xs:restriction base="xs:NMTOKEN">
						<xs:enumeration value="ORIGINAL"/>
						<xs:enumeration value="COPY"/>
						<xs:enumeration value="REEMPLAZA"/>
						<xs:enumeration value="DELETE"/>
					</xs:restriction>
				</xs:simpleType>
			</xs:attribute>
			<xs:attribute name="DeliveryDate" type="xs:string" use="optional"/>
		</xs:complexType>
	</xs:element>
</xs:schema>'

IF NOT EXISTS(SELECT * FROM eDocXSD WHERE Modulo = 'VTAS' AND Clave = 'CoppelM.01_CFDI') 
INSERT INTO eDocXSD (Modulo, Clave, XSD) SELECT 'VTAS', 'CoppelM.01_CFDI',
'<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://www.sat.gob.mx/cfd/2" targetNamespace="http://www.sat.gob.mx/cfd/2" elementFormDefault="qualified" attributeFormDefault="unqualified">
	<xs:element name="requestForPayment">
		<xs:complexType>
			<xs:sequence>
				<xs:element name="requestForPaymentIdentification">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="entityType">
								<xs:simpleType>
									<xs:restriction base="xs:NMTOKEN">
										<xs:enumeration value="INVOICE"/>
										<xs:enumeration value="DEBIT_NOTE"/>
										<xs:enumeration value="CREDIT_NOTE"/>
										<xs:enumeration value="LEASE_RECEIPT"/>
										<xs:enumeration value="HONORARY_RECEIPT"/>
										<xs:enumeration value="PARTIAL_INVOICE"/>
										<xs:enumeration value="TRANSPORT_DOCUMENT"/>
										<xs:enumeration value="AUTO_INVOICE"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="uniqueCreatorIdentification">
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:minLength value="1"/>
										<xs:maxLength value="17"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="orderIdentification">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="referenceIdentification" maxOccurs="30">
								<xs:complexType>
									<xs:simpleContent>
										<xs:extension base="xs:string">
											<xs:attribute name="type" use="required" fixed="ON">
												<xs:annotation>
													<xs:appinfo source="ON"/>
												</xs:annotation>
												<xs:simpleType>
													<xs:restriction base="xs:NMTOKEN">
														<xs:enumeration value="ON"/>
													</xs:restriction>
												</xs:simpleType>
											</xs:attribute>
										</xs:extension>
									</xs:simpleContent>
								</xs:complexType>
							</xs:element>
							<xs:element name="ReferenceDate" type="xs:string"/>
							<xs:element name="FechaPromesaEnt" type="xs:string"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="seller" minOccurs="0">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="gln">
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:length value="13"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="alternatePartyIdentification">
								<xs:complexType>
									<xs:simpleContent>
										<xs:extension base="xs:string">
											<xs:attribute name="type" use="required">
												<xs:simpleType>
													<xs:restriction base="xs:NMTOKEN">
														<xs:minLength value="1"/>
														<xs:maxLength value="40"/>
														<xs:enumeration value="SELLER_ASSIGNED_IDENTIFIER_FOR_A_PARTY"/>
														<xs:enumeration value="IEPS_REFERENCE"/>
													</xs:restriction>
												</xs:simpleType>
											</xs:attribute>
										</xs:extension>
									</xs:simpleContent>
								</xs:complexType>
							</xs:element>
							<xs:element name="IndentificaTipoProv">
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:length value="1"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="shipTo">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="gln" minOccurs="0">
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:length value="13"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="nameAndAddress" minOccurs="0">
								<xs:complexType>
									<xs:sequence maxOccurs="unbounded">
										<xs:element name="name">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="35"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
										<xs:element name="streetAddressOne" minOccurs="0">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="35"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
										<xs:element name="city" minOccurs="0">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="35"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
										<xs:element name="postalCode" minOccurs="0">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="9"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
							<xs:element name="BodegaDestino">
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:length value="5"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="BodegaReceptora">
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:length value="5"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="RegionCel" minOccurs="0">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="Region" minOccurs="0">
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:minLength value="1"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="Customs" minOccurs="0" maxOccurs="999999">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="alternatePartyIdentification">
								<xs:complexType>
									<xs:simpleContent>
										<xs:extension base="xs:string">
											<xs:attribute name="type" use="required">
												<xs:simpleType>
													<xs:restriction base="xs:NMTOKEN">
														<xs:length value="2"/>
														<xs:enumeration value="TN"/>
													</xs:restriction>
												</xs:simpleType>
											</xs:attribute>
										</xs:extension>
									</xs:simpleContent>
								</xs:complexType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="currency" maxOccurs="3">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="currencyFunction" maxOccurs="3">
								<xs:simpleType>
									<xs:restriction base="xs:NMTOKEN">
										<xs:maxLength value="16"/>
										<xs:minLength value="1"/>
										<xs:enumeration value="BILLING_CURRENCY"/>
										<xs:enumeration value="PRICE_CURRENCY"/>
										<xs:enumeration value="PAYMENT_CURRENCY"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="rateOfChange" type="xs:decimal" minOccurs="0"/>
						</xs:sequence>
						<xs:attribute name="currencyISOCode" use="required">
							<xs:simpleType>
								<xs:restriction base="xs:NMTOKEN">
									<xs:length value="3"/>
									<xs:enumeration value="MXN"/>
									<xs:enumeration value="XEU"/>
									<xs:enumeration value="USD"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
					</xs:complexType>
				</xs:element>
				<xs:element name="CotizaOro" minOccurs="0">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="Amount" type="xs:decimal"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="FleteCaja">
					<xs:complexType>
						<xs:simpleContent>
							<xs:extension base="xs:string">
								<xs:attribute name="type" use="required">
									<xs:simpleType>
										<xs:restriction base="xs:NMTOKEN">
											<xs:minLength value="1"/>
											<xs:maxLength value="15"/>
											<xs:enumeration value="SELLER_PROVIDED"/>
											<xs:enumeration value="BUYER_PROVIDED"/>
										</xs:restriction>
									</xs:simpleType>
								</xs:attribute>
							</xs:extension>
						</xs:simpleContent>
					</xs:complexType>
				</xs:element>
				<xs:element name="allowanceCharge" maxOccurs="99">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="specialServicesType">
								<xs:simpleType>
									<xs:restriction base="xs:NMTOKEN">
										<xs:minLength value="1"/>
										<xs:maxLength value="6"/>
										<xs:enumeration value="AA"/>
										<xs:enumeration value="EAB"/>
										<xs:enumeration value="DXDIST"/>
										<xs:enumeration value="DXALM"/>
										<xs:enumeration value="DXECEN"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="monetaryAmountOrPercentage">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="rate">
											<xs:complexType>
												<xs:sequence>
													<xs:element name="percentage" type="xs:decimal"/>
												</xs:sequence>
												<xs:attribute name="base" use="required">
													<xs:simpleType>
														<xs:restriction base="xs:NMTOKEN">
															<xs:length value="13"/>
															<xs:enumeration value="INVOICE_VALUE"/>
														</xs:restriction>
													</xs:simpleType>
												</xs:attribute>
											</xs:complexType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
						</xs:sequence>
						<xs:attribute name="allowanceChargeType" use="required">
							<xs:simpleType>
								<xs:restriction base="xs:NMTOKEN">
									<xs:minLength value="1"/>
									<xs:maxLength value="16"/>
									<xs:enumeration value="ALLOWANCE_GLOBAL"/>
									<xs:enumeration value="CHARGE_GLOBAL"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
						<xs:attribute name="settlementType" use="required">
							<xs:simpleType>
								<xs:restriction base="xs:NMTOKEN">
									<xs:minLength value="1"/>
									<xs:maxLength value="11"/>
									<xs:enumeration value="BILL_BACK"/>
									<xs:enumeration value="OFF_INVOICE"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
						<xs:attribute name="sequenceNumber" use="optional">
							<xs:simpleType>
								<xs:restriction base="xs:string">
									<xs:minLength value="1"/>
									<xs:maxLength value="15"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
					</xs:complexType>
				</xs:element>
				<xs:element name="lineItem" maxOccurs="9999999">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="tradeItemIdentification">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="gtin">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="14"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
							<xs:element name="alternateTradeItemIdentification" minOccurs="0" maxOccurs="999999">
								<xs:complexType mixed="true">
									<xs:simpleContent>
										<xs:extension base="xs:string">
											<xs:attribute name="type" use="required">
												<xs:simpleType>
													<xs:restriction base="xs:NMTOKEN">
														<xs:minLength value="1"/>
														<xs:maxLength value="35"/>
														<xs:enumeration value="BUYER_ASSIGNED"/>
														<xs:enumeration value="SUPPLIER_ASSIGNED"/>
														<xs:enumeration value="SERIAL_NUMBER"/>
														<xs:enumeration value="GLOBAL_TRADE_ITEM_IDENTIFICATION"/>
													</xs:restriction>
												</xs:simpleType>
											</xs:attribute>
										</xs:extension>
									</xs:simpleContent>
								</xs:complexType>
							</xs:element>
							<xs:element name="tradeItemDescriptionInformation">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="longText">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="35"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
									</xs:sequence>
									<xs:attribute name="language" use="optional">
										<xs:simpleType>
											<xs:restriction base="xs:NMTOKEN">
												<xs:length value="2"/>
												<xs:enumeration value="ES"/>
												<xs:enumeration value="EN"/>
											</xs:restriction>
										</xs:simpleType>
									</xs:attribute>
								</xs:complexType>
							</xs:element>
							<xs:element name="invoicedQuantity">
								<xs:complexType mixed="true">
									<xs:simpleContent>
										<xs:extension base="xs:decimal">
											<xs:attribute name="unitOfMeasure" type="xs:NMTOKEN" use="required"/>
										</xs:extension>
									</xs:simpleContent>
								</xs:complexType>
							</xs:element>
							<xs:element name="grossPrice">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="Amount" type="xs:decimal"/>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
							<xs:element name="netPrice">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="Amount" type="xs:decimal"/>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
							<xs:element name="modeloInformation">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="longText">
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="50"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
							<xs:element name="extendedAttributes" minOccurs="0">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="lotNumber" maxOccurs="10">
											<xs:complexType>
												<xs:simpleContent>
													<xs:extension base="xs:string">
														<xs:attribute name="productionDate" type="xs:string" use="optional"/>
													</xs:extension>
												</xs:simpleContent>
											</xs:complexType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
							<xs:element name="allowanceCharge" maxOccurs="99">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="specialServicesType">
											<xs:simpleType>
												<xs:restriction base="xs:NMTOKEN">
													<xs:maxLength value="3"/>
													<xs:minLength value="1"/>
													<xs:enumeration value="PAD"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
										<xs:element name="monetaryAmountOrPercentage">
											<xs:complexType>
												<xs:sequence>
													<xs:element name="percentagePerUnit">
														<xs:simpleType>
															<xs:restriction base="xs:string">
																<xs:minLength value="1"/>
																<xs:maxLength value="5"/>
															</xs:restriction>
														</xs:simpleType>
													</xs:element>
													<xs:element name="ratePerUnit" minOccurs="0">
														<xs:complexType>
															<xs:sequence>
																<xs:element name="amountPerUnit">
																	<xs:simpleType>
																		<xs:restriction base="xs:string">
																			<xs:minLength value="1"/>
																			<xs:maxLength value="5"/>
																		</xs:restriction>
																	</xs:simpleType>
																</xs:element>
															</xs:sequence>
														</xs:complexType>
													</xs:element>
												</xs:sequence>
											</xs:complexType>
										</xs:element>
									</xs:sequence>
									<xs:attribute name="allowanceChargeType" use="required">
										<xs:simpleType>
											<xs:restriction base="xs:NMTOKEN">
												<xs:minLength value="1"/>
												<xs:maxLength value="16"/>
												<xs:enumeration value="ALLOWANCE_GLOBAL"/>
												<xs:enumeration value="CHARGE_GLOBAL"/>
											</xs:restriction>
										</xs:simpleType>
									</xs:attribute>
									<xs:attribute name="settlementType" use="optional">
										<xs:simpleType>
											<xs:restriction base="xs:NMTOKEN">
												<xs:minLength value="1"/>
												<xs:maxLength value="29"/>
												<xs:enumeration value="OFF_INVOICE"/>
												<xs:enumeration value="CHARGE_TO_BE_PAID_BY_VENDOR"/>
												<xs:enumeration value="CHARGE_TO_BE_PAID_BY_CUSTOMER"/>
											</xs:restriction>
										</xs:simpleType>
									</xs:attribute>
									<xs:attribute name="sequenceNumber" use="optional">
										<xs:simpleType>
											<xs:restriction base="xs:string">
												<xs:minLength value="1"/>
												<xs:maxLength value="15"/>
											</xs:restriction>
										</xs:simpleType>
									</xs:attribute>
								</xs:complexType>
							</xs:element>
							<xs:element name="totalLineAmount">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="grossAmount">
											<xs:complexType>
												<xs:sequence>
													<xs:element name="Amount" type="xs:decimal"/>
												</xs:sequence>
											</xs:complexType>
										</xs:element>
										<xs:element name="netAmount">
											<xs:complexType>
												<xs:sequence>
													<xs:element name="Amount" type="xs:decimal"/>
												</xs:sequence>
											</xs:complexType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
							<xs:element name="DetCaractsFisicas" minOccurs="0">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="Composicion">
											<xs:complexType>
												<xs:sequence>
													<xs:element name="Material">
														<xs:simpleType>
															<xs:restriction base="xs:string">
																<xs:minLength value="1"/>
																<xs:maxLength value="50"/>
															</xs:restriction>
														</xs:simpleType>
													</xs:element>
													<xs:element name="GrmRelleno" minOccurs="0">
														<xs:complexType mixed="true">
															<xs:simpleContent>
																<xs:extension base="xs:decimal">
																	<xs:attribute name="Udmedida" use="required">
																		<xs:simpleType>
																			<xs:restriction base="xs:NMTOKEN">
																				<xs:enumeration value="GRM"/>
																			</xs:restriction>
																		</xs:simpleType>
																	</xs:attribute>
																</xs:extension>
															</xs:simpleContent>
														</xs:complexType>
													</xs:element>
												</xs:sequence>
											</xs:complexType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
							<xs:element name="Detjoyeria" minOccurs="0">
								<xs:complexType>
									<xs:sequence>
										<xs:element name="Kilataje" type="xs:decimal"/>
									</xs:sequence>
								</xs:complexType>
							</xs:element>
							<xs:element name="Peso" minOccurs="0">
								<xs:complexType mixed="true">
									<xs:simpleContent>
										<xs:extension base="xs:decimal">
											<xs:attribute name="Udmedida" use="required">
												<xs:simpleType>
													<xs:restriction base="xs:NMTOKEN">
														<xs:enumeration value="GRM"/>
													</xs:restriction>
												</xs:simpleType>
											</xs:attribute>
										</xs:extension>
									</xs:simpleContent>
								</xs:complexType>
							</xs:element>
						</xs:sequence>
						<xs:attribute name="type" use="optional" default="SimpleInvoiceLineItemType">
							<xs:simpleType>
								<xs:restriction base="xs:string">
									<xs:minLength value="1"/>
									<xs:maxLength value="32"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
						<xs:attribute name="number" use="optional">
							<xs:simpleType>
								<xs:restriction base="xs:integer">
									<xs:totalDigits value="5"/>
									<xs:fractionDigits value="0"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
					</xs:complexType>
				</xs:element>
				<xs:element name="totalCaractsFisicas" minOccurs="0">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="Peso" minOccurs="0">
								<xs:complexType mixed="true">
									<xs:simpleContent>
										<xs:extension base="xs:decimal">
											<xs:attribute name="Udmedida" use="required">
												<xs:simpleType>
													<xs:restriction base="xs:NMTOKEN">
														<xs:enumeration value="GRM"/>
													</xs:restriction>
												</xs:simpleType>
											</xs:attribute>
										</xs:extension>
									</xs:simpleContent>
								</xs:complexType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="totalAmount">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="Amount" type="xs:decimal"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="TotalAllowanceCharge" minOccurs="0" maxOccurs="999999">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="specialServicesType" minOccurs="0">
								<xs:simpleType>
									<xs:restriction base="xs:NMTOKEN">
										<xs:minLength value="1"/>
										<xs:maxLength value="3"/>
										<xs:enumeration value="AA"/>
										<xs:enumeration value="ADS"/>
										<xs:enumeration value="ADO"/>
										<xs:enumeration value="ABZ"/>
										<xs:enumeration value="DA"/>
										<xs:enumeration value="EAA"/>
										<xs:enumeration value="PI"/>
										<xs:enumeration value="TAE"/>
										<xs:enumeration value="SAB"/>
										<xs:enumeration value="RAA"/>
										<xs:enumeration value="PAD"/>
										<xs:enumeration value="FG"/>
										<xs:enumeration value="FA"/>
										<xs:enumeration value="TD"/>
										<xs:enumeration value="TS"/>
										<xs:enumeration value="TX"/>
										<xs:enumeration value="ZZZ"/>
										<xs:enumeration value="VAB"/>
										<xs:enumeration value="UM"/>
										<xs:enumeration value="DI"/>
										<xs:enumeration value="ADT"/>
										<xs:enumeration value="AJ"/>
										<xs:enumeration value="CAC"/>
										<xs:enumeration value="COD"/>
										<xs:enumeration value="EAB"/>
										<xs:enumeration value="FC"/>
										<xs:enumeration value="FI"/>
										<xs:enumeration value="HD"/>
										<xs:enumeration value="QD"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="Amount" type="xs:decimal" minOccurs="0"/>
						</xs:sequence>
						<xs:attribute name="allowanceOrChargeType" use="required">
							<xs:simpleType>
								<xs:restriction base="xs:NMTOKEN">
									<xs:minLength value="1"/>
									<xs:maxLength value="9"/>
									<xs:enumeration value="ALLOWANCE"/>
									<xs:enumeration value="CHARGE"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
					</xs:complexType>
				</xs:element>
				<xs:element name="baseAmount">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="Amount" type="xs:decimal"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="tax" minOccurs="0" maxOccurs="99">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="taxPercentage" type="xs:decimal"/>
							<xs:element name="taxAmount" type="xs:decimal"/>
							<xs:element name="taxCategory">
								<xs:simpleType>
									<xs:restriction base="xs:NMTOKEN">
										<xs:minLength value="0"/>
										<xs:maxLength value="11"/>
										<xs:enumeration value="TRANSFERIDO"/>
										<xs:enumeration value="RETENIDO"/>
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
						</xs:sequence>
						<xs:attribute name="type" use="required">
							<xs:simpleType>
								<xs:restriction base="xs:NMTOKEN">
									<xs:length value="3"/>
									<xs:enumeration value="GST"/>
									<xs:enumeration value="VAT"/>
									<xs:enumeration value="LAC"/>
								</xs:restriction>
							</xs:simpleType>
						</xs:attribute>
					</xs:complexType>
				</xs:element>
				<xs:element name="payableAmount">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="Amount" type="xs:decimal"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
				<xs:element name="cadenaOriginal">
					<xs:complexType>
						<xs:sequence>
							<xs:element name="Cadena" type="xs:string"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
			</xs:sequence>
			<xs:attribute name="type" type="xs:string" use="optional" default="SimpleInvoiceType"/>
			<xs:attribute name="contentVersion" type="xs:string" use="optional" default="1.0"/>
			<xs:attribute name="documentStructureVersion" type="xs:string" use="optional" default="CPLM1.0"/>
			<xs:attribute name="documentStatus" use="required">
				<xs:simpleType>
					<xs:restriction base="xs:NMTOKEN">
						<xs:enumeration value="ORIGINAL"/>
						<xs:enumeration value="COPY"/>
						<xs:enumeration value="REEMPLAZA"/>
						<xs:enumeration value="DELETE"/>
					</xs:restriction>
				</xs:simpleType>
			</xs:attribute>
			<xs:attribute name="DeliveryDate" type="xs:string" use="optional"/>
		</xs:complexType>
	</xs:element>
</xs:schema>'

IF NOT EXISTS(SELECT * FROM eDocXSD WHERE Modulo = 'VTAS' AND Clave = 'DETALLISTA_LEVICOM') 
INSERT INTO eDocXSD (Modulo, Clave, XSD) SELECT 'VTAS', 'DETALLISTA_LEVICOM',
'<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:detallista="http://www.sat.gob.mx/detallista" targetNamespace="http://www.sat.gob.mx/detallista" elementFormDefault="qualified" attributeFormDefault="unqualified">
    <xs:element name="detallista">
        <xs:annotation>
            <xs:documentation>Complemento requerido para la emision y recepcion de comprobantes fiscales digitales en el sector Retail</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element name="requestForPaymentIdentification">
                    <xs:annotation>
                        <xs:documentation>Nodo requerido que especifica la transacción a utilizar</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="entityType">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica el tipo de transacción</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:NMTOKEN">
                                        <xs:enumeration value="INVOICE"/>
                                        <xs:enumeration value="DEBIT_NOTE"/>
                                        <xs:enumeration value="CREDIT_NOTE"/>
                                        <xs:enumeration value="LEASE_RECEIPT"/>
                                        <xs:enumeration value="HONORARY_RECEIPT"/>
                                        <xs:enumeration value="PARTIAL_INVOICE"/>
                                        <xs:enumeration value="TRANSPORT_DOCUMENT"/>
                                        <xs:enumeration value="AUTO_INVOICE"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="specialInstruction" maxOccurs="4">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica que tipo de instrucciones comerciales son enviadas</xs:documentation>
                    </xs:annotation>
                    <xs:complexType mixed="true">
                        <xs:sequence>
                            <xs:element name="text" maxOccurs="15">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica información de texto que aplica a todo el mensaje de la factura. La información estará en función al código del tema de texto</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:string">
                                        <xs:minLength value="1"/>
                                        <xs:maxLength value="255"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="code" use="required">
                            <xs:annotation>
                                <xs:documentation>Atributo para especificar el codigo del tipo de instrucciones comerciales que son enviadas</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:NMTOKEN">
                                    <xs:maxLength value="3"/>
                                    <xs:minLength value="1"/>
                                    <xs:enumeration value="AAB"/>
                                    <xs:enumeration value="DUT"/>
                                    <xs:enumeration value="PUR"/>
                                    <xs:enumeration value="ZZZ"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
                <xs:element name="orderIdentification">
                    <xs:annotation>
                        <xs:documentation>Nodo requerido que especifica información sobre la orden de compra a la que hace referencia la factura</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="referenceIdentification" maxOccurs="30">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica el número de  orden de compra (comprador) a la que hace referencia la factura</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:simpleContent>
                                        <xs:extension base="xs:string">
                                            <xs:attribute name="type" use="required" fixed="ON">
                                                <xs:annotation>
                                                    <xs:appinfo source="ON"/>
                                                    <xs:documentation>Atributo para especificar el codigo para identificar la orden de compra</xs:documentation>
                                                </xs:annotation>
                                                <xs:simpleType>
                                                    <xs:restriction base="xs:NMTOKEN">
                                                        <xs:enumeration value="ON"/>
                                                    </xs:restriction>
                                                </xs:simpleType>
                                            </xs:attribute>
                                        </xs:extension>
                                    </xs:simpleContent>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="ReferenceDate" type="xs:string">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica la fecha de la orden de compra(comprador) a la que hace referencia la factura</xs:documentation>
                                </xs:annotation>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="AdditionalInformation">
                    <xs:annotation>
                        <xs:documentation>Nodo requerido que especifica las referencias adicionales a nivel global de la factura</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="referenceIdentification" maxOccurs="99">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica el número de referencia adicional</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:simpleContent>
                                        <xs:extension base="xs:string">
                                            <xs:attribute name="type" use="required">
                                                <xs:annotation>
                                                    <xs:documentation>Atributo para especificar el codigo de referencias adicionales</xs:documentation>
                                                </xs:annotation>
                                                <xs:simpleType>
                                                    <xs:restriction base="xs:NMTOKEN">
                                                        <xs:enumeration value="AAE"/>
                                                        <xs:enumeration value="CK"/>
                                                        <xs:enumeration value="ACE"/>
                                                        <xs:enumeration value="ATZ"/>
                                                        <xs:enumeration value="DQ"/>
                                                        <xs:enumeration value="IV"/>
                                                        <xs:enumeration value="ON"/>
                                                        <xs:enumeration value="AWR"/>
                                                    </xs:restriction>
                                                </xs:simpleType>
                                            </xs:attribute>
                                        </xs:extension>
                                    </xs:simpleContent>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="DeliveryNote">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional donde se especifica información de recepción de mercancia.Información emitida por el comprador cuando recibe la mercancía que es facturada</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="referenceIdentification" maxOccurs="30">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica el numero de folio. Número emitido por el comprador cuando recibe la mercancía que es facturada</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:string">
                                        <xs:minLength value="1"/>
                                        <xs:maxLength value="35"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                            <xs:element name="ReferenceDate" type="xs:string">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica la fecha en que fue asignado el no. de folio de recibo</xs:documentation>
                                </xs:annotation>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="buyer">
                    <xs:annotation>
                        <xs:documentation>Nodo requerido que especifica información del comprador</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="gln">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica el número global de localización (GLN) del comprador.</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:string">
                                        <xs:length value="13"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                            <xs:element name="contactInformation">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica información del contacto de compras</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="personOrDepartmentName">
                                            <xs:annotation>
                                                <xs:documentation>Etiqueta que especifica el contacto de compras</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="text">
                                                        <xs:annotation>
                                                            <xs:documentation>Contacto de Nodo requerido que especifica el contacto de compras</xs:documentation>
                                                        </xs:annotation>
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:minLength value="1"/>
                                                                <xs:maxLength value="35"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="seller">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica información del vendedor</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="gln">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica el número global de localización (GLN) del vendedor.</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:string">
                                        <xs:length value="13"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                            <xs:element name="alternatePartyIdentification">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica el código para identificar qué tipo de identificación secundaria se le asignó al proveedor</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:simpleContent>
                                        <xs:extension base="xs:string">
                                            <xs:attribute name="type" use="required">
                                                <xs:annotation>
                                                    <xs:documentation>Atributo para especificar el tipo de identificación secundaria se le asigno al proveedor</xs:documentation>
                                                </xs:annotation>
                                                <xs:simpleType>
                                                    <xs:restriction base="xs:NMTOKEN">
                                                        <xs:minLength value="1"/>
                                                        <xs:maxLength value="40"/>
                                                        <xs:enumeration value="SELLER_ASSIGNED_IDENTIFIER_FOR_A_PARTY"/>
                                                        <xs:enumeration value="IEPS_REFERENCE"/>
                                                    </xs:restriction>
                                                </xs:simpleType>
                                            </xs:attribute>
                                        </xs:extension>
                                    </xs:simpleContent>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="shipTo" minOccurs="0">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica la ubicación donde debe realizarse la entrega de la mercancía.  </xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="gln" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica el número global de localización (GLN) de la ubicación a entregar la mercancía</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:string">
                                        <xs:length value="13"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                            <xs:element name="nameAndAddress" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica el nombre y dirección de la ubicación donde debe realizarse la entrega de mercancía </xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence maxOccurs="unbounded">
                                        <xs:element name="name">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica la razón social de la empresa a donde se va a embarcar en caso de ser diferente al comprador, o el nombre de la bodega o centro de distribución</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="35"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="streetAddressOne" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el domicilio a donde se embarcara la mercancía: Calle, número exterior, número interior y colonias</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="35"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="city" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica  la ciudad donde se encuentra el domicilio a donde se embarcará la mercancía</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="35"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="postalCode" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el codigo postal del domicilio a donde se embarcara la mercancía</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="9"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="InvoiceCreator" minOccurs="0">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica la ubicación donde se especifica el identificador del emisor de la factura si es distinto del identificador del proveedor.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="gln" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica el número global de localización (GLN)de la ubicación del emisor de la factura</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:string">
                                        <xs:length value="13"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                            <xs:element name="alternatePartyIdentification" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica la identificación secundaria del emisor de la factura</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:simpleContent>
                                        <xs:extension base="xs:string">
                                            <xs:attribute name="type" use="required">
                                                <xs:annotation>
                                                    <xs:documentation>Atributo para especificar el tipo de identificación secundaria se le asigno al proveedor</xs:documentation>
                                                </xs:annotation>
                                                <xs:simpleType>
                                                    <xs:restriction base="xs:NMTOKEN">
                                                        <xs:length value="2"/>
                                                        <xs:enumeration value="VA"/>
                                                        <xs:enumeration value="IA"/>
                                                    </xs:restriction>
                                                </xs:simpleType>
                                            </xs:attribute>
                                        </xs:extension>
                                    </xs:simpleContent>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="nameAndAddress" minOccurs="0">
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="name" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica la razón social de la empresa a dende se emite la factura en caso de ser diferente al identificador del proveedor</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="35"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="streetAddressOne" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el domicilio del emisor de la factura: Calle, número exterior, número interior y colonias</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="35"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="city" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica  la ciudad donde se encuentra el domicilio del emisor de la factura</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="35"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="postalCode" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el codigo postal del domicilio del emisor de la factura</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="9"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="Customs" minOccurs="0" maxOccurs="999999">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica la ubicación de la aduana</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="gln" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica el número global de localización (GLN) de la aduana</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:string">
                                        <xs:length value="13"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="currency" minOccurs="0" maxOccurs="3">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica  el tipo de divisa utilizada, para efectos de comprobantes fiscales digitales emitidos UNICAMENTE se podrá utilizar como divisa la moneda nacional (MXN), sin embargo dentro del complemento  se podrá detallar en otra de forma informativa. Lo detallado en esta etiqueta deberá coincidir con lo declarado en las etiquetas del SAT considerando el tipo de cambio. </xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="currencyFunction" maxOccurs="3">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica la función de divisa</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:NMTOKEN">
                                        <xs:maxLength value="16"/>
                                        <xs:minLength value="1"/>
                                        <xs:enumeration value="BILLING_CURRENCY"/>
                                        <xs:enumeration value="PRICE_CURRENCY"/>
                                        <xs:enumeration value="PAYMENT_CURRENCY"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                            <xs:element name="rateOfChange" type="xs:decimal" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifical la tasa de cambio que se aplica a las monedas. La regla general para calcular la tasa de cambio es la siguiente:
Divisa de Referencia multiplicada por la Tasa =  Divisa Objetivo
</xs:documentation>
                                </xs:annotation>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="currencyISOCode" use="required">
                            <xs:annotation>
                                <xs:documentation>Atributo para especificar el codigo de la moneda utilizada para detallar la relación de facturas.Todas las cantidades posteriores seran expresadas en la divisa detallada en esta etiqueta</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:NMTOKEN">
                                    <xs:length value="3"/>
                                    <xs:enumeration value="MXN"/>
                                    <xs:enumeration value="XEU"/>
                                    <xs:enumeration value="USD"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
                <xs:element name="paymentTerms" minOccurs="0">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica los términos de pago de la factura</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="netPayment" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica  las condiciones de pago</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence minOccurs="0">
                                        <xs:element name="paymentTimePeriod" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el periodo de pago de la factura</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="timePeriodDue">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo requerido que especifica el tiempo de pago</xs:documentation>
                                                        </xs:annotation>
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="value">
                                                                    <xs:annotation>
                                                                        <xs:documentation>Nodo requerido que especifica el numero de periodos</xs:documentation>
                                                                    </xs:annotation>
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="5"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                            <xs:attribute name="timePeriod" use="required">
                                                                <xs:annotation>
                                                                    <xs:documentation>Atributo para especificar el tipo de periodo</xs:documentation>
                                                                </xs:annotation>
                                                                <xs:simpleType>
                                                                    <xs:restriction base="xs:NMTOKEN">
                                                                        <xs:minLength value="1"/>
                                                                        <xs:maxLength value="6"/>
                                                                        <xs:enumeration value="DAYS"/>
                                                                    </xs:restriction>
                                                                </xs:simpleType>
                                                            </xs:attribute>
                                                        </xs:complexType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                    <xs:attribute name="netPaymentTermsType" use="required">
                                        <xs:annotation>
                                            <xs:documentation>Atributo para especificar las condiciones de pago</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:NMTOKEN">
                                                <xs:maxLength value="22"/>
                                                <xs:minLength value="1"/>
                                                <xs:enumeration value="BASIC_NET"/>
                                                <xs:enumeration value="END_OF_MONTH"/>
                                                <xs:enumeration value="BASIC_DISCOUNT_OFFERED"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="discountPayment" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica los descuentos por pago</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="percentage">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica el valor de los porcentajes que serán descontados o cargados si la factura no se paga dentro del término. El porcentaje será en base al valor de la factura</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="5"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                    </xs:sequence>
                                    <xs:attribute name="discountType" use="required">
                                        <xs:annotation>
                                            <xs:documentation>Atributo para especificar el calificador de porcentajes</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:NMTOKEN">
                                                <xs:maxLength value="28"/>
                                                <xs:minLength value="1"/>
                                                <xs:enumeration value="ALLOWANCE_BY_PAYMENT_ON_TIME"/>
                                                <xs:enumeration value="SANCTION"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="paymentTermsEvent" use="optional">
                            <xs:annotation>
                                <xs:documentation>Atributo para especificar la referencia del tiempo de pago</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:NMTOKEN">
                                    <xs:maxLength value="15"/>
                                    <xs:minLength value="1"/>
                                    <xs:enumeration value="DATE_OF_INVOICE"/>
                                    <xs:enumeration value="EFFECTIVE_DATE"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="PaymentTermsRelationTime" use="optional">
                            <xs:annotation>
                                <xs:documentation>Atributo para especificar el termino de relación del tiempo de pago</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:NMTOKEN">
                                    <xs:minLength value="1"/>
                                    <xs:maxLength value="15"/>
                                    <xs:enumeration value="REFERENCE_AFTER"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
                <xs:element name="shipmentDetail" minOccurs="0">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica la información pertinente para el embarque de la mercancía.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType/>
                </xs:element>
                <xs:element name="allowanceCharge" maxOccurs="99">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica la información de los cargos o descuentos globales mercantiles por factura</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="specialServicesType">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica  el tipo de descuento o cargo. Este atributo sólo se utiliza si el comprador conoce los descuentos</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:NMTOKEN">
                                        <xs:minLength value="1"/>
                                        <xs:maxLength value="3"/>
                                        <xs:enumeration value="AA"/>
                                        <xs:enumeration value="AJ"/>
                                        <xs:enumeration value="ADO"/>
                                        <xs:enumeration value="ADT"/>
                                        <xs:enumeration value="ADS"/>
                                        <xs:enumeration value="ABZ"/>
                                        <xs:enumeration value="DA"/>
                                        <xs:enumeration value="EAA"/>
                                        <xs:enumeration value="EAB"/>
                                        <xs:enumeration value="PI"/>
                                        <xs:enumeration value="TAE"/>
                                        <xs:enumeration value="SAB"/>
                                        <xs:enumeration value="RAA"/>
                                        <xs:enumeration value="PAD"/>
                                        <xs:enumeration value="FG"/>
                                        <xs:enumeration value="FA"/>
                                        <xs:enumeration value="TD"/>
                                        <xs:enumeration value="TS"/>
                                        <xs:enumeration value="TX"/>
                                        <xs:enumeration value="TZ"/>
                                        <xs:enumeration value="ZZZ"/>
                                        <xs:enumeration value="VAB"/>
                                        <xs:enumeration value="UM"/>
                                        <xs:enumeration value="DI"/>
                                        <xs:enumeration value="CAC"/>
                                        <xs:enumeration value="COD"/>
                                        <xs:enumeration value="EAB"/>
                                        <xs:enumeration value="FC"/>
                                        <xs:enumeration value="FI"/>
                                        <xs:enumeration value="HD"/>
                                        <xs:enumeration value="QD"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                            <xs:element name="monetaryAmountOrPercentage">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica la cantidad monetaria o porcentaje del descuento</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="rate">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica  la tarifa</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="percentage" type="xs:decimal">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo opcional que especifica el porcentaje de descuento que se está aplicando según se ha indicado en el campo anterior a toda la factura</xs:documentation>
                                                        </xs:annotation>
                                                    </xs:element>
                                                </xs:sequence>
                                                <xs:attribute name="base" use="required">
                                                    <xs:annotation>
                                                        <xs:documentation>Atributo para especificar la base del porcentaje que se aplicara</xs:documentation>
                                                    </xs:annotation>
                                                    <xs:simpleType>
                                                        <xs:restriction base="xs:NMTOKEN">
                                                            <xs:length value="13"/>
                                                            <xs:enumeration value="INVOICE_VALUE"/>
                                                        </xs:restriction>
                                                    </xs:simpleType>
                                                </xs:attribute>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="allowanceChargeType" use="required">
                            <xs:annotation>
                                <xs:documentation>Atributo indicador de cargo o descuento</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:NMTOKEN">
                                    <xs:minLength value="1"/>
                                    <xs:maxLength value="16"/>
                                    <xs:enumeration value="ALLOWANCE_GLOBAL"/>
                                    <xs:enumeration value="CHARGE_GLOBAL"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="settlementType" use="required">
                            <xs:annotation>
                                <xs:documentation>Atributo para especificar la imputación del descuento o cargo</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:NMTOKEN">
                                    <xs:minLength value="1"/>
                                    <xs:maxLength value="11"/>
                                    <xs:enumeration value="BILL_BACK"/>
                                    <xs:enumeration value="OFF_INVOICE"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="sequenceNumber" use="optional">
                            <xs:annotation>
                                <xs:documentation>Atributo indicador de secuencia de calculo</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:string">
                                    <xs:minLength value="1"/>
                                    <xs:maxLength value="15"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
                <xs:element name="lineItem" maxOccurs="9999999">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica la linea de detalle de la factura</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="tradeItemIdentification">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica la identificación de cada artículo</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="gtin">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica el código EAN del artículo solicitado</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="14"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="alternateTradeItemIdentification" maxOccurs="999999">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica el numero de identificación adicional para el artículo.</xs:documentation>
                                </xs:annotation>
                                <xs:complexType mixed="true">
                                    <xs:simpleContent>
                                        <xs:extension base="xs:string">
                                            <xs:attribute name="type" use="required">
                                                <xs:annotation>
                                                    <xs:documentation>Atributo para especificar el tipo de identificación adicional, en caso de no utilizar condigo GTIN</xs:documentation>
                                                </xs:annotation>
                                                <xs:simpleType>
                                                    <xs:restriction base="xs:NMTOKEN">
                                                        <xs:minLength value="1"/>
                                                        <xs:maxLength value="35"/>
                                                        <xs:enumeration value="BUYER_ASSIGNED"/>
                                                        <xs:enumeration value="SUPPLIER_ASSIGNED"/>
                                                        <xs:enumeration value="SERIAL_NUMBER"/>
                                                        <xs:enumeration value="GLOBAL_TRADE_ITEM_IDENTIFICATION"/>
                                                    </xs:restriction>
                                                </xs:simpleType>
                                            </xs:attribute>
                                        </xs:extension>
                                    </xs:simpleContent>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="tradeItemDescriptionInformation">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica el inicio de la descripción del artículo </xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="longText">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica la descripción del artículo solicitado</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="35"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                    </xs:sequence>
                                    <xs:attribute name="language" use="optional">
                                        <xs:annotation>
                                            <xs:documentation>Atributo para especificar el codigo del idioma en que esta la descripción del articulo</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:NMTOKEN">
                                                <xs:length value="2"/>
                                                <xs:enumeration value="ES"/>
                                                <xs:enumeration value="EN"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="invoicedQuantity">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica la cantidad facturada del producto en la línea de articulo actual</xs:documentation>
                                </xs:annotation>
                                <xs:complexType mixed="true">
                                    <xs:simpleContent>
                                        <xs:extension base="xs:decimal">
                                            <xs:attribute name="unitOfMeasure" type="xs:NMTOKEN" use="required">
                                                <xs:annotation>
                                                    <xs:documentation>Atributo para especificar la unidad de medida, solo si el articulo es de unidad variable</xs:documentation>
                                                </xs:annotation>
                                            </xs:attribute>
                                        </xs:extension>
                                    </xs:simpleContent>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="aditionalQuantity" minOccurs="0" maxOccurs="9999">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica  la cantidad que se esta declarando como adicional</xs:documentation>
                                </xs:annotation>
                                <xs:complexType mixed="true">
                                    <xs:simpleContent>
                                        <xs:extension base="xs:decimal">
                                            <xs:attribute name="QuantityType" use="required">
                                                <xs:annotation>
                                                    <xs:documentation>Atributo para especificar el codigo  de tipo de cantidad adicional declarada</xs:documentation>
                                                </xs:annotation>
                                                <xs:simpleType>
                                                    <xs:restriction base="xs:NMTOKEN">
                                                        <xs:minLength value="1"/>
                                                        <xs:maxLength value="18"/>
                                                        <xs:enumeration value="NUM_CONSUMER_UNITS"/>
                                                        <xs:enumeration value="FREE_GOODS"/>
                                                    </xs:restriction>
                                                </xs:simpleType>
                                            </xs:attribute>
                                        </xs:extension>
                                    </xs:simpleContent>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="grossPrice">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica  la declaración del precio bruto</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="Amount" type="xs:decimal">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica el precio Bruto del artículo sin incluir descuento ni cargos</xs:documentation>
                                            </xs:annotation>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="netPrice">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica la declaración del precion neto</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="Amount" type="xs:decimal">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica el precio neto de cada artículo</xs:documentation>
                                            </xs:annotation>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="AdditionalInformation" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica la información adicional de referencia en el detalle de productos</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="referenceIdentification" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica la referencia adicional de los productos</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:simpleContent>
                                                    <xs:extension base="xs:string">
                                                        <xs:attribute name="type" use="required">
                                                            <xs:annotation>
                                                                <xs:documentation>Atributo para especificar el tipo de referencia</xs:documentation>
                                                            </xs:annotation>
                                                            <xs:simpleType>
                                                                <xs:restriction base="xs:NMTOKEN">
                                                                    <xs:length value="2"/>
                                                                    <xs:enumeration value="ON"/>
                                                                </xs:restriction>
                                                            </xs:simpleType>
                                                        </xs:attribute>
                                                    </xs:extension>
                                                </xs:simpleContent>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="Customs" minOccurs="0" maxOccurs="999999">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica la ubicación donde se especifica el identificador de la aduana</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:all>
                                        <xs:element name="gln" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el número global de localización (GLN) de la aduana</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:length value="13"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="alternatePartyIdentification">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica la identificación del no. pedimento a nivel detalle</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:simpleContent>
                                                    <xs:extension base="xs:string">
                                                        <xs:attribute name="type" use="required">
                                                            <xs:annotation>
                                                                <xs:documentation>Atributo para especificar el codigo de identificación secundaria</xs:documentation>
                                                            </xs:annotation>
                                                            <xs:simpleType>
                                                                <xs:restriction base="xs:NMTOKEN">
                                                                    <xs:length value="2"/>
                                                                    <xs:enumeration value="TN"/>
                                                                </xs:restriction>
                                                            </xs:simpleType>
                                                        </xs:attribute>
                                                    </xs:extension>
                                                </xs:simpleContent>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="ReferenceDate" type="xs:string">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica la fecha del pedimento
YYYYMMDD
</xs:documentation>
                                            </xs:annotation>
                                        </xs:element>
                                        <xs:element name="nameAndAddress">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica la etiqueta padre que indica que se empezará a definir el nombre y dirección de la ubicación donde esta la aduana </xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="name">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo requerido que especifica el nombre de la Aduana</xs:documentation>
                                                        </xs:annotation>
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:minLength value="1"/>
                                                                <xs:maxLength value="35"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:all>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="LogisticUnits" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica la información de identificación logística</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="serialShippingContainerCode">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica la información de Rangos de identificación de productos</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:simpleContent>
                                                    <xs:extension base="xs:string">
                                                        <xs:attribute name="type" use="required">
                                                            <xs:annotation>
                                                                <xs:documentation>Atributo para especificar el codigo del numero de identidad</xs:documentation>
                                                            </xs:annotation>
                                                            <xs:simpleType>
                                                                <xs:restriction base="xs:NMTOKEN">
                                                                    <xs:minLength value="1"/>
                                                                    <xs:maxLength value="3"/>
                                                                    <xs:enumeration value="BJ"/>
                                                                    <xs:enumeration value="SRV"/>
                                                                </xs:restriction>
                                                            </xs:simpleType>
                                                        </xs:attribute>
                                                    </xs:extension>
                                                </xs:simpleContent>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="palletInformation" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica la información de empaquetado</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:all>
                                        <xs:element name="palletQuantity">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica el numero de paquetes </xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="15"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="description">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica la descripción del  empaquetado</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType mixed="true">
                                                <xs:simpleContent>
                                                    <xs:extension base="xs:string">
                                                        <xs:attribute name="type" use="required">
                                                            <xs:annotation>
                                                                <xs:documentation>Atributo para especificar el tipo de empaquetado</xs:documentation>
                                                            </xs:annotation>
                                                            <xs:simpleType>
                                                                <xs:restriction base="xs:NMTOKEN">
                                                                    <xs:maxLength value="35"/>
                                                                    <xs:minLength value="1"/>
                                                                    <xs:enumeration value="EXCHANGE_PALLETS"/>
                                                                    <xs:enumeration value="RETURN_PALLETS"/>
                                                                    <xs:enumeration value="PALLET_80x100"/>
                                                                    <xs:enumeration value="CASE"/>
                                                                    <xs:enumeration value="BOX"/>
                                                                </xs:restriction>
                                                            </xs:simpleType>
                                                        </xs:attribute>
                                                    </xs:extension>
                                                </xs:simpleContent>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="transport">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica el pago de transporte de embalaje</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="methodOfPayment">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo requerido que especifica el metodo de pago</xs:documentation>
                                                        </xs:annotation>
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:NMTOKEN">
                                                                <xs:maxLength value="17"/>
                                                                <xs:minLength value="1"/>
                                                                <xs:enumeration value="PREPAID_BY_SELLER"/>
                                                                <xs:enumeration value="PAID_BY_BUYER"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:all>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="extendedAttributes" minOccurs="0">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica la información adicional de lote del producto facturado</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="lotNumber" maxOccurs="10">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica el No. De lote</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:simpleContent>
                                                    <xs:extension base="xs:string">
                                                        <xs:attribute name="productionDate" type="xs:string" use="optional">
                                                            <xs:annotation>
                                                                <xs:documentation>Atributo para especificar la fecha de producción</xs:documentation>
                                                            </xs:annotation>
                                                        </xs:attribute>
                                                    </xs:extension>
                                                </xs:simpleContent>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="allowanceCharge" minOccurs="0" maxOccurs="99">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica  la información de los cargos o descuentos globales por línea de artículo</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="specialServicesType" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el tipo de descuento o cargo. Este atributo sólo se utiliza si el comprador conoce el tipo de descuento o cargo.</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:NMTOKEN">
                                                    <xs:maxLength value="3"/>
                                                    <xs:minLength value="1"/>
                                                    <xs:enumeration value="AA"/>
                                                    <xs:enumeration value="ADS"/>
                                                    <xs:enumeration value="ADO"/>
                                                    <xs:enumeration value="ABZ"/>
                                                    <xs:enumeration value="DA"/>
                                                    <xs:enumeration value="EAA"/>
                                                    <xs:enumeration value="PI"/>
                                                    <xs:enumeration value="TAE"/>
                                                    <xs:enumeration value="SAB"/>
                                                    <xs:enumeration value="RAA"/>
                                                    <xs:enumeration value="PAD"/>
                                                    <xs:enumeration value="FG"/>
                                                    <xs:enumeration value="FA"/>
                                                    <xs:enumeration value="TD"/>
                                                    <xs:enumeration value="TS"/>
                                                    <xs:enumeration value="TX"/>
                                                    <xs:enumeration value="ZZZ"/>
                                                    <xs:enumeration value="VAB"/>
                                                    <xs:enumeration value="UM"/>
                                                    <xs:enumeration value="DI"/>
                                                    <xs:enumeration value="ADT"/>
                                                    <xs:enumeration value="AJ"/>
                                                    <xs:enumeration value="CAC"/>
                                                    <xs:enumeration value="COD"/>
                                                    <xs:enumeration value="EAB"/>
                                                    <xs:enumeration value="FC"/>
                                                    <xs:enumeration value="FI"/>
                                                    <xs:enumeration value="HD"/>
                                                    <xs:enumeration value="QD"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="monetaryAmountOrPercentage">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica la cantidad monetaria o descuento por linea de articulo</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="percentagePerUnit">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo requerido que especifica el porcentaje del cargo o descuento</xs:documentation>
                                                        </xs:annotation>
                                                        <xs:simpleType>
                                                            <xs:restriction base="xs:string">
                                                                <xs:minLength value="1"/>
                                                                <xs:maxLength value="5"/>
                                                            </xs:restriction>
                                                        </xs:simpleType>
                                                    </xs:element>
                                                    <xs:element name="ratePerUnit" minOccurs="0">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo opcional que especifica la Tarifa por unidad</xs:documentation>
                                                        </xs:annotation>
                                                        <xs:complexType>
                                                            <xs:sequence>
                                                                <xs:element name="amountPerUnit">
                                                                    <xs:annotation>
                                                                        <xs:documentation>Nodo requerido que especifica el importe monetario del cargo o descuento por unidad</xs:documentation>
                                                                    </xs:annotation>
                                                                    <xs:simpleType>
                                                                        <xs:restriction base="xs:string">
                                                                            <xs:minLength value="1"/>
                                                                            <xs:maxLength value="5"/>
                                                                        </xs:restriction>
                                                                    </xs:simpleType>
                                                                </xs:element>
                                                            </xs:sequence>
                                                        </xs:complexType>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                    <xs:attribute name="allowanceChargeType" use="required">
                                        <xs:annotation>
                                            <xs:documentation>Atributo para especificar el cargo o descuento</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:NMTOKEN">
                                                <xs:minLength value="1"/>
                                                <xs:maxLength value="16"/>
                                                <xs:enumeration value="ALLOWANCE_GLOBAL"/>
                                                <xs:enumeration value="CHARGE_GLOBAL"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                    <xs:attribute name="settlementType" use="optional">
                                        <xs:annotation>
                                            <xs:documentation>Atributo para especificar la imputación del cargo o descuento</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:NMTOKEN">
                                                <xs:minLength value="1"/>
                                                <xs:maxLength value="29"/>
                                                <xs:enumeration value="OFF_INVOICE"/>
                                                <xs:enumeration value="CHARGE_TO_BE_PAID_BY_VENDOR"/>
                                                <xs:enumeration value="CHARGE_TO_BE_PAID_BY_CUSTOMER"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                    <xs:attribute name="sequenceNumber" use="optional">
                                        <xs:annotation>
                                            <xs:documentation>Atributo para especificar la secuencia de cálculo</xs:documentation>
                                        </xs:annotation>
                                        <xs:simpleType>
                                            <xs:restriction base="xs:string">
                                                <xs:minLength value="1"/>
                                                <xs:maxLength value="15"/>
                                            </xs:restriction>
                                        </xs:simpleType>
                                    </xs:attribute>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="tradeItemTaxInformation" minOccurs="0" maxOccurs="99">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica los impuestos por cada línea de artículo</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:all>
                                        <xs:element name="taxTypeDescription">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica el tipo de arancel, impuesto o cuota. </xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:NMTOKEN">
                                                    <xs:length value="3"/>
                                                    <xs:enumeration value="GST"/>
                                                    <xs:enumeration value="VAT"/>
                                                    <xs:enumeration value="LAC"/>
                                                    <xs:enumeration value="AAA"/>
                                                    <xs:enumeration value="ADD"/>
                                                    <xs:enumeration value="FRE"/>
                                                    <xs:enumeration value="LOC"/>
                                                    <xs:enumeration value="STT"/>
                                                    <xs:enumeration value="OTH"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="referenceNumber" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el numero de identificación del impuesto. Numero asignado al comprador por una jurisdicción de impuesto</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:string">
                                                    <xs:minLength value="1"/>
                                                    <xs:maxLength value="20"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                        <xs:element name="tradeItemTaxAmount" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el importe o porcentaje del descuento</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="taxPercentage" type="xs:decimal">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo requerido que especifica el porcentaje del impuesto</xs:documentation>
                                                        </xs:annotation>
                                                    </xs:element>
                                                    <xs:element name="taxAmount" type="xs:decimal">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo requerido que especifica el monto del impuesto</xs:documentation>
                                                        </xs:annotation>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="taxCategory" minOccurs="0">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el identificador de impuesto retenido o transferido</xs:documentation>
                                            </xs:annotation>
                                            <xs:simpleType>
                                                <xs:restriction base="xs:NMTOKEN">
                                                    <xs:minLength value="0"/>
                                                    <xs:maxLength value="11"/>
                                                    <xs:enumeration value="TRANSFERIDO"/>
                                                    <xs:enumeration value="RETENIDO"/>
                                                </xs:restriction>
                                            </xs:simpleType>
                                        </xs:element>
                                    </xs:all>
                                </xs:complexType>
                            </xs:element>
                            <xs:element name="totalLineAmount">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica los importes monetarios por línea de articulo</xs:documentation>
                                </xs:annotation>
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="grossAmount">
                                            <xs:annotation>
                                                <xs:documentation>Nodo opcional que especifica el  importe bruto</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="Amount" type="xs:decimal">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo requerido que especifica el importe bruto de la línea de artículo </xs:documentation>
                                                        </xs:annotation>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="netAmount">
                                            <xs:annotation>
                                                <xs:documentation>Nodo requerido que especifica el importe neto</xs:documentation>
                                            </xs:annotation>
                                            <xs:complexType>
                                                <xs:sequence>
                                                    <xs:element name="Amount" type="xs:decimal">
                                                        <xs:annotation>
                                                            <xs:documentation>Nodo requerido que especifica el importe neto de la línea de artículo </xs:documentation>
                                                        </xs:annotation>
                                                    </xs:element>
                                                </xs:sequence>
                                            </xs:complexType>
                                        </xs:element>
                                    </xs:sequence>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="type" default="SimpleInvoiceLineItemType">
                            <xs:annotation>
                                <xs:documentation>Atributo para especificar el tipo de línea de detalle</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:string">
                                    <xs:minLength value="1"/>
                                    <xs:maxLength value="32"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="number">
                            <xs:annotation>
                                <xs:documentation>Atributo para especificar el numero secuencial que se asigna a cada línea de detalle</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:integer">
                                    <xs:totalDigits value="5"/>
                                    <xs:fractionDigits value="0"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
                <xs:element name="totalAmount">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica el monto total de las líneas de artículos.</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="Amount" type="xs:decimal">
                                <xs:annotation>
                                    <xs:documentation>Nodo requerido que especifica el monto</xs:documentation>
                                </xs:annotation>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
                <xs:element name="TotalAllowanceCharge" maxOccurs="999999">
                    <xs:annotation>
                        <xs:documentation>Nodo opcional que especifica el monto total de cargos o descuentos</xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="specialServicesType">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica el tipo de descuento o cargo. Este atributo sólo se utiliza si el comprador conoce el tipo de descuento o cargo.</xs:documentation>
                                </xs:annotation>
                                <xs:simpleType>
                                    <xs:restriction base="xs:NMTOKEN">
                                        <xs:minLength value="1"/>
                                        <xs:maxLength value="3"/>
                                        <xs:enumeration value="AA"/>
                                        <xs:enumeration value="ADS"/>
                                        <xs:enumeration value="ADO"/>
                                        <xs:enumeration value="ABZ"/>
                                        <xs:enumeration value="DA"/>
                                        <xs:enumeration value="EAA"/>
                                        <xs:enumeration value="PI"/>
                                        <xs:enumeration value="TAE"/>
                                        <xs:enumeration value="SAB"/>
                                        <xs:enumeration value="RAA"/>
                                        <xs:enumeration value="PAD"/>
                                        <xs:enumeration value="FG"/>
                                        <xs:enumeration value="FA"/>
                                        <xs:enumeration value="TD"/>
                                        <xs:enumeration value="TS"/>
                                        <xs:enumeration value="TX"/>
                                        <xs:enumeration value="ZZZ"/>
                                        <xs:enumeration value="VAB"/>
                                        <xs:enumeration value="UM"/>
                                        <xs:enumeration value="DI"/>
                                        <xs:enumeration value="ADT"/>
                                        <xs:enumeration value="AJ"/>
                                        <xs:enumeration value="CAC"/>
                                        <xs:enumeration value="COD"/>
                                        <xs:enumeration value="EAB"/>
                                        <xs:enumeration value="FC"/>
                                        <xs:enumeration value="FI"/>
                                        <xs:enumeration value="HD"/>
                                        <xs:enumeration value="QD"/>
                                    </xs:restriction>
                                </xs:simpleType>
                            </xs:element>
                            <xs:element name="Amount" type="xs:decimal">
                                <xs:annotation>
                                    <xs:documentation>Nodo opcional que especifica el monto total de los cargos o descuentos</xs:documentation>
                                </xs:annotation>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="allowanceOrChargeType" use="required">
                            <xs:annotation>
                                <xs:documentation>Atributo para especificar los cargos o descuentos consolidados</xs:documentation>
                            </xs:annotation>
                            <xs:simpleType>
                                <xs:restriction base="xs:NMTOKEN">
                                    <xs:minLength value="1"/>
                                    <xs:maxLength value="9"/>
                                    <xs:enumeration value="ALLOWANCE"/>
                                    <xs:enumeration value="CHARGE"/>
                                </xs:restriction>
                            </xs:simpleType>
                        </xs:attribute>
                    </xs:complexType>
                </xs:element>
            </xs:sequence>
            <xs:attribute name="type" type="xs:string" use="optional" default="SimpleInvoiceType">
                <xs:annotation>
                    <xs:documentation>Tipo de transacción bajo estandar AMECE</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="contentVersion" type="xs:string" use="optional" default="1.3.1">
                <xs:annotation>
                    <xs:documentation>Versión del estandar XML utilizado para la elaboración de la guia AMECE</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="documentStructureVersion" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>Versión de la estructura del documento generado "AMC8.1"</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="documentStatus" use="required">
                <xs:annotation>
                    <xs:documentation>Función del mensaje</xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:NMTOKEN">
                        <xs:enumeration value="ORIGINAL"/>
                        <xs:enumeration value="COPY"/>
                        <xs:enumeration value="REEMPLAZA"/>
                        <xs:enumeration value="DELETE"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
        </xs:complexType>
    </xs:element>
</xs:schema>'
GO

EXEC spCFDFlexGenerarxmlSchema 'VTAS', 'AMC7.1'
GO
EXEC spCFDFlexGenerarxmlSchema 'VTAS', 'CoppelR.01'
GO
EXEC spCFDFlexGenerarxmlSchema 'VTAS', 'CoppelM.01'
GO
EXEC spCFDFlexGenerarxmlSchema 'VTAS', 'Detallista'
GO
EXEC spCFDFlexGenerarxmlSchema 'VTAS', 'FEMSA'
GO
EXEC spCFDFlexGenerarxmlSchema 'VTAS', 'HOMEDEPOT'
GO
EXEC spCFDFlexGenerarxmlSchema 'VTAS', 'SorianaConsolidado'
GO
EXEC spCFDFlexGenerarxmlSchema 'VTAS', 'DETALLISTA_LEVICOM'
GO
 /********************************* VTAS-CFDI_3.2-eDoc *********************************/
IF NOT EXISTS(SELECT * FROM eDoc WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2') INSERT INTO eDoc (Modulo, eDoc, TipoXML, Documento, XSD, TipoCFD, DecimalesPorOmision, TipoCFDI, TimbrarEnTransaccion, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII) SELECT 'VTAS', 'CFDI_3.2',1, 
'{Encabezado}
<cfdi:Comprobante xmlns:cfdi="http://www.sat.gob.mx/cfd/3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.sat.gob.mx/cfd/3 http://www.sat.gob.mx/sitio_internet/cfd/3/cfdv32.xsd" version="3.2" serie="[SerieMovID]" folio="[NumeroMovID]" fecha="[FechaRegistro]" sello="_SELLO_" noCertificado="_NOCERTIFICADO_" certificado="_CERTIFICADO_" condicionesDePago="[Condicion]" subTotal="[SubTotal]" descuento="[DescuentoImporte]" total="[Total]" metodoDePago="[FormaPago]" tipoDeComprobante="[CampoTipoComprobanteDeMovTipo]" formaDePago="[CondicionFormaDePago]" LugarExpedicion="[LugarExpedicion]" NumCtaPago="[NumCtaPago]" Moneda="[VentaMoneda]" TipoCambio="[VentaTipoCambio]">
  <cfdi:Emisor rfc="[RFCEmpresa]" nombre="[NombreEmpresa]">     
    <cfdi:DomicilioFiscal calle="[CalleEmpresa]" noExterior="[NumeroExteriorEmpresa]" colonia="[ColoniaEmpresa]" localidad="[LocalidadEmpresa]" municipio="[MunicipioEmpresa]" estado="[EstadoEmpresa]" pais="[PaisEmpresa]" codigoPostal="[CodigoPostalEmpresa]" />     
    <cfdi:ExpedidoEn noInterior="[ExpedidoEnNoInterior]" municipio="[ExpedidoEnMunicipio]" pais="[ExpedidoEnPais]" colonia="[ExpedidoEnColonia]" estado="[ExpedidoEnEstado]" noExterior="[ExpedidoEnNoExt]" calle="[ExpedidoEnCalle]" codigoPostal="[ExpedidoEnCodigoPostal]" localidad="[ExpedidoEnLocalidad]"/>   
{/Encabezado}
{RegimenFiscal}
    <cfdi:RegimenFiscal Regimen="[EmisorRegimenFiscal]"/>
{/RegimenFiscal}
{Receptor}
  </cfdi:Emisor>
  <cfdi:Receptor rfc="[RFCCliente]" nombre="[NombreCliente]">     
    <cfdi:Domicilio calle="[CalleCliente]" noExterior="[NumeroExteriorCliente]" colonia="[ColoniaCliente]" municipio="[LocalidadCliente]" estado="[EstadoCliente]" pais="[PaisCliente]" codigoPostal="[CodigoPostalCliente]" />   
  </cfdi:Receptor>   
  <cfdi:Conceptos>    
{/Receptor}    
{Detalle}           
    <cfdi:Concepto cantidad="[Cantidad]" unidad="[Unidad]" noIdentificacion="[Articulo]" descripcion="[DescripcionArticulo]" valorUnitario="[Precio]" importe="[Importe]" >    
{/Detalle}    
{Serielote}             
      <cfdi:InformacionAduanera numero="[Pedimento]" fecha="[PedimentoFecha]" aduana="[PedimentoAduana]" />    
{/Serielote}    
{Detalle2}           
    </cfdi:Concepto>    
{/Detalle2} 
{Total1}         
  </cfdi:Conceptos>   
  <cfdi:Impuestos totalImpuestosRetenidos="[TotalImpuestosRetenidos]" totalImpuestosTrasladados="[TotalImpuestosImporte]">        
    <cfdi:Retenciones> 
{/Total1} 
{Retenciones}       
      <cfdi:Retencion impuesto="[ImpuestoRetencion]" importe="[ImporteRetencion]"/> 
{/Retenciones} 
{Total3}     
    </cfdi:Retenciones[algo2]>        
    <cfdi:Traslados> 
{/Total3} 
{Impuestos}             
      <cfdi:Traslado impuesto="[Impuesto]" tasa="[PorcentajeImpuesto]" importe="[ImporteImpuesto]" /> 
{/Impuestos} 
{Total4}        
    </cfdi:Traslados>         
  </cfdi:Impuestos>      
  <cfdi:Addenda>_ADDENDA_DOCUMENTO_</cfdi:Addenda>
</cfdi:Comprobante> 
{/Total4}','', 1, 4, 1, 1,1,0, 1
GO
 /* VTAS-CFDI_3.2-eDocD*/
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2', 1,  'Encabezado','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'RegimenFiscal')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2', 2,  'RegimenFiscal','','CFDVentaFiscalRegimen',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Receptor')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2', 3,  'Receptor','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Detalle')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2', 4,  'Detalle','Encabezado','CFDVentaD',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Total1')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2', 7,  'Total1','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Impuestos')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2', 10,  'Impuestos','Encabezado','CFDVentaMovImpuesto',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Total4')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2', 11,  'Total4','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Serielote')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2', 5,  'Serielote','Detalle','CFDVentaPedimento',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Detalle2')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2', 6,  'Detalle2','Encabezado','CFDVentaD',1,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Total3')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2', 9,  'Total3','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Retenciones')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2', 8,  'Retenciones','','CFDVentaMovRetencion',0,'' 
GO
 
/* VTAS-CFDI_3.2-eDocDMapeoCampo*/
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[RFCEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[RFCEmpresa]',  'EmpresaRFC','',0,1,'<RFCEmpresa></RFCEmpresa>', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NombreEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[NombreEmpresa]',  'UPPER(EmpresaNombre)','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CalleEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[CalleEmpresa]',  'EmpresaCalle','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumeroExteriorEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[NumeroExteriorEmpresa]',  'EmpresaNumeroExterior','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ColoniaEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[ColoniaEmpresa]',  'EmpresaColonia','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[LocalidadEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[LocalidadEmpresa]',  'EmpresaLocalidad','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[MunicipioEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[MunicipioEmpresa]',  'EmpresaMunicipio','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EstadoEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[EstadoEmpresa]',  'EmpresaEstado','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[PaisEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[PaisEmpresa]',  'EmpresaPais','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CodigoPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[CodigoPostal]',  'EmpresaCodigoPostal','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FechaRegistro]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[FechaRegistro]',  'VentaFechaRegistro','AAAA-MM-DDTHH:NN:SS',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SerieMovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[SerieMovID]',  'VentaSerie','',0,0,'serie=""', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumeroMovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[NumeroMovID]',  'VentaFolio','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Condicion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[Condicion]',  'VentaCondicion','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SubTotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[SubTotal]',  'CONVERT(DECIMAL(20,2),VentaSubTotal+ISNULL(VentaDescuentoImporte,0))','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DescuentoImporte]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[DescuentoImporte]',  'VentaDescuentoImporte','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoComprobante]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[VentaTipoComprobante]',  'Lower(VentaTipoComprobante)','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Total]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[Total]',  'VentaTotal','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FormaPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[FormaPago]',  '(SELECT dbo.fneDocVentaReferenciaMetodoCobro(ID, 0))','',0,0,'metodoDePago=""', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CampoTipoComprobanteDeMovTipo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[CampoTipoComprobanteDeMovTipo]',  'Lower(VentaTipoComprobante)','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CodigoPostalEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[CodigoPostalEmpresa]',  'EmpresaCodigoPostal','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CondicionFormaDePago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[CondicionFormaDePago]',  'ISNULL(CondicionFormaDePago,''DIVERSAS'')','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnNoInterior]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[ExpedidoEnNoInterior]',  'SucursalNumeroInterior','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnMunicipio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[ExpedidoEnMunicipio]',  'SucursalMunicipio','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnPais]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[ExpedidoEnPais]',  'SucursalPais','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnColonia]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[ExpedidoEnColonia]',  'SucursalColonia','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnEstado]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[ExpedidoEnEstado]',  'SucursalEstado','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnNoExt]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[ExpedidoEnNoExt]',  'SucursalNumeroExterior','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnCalle]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[ExpedidoEnCalle]',  'SucursalCalle','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnCodigoPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[ExpedidoEnCodigoPostal]',  'SucursalCodigoPostal','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnLocalidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[ExpedidoEnLocalidad]',  'SucursalLocalidad','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[LugarExpedicion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[LugarExpedicion]',  'SucursalLocalidad','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumCtaPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[NumCtaPago]',  '(SELECT dbo.fneDocVentaReferenciaMetodoCobro(ID, 1))','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaMoneda]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[VentaMoneda]',  'VentaMoneda','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoCambio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Encabezado'), '[VentaTipoCambio]',  'VentaTipoCambio','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'RegimenFiscal' AND eddmc.CampoXML = '[EmisorRegimenFiscal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'RegimenFiscal'), '[EmisorRegimenFiscal]',  'EmisorRegimenFiscal','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[RFCCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Receptor'), '[RFCCliente]',  'ClienteRFC','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[NombreCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Receptor'), '[NombreCliente]',  'ClienteNombre','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[CalleCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Receptor'), '[CalleCliente]',  'ClienteCalle','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[NumeroExteriorCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Receptor'), '[NumeroExteriorCliente]',  'ClienteNumeroExterior','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[NumeroInteriorCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Receptor'), '[NumeroInteriorCliente]',  'ClienteNumeroInterior','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[ColoniaCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Receptor'), '[ColoniaCliente]',  'ClienteColonia','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[LocalidadCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Receptor'), '[LocalidadCliente]',  'ClienteLocalidad','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[MunicipioCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Receptor'), '[MunicipioCliente]',  'ClienteMunicipio','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[EstadoCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Receptor'), '[EstadoCliente]',  'ClienteEstado','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[PaisCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Receptor'), '[PaisCliente]',  'ClientePais','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[CodigoPostalCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Receptor'), '[CodigoPostalCliente]',  'ClienteCodigoPostal','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Cantidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Detalle'), '[Cantidad]',  'VentaDCantidad','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Unidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Detalle'), '[Unidad]',  'UnidadClave','',0,0,' ', '', 2,NULL,NULL,NULL,0
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Articulo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Detalle'), '[Articulo]',  'VentaDArticulo','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[DescripcionArticulo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Detalle'), '[DescripcionArticulo]',  'VentaDDescripcion','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Precio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Detalle'), '[Precio]',  'VentaDPrecio','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Importe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Detalle'), '[Importe]',  'VentaDPrecioTotal','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Total1' AND eddmc.CampoXML = '[TotalImpuestosImporte]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Total1'), '[TotalImpuestosImporte]',  'VentaImpuestos','',0,1,'<cfdi:Traslados/>', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Total1' AND eddmc.CampoXML = '[TotalImpuestosRetenidos]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Total1'), '[TotalImpuestosRetenidos]',  'VentaRetencionTotal','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[Impuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Impuestos'), '[Impuesto]',  'Impuesto','',0,1,'<cfdi:Traslados/>', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[PorcentajeImpuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Impuestos'), '[PorcentajeImpuesto]',  'Tasa','',0,1,'<DomicilioFiscal/>', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[ImporteImpuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Impuestos'), '[ImporteImpuesto]',  'Importe','',0,0,' ', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Serielote' AND eddmc.CampoXML = '[Pedimento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Serielote'), '[Pedimento]',  'Propiedades','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Serielote' AND eddmc.CampoXML = '[PedimentoFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Serielote'), '[PedimentoFecha]',  'Fecha1','AAAA-MM-DD',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Serielote' AND eddmc.CampoXML = '[PedimentoAduana]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Serielote'), '[PedimentoAduana]',  'Aduana','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Total3' AND eddmc.CampoXML = '[algo2]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Total3'), '[algo2]',  CHAR(39) + CHAR(39),'',0,1,'<cfdi:Retenciones/>', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Retenciones' AND eddmc.CampoXML = '[ImpuestoRetencion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Retenciones'), '[ImpuestoRetencion]',  'Impuesto','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2' AND edd.Seccion = 'Retenciones' AND eddmc.CampoXML = '[ImporteRetencion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2' AND Seccion = 'Retenciones'), '[ImporteRetencion]',  'Importe','',0,0,'', '', NULL,NULL,NULL,NULL,0 
GO

IF NOT EXISTS(SELECT * FROM eDocXSD WHERE Modulo = 'VTAS' AND Clave = 'CFDI_3.2') 
INSERT INTO eDocXSD (Modulo, Clave, XSD) SELECT 'VTAS', 'CFDI_3.2',
'
<xs:schema targetNamespace="http://www.sat.gob.mx/cfd/3" elementFormDefault="qualified" attributeFormDefault="unqualified" xmlns:cfdi="http://www.sat.gob.mx/cfd/3" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:element name="Comprobante">
    <xs:annotation>
      <xs:documentation>Estándar de Comprobante fiscal digital a través de Internet.</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="Emisor">
          <xs:annotation>
            <xs:documentation>Nodo requerido para expresar la información del contribuyente emisor del comprobante.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element name="DomicilioFiscal" type="cfdi:t_UbicacionFiscal" minOccurs="0">
                <xs:annotation>
                  <xs:documentation>Nodo opcional para precisar la información de ubicación del domicilio fiscal del contribuyente emisor</xs:documentation>
                </xs:annotation>
              </xs:element>
              <xs:element name="ExpedidoEn" type="cfdi:t_Ubicacion" minOccurs="0">
                <xs:annotation>
                  <xs:documentation>Nodo opcional para precisar la información de ubicación del domicilio en donde es emitido el comprobante fiscal en caso de que sea distinto del domicilio fiscal del contribuyente emisor.</xs:documentation>
                </xs:annotation>
              </xs:element>
              <xs:sequence>
                <xs:element name="RegimenFiscal" maxOccurs="unbounded">
                  <xs:annotation>
                    <xs:documentation>Nodo requerido para incorporar los regímenes en los que tributa el contribuyente emisor. Puede contener más de un régimen.</xs:documentation>
                  </xs:annotation>
                  <xs:complexType>
                    <xs:attribute name="Regimen" use="required">
                      <xs:annotation>
                        <xs:documentation>Atributo requerido para incorporar el nombre del régimen en el que tributa el contribuyente emisor.</xs:documentation>
                      </xs:annotation>
                      <xs:simpleType>
                        <xs:restriction base="xs:string">
                          <xs:minLength value="1"/>
                          <xs:whiteSpace value="collapse"/>
                        </xs:restriction>
                      </xs:simpleType>
                    </xs:attribute>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:sequence>
            <xs:attribute name="rfc" type="cfdi:t_RFC" use="required">
              <xs:annotation>
                <xs:documentation>Atributo requerido para la Clave del Registro Federal de Contribuyentes correspondiente al contribuyente emisor del comprobante sin guiones o espacios.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute name="nombre">
              <xs:annotation>
                <xs:documentation>Atributo opcional para el nombre, denominación o razón social del contribuyente emisor del comprobante.</xs:documentation>
              </xs:annotation>
              <xs:simpleType>
                <xs:restriction base="xs:string">
                  <xs:minLength value="1"/>
                  <xs:whiteSpace value="collapse"/>
                </xs:restriction>
              </xs:simpleType>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element name="Receptor">
          <xs:annotation>
            <xs:documentation>Nodo requerido para precisar la información del contribuyente receptor del comprobante.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element name="Domicilio" type="cfdi:t_Ubicacion" minOccurs="0">
                <xs:annotation>
                  <xs:documentation>Nodo opcional para la definición de la ubicación donde se da el domicilio del receptor del comprobante fiscal.</xs:documentation>
                </xs:annotation>
              </xs:element>
            </xs:sequence>
            <xs:attribute name="rfc" type="cfdi:t_RFC" use="required">
              <xs:annotation>
                <xs:documentation>Atributo requerido para precisar la Clave del Registro Federal de Contribuyentes correspondiente al contribuyente receptor del comprobante.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute name="nombre" use="optional">
              <xs:annotation>
                <xs:documentation>Atributo opcional para el nombre, denominación o razón social del contribuyente receptor del comprobante.</xs:documentation>
              </xs:annotation>
              <xs:simpleType>
                <xs:restriction base="xs:string">
                  <xs:minLength value="1"/>
                  <xs:whiteSpace value="collapse"/>
                </xs:restriction>
              </xs:simpleType>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element name="Conceptos">
          <xs:annotation>
            <xs:documentation>Nodo requerido para enlistar los conceptos cubiertos por el comprobante.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element name="Concepto" maxOccurs="unbounded">
                <xs:annotation>
                  <xs:documentation>Nodo para introducir la información detallada de un bien o servicio amparado en el comprobante.</xs:documentation>
                </xs:annotation>
                <xs:complexType>
                  <xs:choice minOccurs="0">
                    <xs:element name="InformacionAduanera" type="cfdi:t_InformacionAduanera" minOccurs="0" maxOccurs="unbounded">
                      <xs:annotation>
                        <xs:documentation>Nodo opcional para introducir la información aduanera aplicable cuando se trate de ventas de primera mano de mercancías importadas.</xs:documentation>
                      </xs:annotation>
                    </xs:element>
                    <xs:element name="CuentaPredial" minOccurs="0">
                      <xs:annotation>
                        <xs:documentation>Nodo opcional para asentar el número de cuenta predial con el que fue registrado el inmueble, en el sistema catastral de la entidad federativa de que trate, o bien para incorporar los datos de identificación del certificado de participación inmobiliaria no amortizable.</xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:attribute name="numero" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para precisar el número de la cuenta predial del inmueble cubierto por el presente concepto, o bien para incorporar los datos de identificación del certificado de participación inmobiliaria no amortizable, tratándose de arrendamiento.</xs:documentation>
                          </xs:annotation>
                          <xs:simpleType>
                            <xs:restriction base="xs:string">
                              <xs:whiteSpace value="collapse"/>
                              <xs:minLength value="1"/>
                            </xs:restriction>
                          </xs:simpleType>
                        </xs:attribute>
                      </xs:complexType>
                    </xs:element>
                    <xs:element name="ComplementoConcepto" minOccurs="0">
                      <xs:annotation>
                        <xs:documentation>Nodo opcional donde se incluirán los nodos complementarios de extensión al concepto, definidos por el SAT, de acuerdo a disposiciones particulares a un sector o actividad especifica.</xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:sequence>
                          <xs:any minOccurs="0" maxOccurs="unbounded"/>
                        </xs:sequence>
                      </xs:complexType>
                    </xs:element>
                    <xs:element name="Parte" minOccurs="0" maxOccurs="unbounded">
                      <xs:annotation>
                        <xs:documentation>Nodo opcional para expresar las partes o componentes que integran la totalidad del concepto expresado en el comprobante fiscal digital a través de Internet</xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:sequence>
                          <xs:element name="InformacionAduanera" type="cfdi:t_InformacionAduanera" minOccurs="0" maxOccurs="unbounded">
                            <xs:annotation>
                              <xs:documentation>Nodo opcional para introducir la información aduanera aplicable cuando se trate de partes o componentes importados vendidos de primera mano.</xs:documentation>
                            </xs:annotation>
                          </xs:element>
                        </xs:sequence>
                        <xs:attribute name="cantidad" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para precisar la cantidad de bienes o servicios del tipo particular definido por la presente parte.</xs:documentation>
                          </xs:annotation>
                          <xs:simpleType>
                            <xs:restriction base="xs:decimal">
                              <xs:whiteSpace value="collapse"/>
                            </xs:restriction>
                          </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="unidad" use="optional">
                          <xs:annotation>
                            <xs:documentation>Atributo opcional para precisar la unidad de medida aplicable para la cantidad expresada en la parte.</xs:documentation>
                          </xs:annotation>
                          <xs:simpleType>
                            <xs:restriction base="xs:string">
                              <xs:whiteSpace value="collapse"/>
                              <xs:minLength value="1"/>
                            </xs:restriction>
                          </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="noIdentificacion" use="optional">
                          <xs:annotation>
                            <xs:documentation>Atributo opcional para expresar el número de serie del bien o identificador del servicio amparado por la presente parte.</xs:documentation>
                          </xs:annotation>
                          <xs:simpleType>
                            <xs:restriction base="xs:string">
                              <xs:minLength value="1"/>
                              <xs:whiteSpace value="collapse"/>
                            </xs:restriction>
                          </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="descripcion" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para precisar la descripción del bien o servicio cubierto por la presente parte.</xs:documentation>
                          </xs:annotation>
                          <xs:simpleType>
                            <xs:restriction base="xs:string">
                              <xs:minLength value="1"/>
                              <xs:whiteSpace value="collapse"/>
                            </xs:restriction>
                          </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="valorUnitario" type="cfdi:t_Importe" use="optional">
                          <xs:annotation>
                            <xs:documentation>Atributo opcional para precisar el valor o precio unitario del bien o servicio cubierto por la presente parte.</xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                        <xs:attribute name="importe" type="cfdi:t_Importe" use="optional">
                          <xs:annotation>
                            <xs:documentation>Atributo opcional para precisar el importe total de los bienes o servicios de la presente parte. Debe ser equivalente al resultado de multiplicar la cantidad por el valor unitario expresado en la parte.</xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                      </xs:complexType>
                    </xs:element>
                  </xs:choice>
                  <xs:attribute name="cantidad" use="required">
                    <xs:annotation>
                      <xs:documentation>Atributo requerido para precisar la cantidad de bienes o servicios del tipo particular definido por el presente concepto.</xs:documentation>
                    </xs:annotation>
                    <xs:simpleType>
                      <xs:restriction base="xs:decimal">
                        <xs:whiteSpace value="collapse"/>
                      </xs:restriction>
                    </xs:simpleType>
                  </xs:attribute>
                  <xs:attribute name="unidad" use="required">
                    <xs:annotation>
                      <xs:documentation>Atributo requerido para precisar la unidad de medida aplicable para la cantidad expresada en el concepto.</xs:documentation>
                    </xs:annotation>
                    <xs:simpleType>
                      <xs:restriction base="xs:string">
                        <xs:whiteSpace value="collapse"/>
                        <xs:minLength value="1"/>
                      </xs:restriction>
                    </xs:simpleType>
                  </xs:attribute>
                  <xs:attribute name="noIdentificacion" use="optional">
                    <xs:annotation>
                      <xs:documentation>Atributo opcional para expresar el número de serie del bien o identificador del servicio amparado por el presente concepto.</xs:documentation>
                    </xs:annotation>
                    <xs:simpleType>
                      <xs:restriction base="xs:string">
                        <xs:minLength value="1"/>
                        <xs:whiteSpace value="collapse"/>
                      </xs:restriction>
                    </xs:simpleType>
                  </xs:attribute>
                  <xs:attribute name="descripcion" use="required">
                    <xs:annotation>
                      <xs:documentation>Atributo requerido para precisar la descripción del bien o servicio cubierto por el presente concepto.</xs:documentation>
                    </xs:annotation>
                    <xs:simpleType>
                      <xs:restriction base="xs:string">
                        <xs:minLength value="1"/>
                        <xs:whiteSpace value="collapse"/>
                      </xs:restriction>
                    </xs:simpleType>
                  </xs:attribute>
                  <xs:attribute name="valorUnitario" type="cfdi:t_Importe" use="required">
                    <xs:annotation>
                      <xs:documentation>Atributo requerido para precisar el valor o precio unitario del bien o servicio cubierto por el presente concepto.</xs:documentation>
                    </xs:annotation>
                  </xs:attribute>
                  <xs:attribute name="importe" type="cfdi:t_Importe" use="required">
                    <xs:annotation>
                      <xs:documentation>Atributo requerido para precisar el importe total de los bienes o servicios del presente concepto. Debe ser equivalente al resultado de multiplicar la cantidad por el valor unitario expresado en el concepto.</xs:documentation>
                    </xs:annotation>
                  </xs:attribute>
                </xs:complexType>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="Impuestos">
          <xs:annotation>
            <xs:documentation>Nodo requerido para capturar los impuestos aplicables.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element name="Retenciones" minOccurs="0">
                <xs:annotation>
                  <xs:documentation>Nodo opcional para capturar los impuestos retenidos aplicables</xs:documentation>
                </xs:annotation>
                <xs:complexType>
                  <xs:sequence>
                    <xs:element name="Retencion" maxOccurs="unbounded">
                      <xs:annotation>
                        <xs:documentation>Nodo para la información detallada de una retención de impuesto específico</xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:attribute name="impuesto" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para señalar el tipo de impuesto retenido</xs:documentation>
                          </xs:annotation>
                          <xs:simpleType>
                            <xs:restriction base="xs:string">
                              <xs:whiteSpace value="collapse"/>
                              <xs:enumeration value="ISR">
                                <xs:annotation>
                                  <xs:documentation>Impuesto sobre la renta</xs:documentation>
                                </xs:annotation>
                              </xs:enumeration>
                              <xs:enumeration value="IVA">
                                <xs:annotation>
                                  <xs:documentation>Impuesto al Valor Agregado</xs:documentation>
                                </xs:annotation>
                              </xs:enumeration>
                            </xs:restriction>
                          </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="importe" type="cfdi:t_Importe" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para señalar el importe o monto del impuesto retenido</xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                      </xs:complexType>
                    </xs:element>
                  </xs:sequence>
                </xs:complexType>
              </xs:element>
              <xs:element name="Traslados" minOccurs="0">
                <xs:annotation>
                  <xs:documentation>Nodo opcional para asentar o referir los impuestos trasladados aplicables</xs:documentation>
                </xs:annotation>
                <xs:complexType>
                  <xs:sequence>
                    <xs:element name="Traslado" maxOccurs="unbounded">
                      <xs:annotation>
                        <xs:documentation>Nodo para la información detallada de un traslado de impuesto específico</xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:attribute name="impuesto" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para señalar el tipo de impuesto trasladado</xs:documentation>
                          </xs:annotation>
                          <xs:simpleType>
                            <xs:restriction base="xs:string">
                              <xs:whiteSpace value="collapse"/>
                              <xs:enumeration value="IVA">
                                <xs:annotation>
                                  <xs:documentation>Impuesto al Valor Agregado</xs:documentation>
                                </xs:annotation>
                              </xs:enumeration>
                              <xs:enumeration value="IEPS">
                                <xs:annotation>
                                  <xs:documentation>Impuesto especial sobre productos y servicios</xs:documentation>
                                </xs:annotation>
                              </xs:enumeration>
                            </xs:restriction>
                          </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="tasa" type="cfdi:t_Importe" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para señalar la tasa del impuesto que se traslada por cada concepto amparado en el comprobante</xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                        <xs:attribute name="importe" type="cfdi:t_Importe" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para señalar el importe del impuesto trasladado</xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                      </xs:complexType>
                    </xs:element>
                  </xs:sequence>
                </xs:complexType>
              </xs:element>
            </xs:sequence>
            <xs:attribute name="totalImpuestosRetenidos" type="cfdi:t_Importe" use="optional">
              <xs:annotation>
                <xs:documentation>Atributo opcional para expresar el total de los impuestos retenidos que se desprenden de los conceptos expresados en el comprobante fiscal digital a través de Internet.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute name="totalImpuestosTrasladados" type="cfdi:t_Importe" use="optional">
              <xs:annotation>
                <xs:documentation>Atributo opcional para expresar el total de los impuestos trasladados que se desprenden de los conceptos expresados en el comprobante fiscal digital a través de Internet.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element name="Complemento" minOccurs="0">
          <xs:annotation>
            <xs:documentation>Nodo opcional donde se incluirán los nodos complementarios determinados por el SAT, de acuerdo a las disposiciones particulares a un sector o actividad especifica.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:any processContents="skip" minOccurs="0"/>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="Addenda" minOccurs="0">
          <xs:annotation>
            <xs:documentation>Nodo opcional para recibir las extensiones al presente formato que sean de utilidad al contribuyente. Para las reglas de uso del mismo, referirse al formato de origen.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:any processContents="skip" minOccurs="0"/>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:sequence>
      <xs:attribute name="version" use="required" fixed="3.2">
        <xs:annotation>
          <xs:documentation>Atributo requerido con valor prefijado a 3.2 que indica la versión del estándar bajo el que se encuentra expresado el comprobante.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="serie" use="optional">
        <xs:annotation>
          <xs:documentation>Atributo opcional para precisar la serie para control interno del contribuyente. Este atributo acepta una cadena de caracteres alfabéticos de 1 a 25 caracteres sin incluir caracteres acentuados.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:minLength value="1"/>
            <xs:maxLength value="25"/>
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="folio">
        <xs:annotation>
          <xs:documentation>Atributo opcional para control interno del contribuyente que acepta un valor numérico entero superior a 0 que expresa el folio del comprobante.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:minLength value="1"/>
            <xs:maxLength value="20"/>
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="fecha" use="required">
        <xs:annotation>
          <xs:documentation>Atributo requerido para la expresión de la fecha y hora de expedición  del comprobante fiscal. Se expresa en la forma aaaa-mm-ddThh:mm:ss, de acuerdo con la especificación ISO 8601.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="sello" use="required">
        <xs:annotation>
          <xs:documentation>Atributo requerido para contener el sello digital del comprobante fiscal, al que hacen referencia las reglas de resolución miscelánea aplicable. El sello deberá ser expresado cómo una cadena de texto en formato Base 64.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="formaDePago" use="required">
        <xs:annotation>
          <xs:documentation>Atributo requerido para precisar la forma de pago que aplica para este comprobnante fiscal digital a través de Internet. Se utiliza para expresar Pago en una sola exhibición o número de parcialidad pagada contra el total de parcialidades, Parcialidad 1 de X. </xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="noCertificado" use="required">
        <xs:annotation>
          <xs:documentation> Atributo requerido para expresar el número de serie del certificado de sello digital que ampara al comprobante, de acuerdo al acuse correspondiente a 20 posiciones otorgado por el sistema del SAT.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="certificado" use="required">
        <xs:annotation>
          <xs:documentation>Atributo requerido que sirve para expresar el certificado de sello digital que ampara al comprobante como texto, en formato base 64.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="condicionesDePago" use="optional">
        <xs:annotation>
          <xs:documentation>Atributo opcional para expresar las condiciones comerciales aplicables para el pago del comprobante fiscal digital a través de Internet.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
            <xs:minLength value="1"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="subTotal" type="cfdi:t_Importe" use="required">
        <xs:annotation>
          <xs:documentation>Atributo requerido para representar la suma de los importes antes de descuentos e impuestos.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute name="descuento" type="cfdi:t_Importe" use="optional">
        <xs:annotation>
          <xs:documentation>Atributo opcional para representar el importe total de los descuentos aplicables antes de impuestos.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute name="motivoDescuento" use="optional">
        <xs:annotation>
          <xs:documentation>Atributo opcional para expresar el motivo del descuento aplicable.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:minLength value="1"/>
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="TipoCambio">
        <xs:annotation>
          <xs:documentation>Atributo opcional para representar el tipo de cambio conforme a la moneda usada</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="Moneda">
        <xs:annotation>
          <xs:documentation>Atributo opcional para expresar la moneda utilizada para expresar los montos </xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="total" type="cfdi:t_Importe" use="required">
        <xs:annotation>
          <xs:documentation>Atributo requerido para representar la suma del subtotal, menos los descuentos aplicables, más los impuestos trasladados, menos los impuestos retenidos.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute name="tipoDeComprobante" use="required">
        <xs:annotation>
          <xs:documentation>Atributo requerido para expresar el efecto del comprobante fiscal para el contribuyente emisor.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:enumeration value="ingreso"/>
            <xs:enumeration value="egreso"/>
            <xs:enumeration value="traslado"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="metodoDePago" use="required">
        <xs:annotation>
          <xs:documentation>Atributo requerido de texto libre para expresar el método de pago de los bienes o servicios amparados por el comprobante. Se entiende como método de pago leyendas tales como: cheque, tarjeta de crédito o debito, depósito en cuenta, etc.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:minLength value="1"/>
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="LugarExpedicion" use="required">
        <xs:annotation>
          <xs:documentation>Atributo requerido para incorporar el lugar de expedición del comprobante.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:minLength value="1"/>
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="NumCtaPago">
        <xs:annotation>
          <xs:documentation>Atributo Opcional para incorporar al menos los cuatro últimos digitos del número de cuenta con la que se realizó el pago.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:minLength value="4"/>
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="FolioFiscalOrig">
        <xs:annotation>
          <xs:documentation>Atributo opcional para señalar el número de folio fiscal del comprobante que se hubiese expedido por el valor total del comprobante, tratándose del pago en parcialidades.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="SerieFolioFiscalOrig">
        <xs:annotation>
          <xs:documentation>Atributo opcional para señalar la serie del folio del comprobante que se hubiese expedido por el valor total del comprobante, tratándose del pago en parcialidades.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="FechaFolioFiscalOrig">
        <xs:annotation>
          <xs:documentation>Atributo opcional para señalar la fecha de expedición del comprobante que se hubiese emitido por el valor total del comprobante, tratándose del pago en parcialidades. Se expresa en la forma aaaa-mm-ddThh:mm:ss, de acuerdo con la especificación ISO 8601.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="MontoFolioFiscalOrig" type="cfdi:t_Importe">
        <xs:annotation>
          <xs:documentation>Atributo opcional para señalar el total del comprobante que se hubiese expedido por el valor total de la operación, tratándose del pago en parcialidades</xs:documentation>
        </xs:annotation>
      </xs:attribute>
    </xs:complexType>
  </xs:element>
  <xs:complexType name="t_Ubicacion">
    <xs:annotation>
      <xs:documentation>Tipo definido para expresar domicilios o direcciones</xs:documentation>
    </xs:annotation>
    <xs:attribute name="calle" use="optional">
      <xs:annotation>
        <xs:documentation>Este atributo opcional sirve para precisar la avenida, calle, camino o carretera donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="noExterior" use="optional">
      <xs:annotation>
        <xs:documentation>Este atributo opcional sirve para expresar el número particular en donde se da la ubicación sobre una calle dada.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="noInterior" use="optional">
      <xs:annotation>
        <xs:documentation>Este atributo opcional sirve para expresar información adicional para especificar la ubicación cuando calle y número exterior (noExterior) no resulten suficientes para determinar la ubicación de forma precisa.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="colonia" use="optional">
      <xs:annotation>
        <xs:documentation>Este atributo opcional sirve para precisar la colonia en donde se da la ubicación cuando se desea ser más específico en casos de ubicaciones urbanas.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="localidad" use="optional">
      <xs:annotation>
        <xs:documentation>Atributo opcional que sirve para precisar la ciudad o población donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="referencia" use="optional">
      <xs:annotation>
        <xs:documentation>Atributo opcional para expresar una referencia de ubicación adicional.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="municipio" use="optional">
      <xs:annotation>
        <xs:documentation>Atributo opcional que sirve para precisar el municipio o delegación (en el caso del Distrito Federal) en donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="estado" use="optional">
      <xs:annotation>
        <xs:documentation>Atributo opcional que sirve para precisar el estado o entidad federativa donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="pais" use="required">
      <xs:annotation>
        <xs:documentation>Atributo requerido que sirve para precisar el país donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="codigoPostal" use="optional">
      <xs:annotation>
        <xs:documentation>Atributo opcional que sirve para asentar el código postal en donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="t_UbicacionFiscal">
    <xs:annotation>
      <xs:documentation>Tipo definido para expresar domicilios o direcciones</xs:documentation>
    </xs:annotation>
    <xs:attribute name="calle" use="required">
      <xs:annotation>
        <xs:documentation>Este atributo requerido sirve para precisar la avenida, calle, camino o carretera donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="noExterior" use="optional">
      <xs:annotation>
        <xs:documentation>Este atributo opcional sirve para expresar el número particular en donde se da la ubicación sobre una calle dada.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="noInterior" use="optional">
      <xs:annotation>
        <xs:documentation>Este atributo opcional sirve para expresar información adicional para especificar la ubicación cuando calle y número exterior (noExterior) no resulten suficientes para determinar la ubicación de forma precisa.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="colonia" use="optional">
      <xs:annotation>
        <xs:documentation>Este atributo opcional sirve para precisar la colonia en donde se da la ubicación cuando se desea ser más específico en casos de ubicaciones urbanas.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="localidad" use="optional">
      <xs:annotation>
        <xs:documentation>Atributo opcional que sirve para precisar la ciudad o población donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="referencia" use="optional">
      <xs:annotation>
        <xs:documentation>Atributo opcional para expresar una referencia de ubicación adicional.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:whiteSpace value="collapse"/>
          <xs:minLength value="1"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="municipio" use="required">
      <xs:annotation>
        <xs:documentation>Atributo requerido que sirve para precisar el municipio o delegación (en el caso del Distrito Federal) en donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="estado" use="required">
      <xs:annotation>
        <xs:documentation>Atributo requerido que sirve para precisar el estado o entidad federativa donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="pais" use="required">
      <xs:annotation>
        <xs:documentation>Atributo requerido que sirve para precisar el país donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="codigoPostal" use="required">
      <xs:annotation>
        <xs:documentation>Atributo requerido que sirve para asentar el código postal en donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:whiteSpace value="collapse"/>
          <xs:length value="5"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
  </xs:complexType>
  <xs:simpleType name="t_RFC">
    <xs:annotation>
      <xs:documentation>Tipo definido para expresar claves del Registro Federal de Contribuyentes</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:minLength value="12"/>
      <xs:maxLength value="13"/>
      <xs:whiteSpace value="collapse"/>
      <xs:pattern value="[A-Z,Ñ,&amp;]{3,4}[0-9]{2}[0-1][0-9][0-3][0-9][A-Z,0-9]?[A-Z,0-9]?[0-9,A-Z]?"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="t_Importe">
    <xs:annotation>
      <xs:documentation>Tipo definido para expresar importes numéricos con fracción hasta seis decimales</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:decimal">
      <xs:fractionDigits value="6"/>
      <xs:whiteSpace value="collapse"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="t_InformacionAduanera">
    <xs:annotation>
      <xs:documentation>Tipo definido para expresar información aduanera</xs:documentation>
    </xs:annotation>
    <xs:attribute name="numero" use="required">
      <xs:annotation>
        <xs:documentation>Atributo requerido para expresar el número del documento aduanero que ampara la importación del bien.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="fecha" use="required">
      <xs:annotation>
        <xs:documentation>Atributo requerido para expresar la fecha de expedición del documento aduanero que ampara la importación del bien. Se expresa en el formato aaaa-mm-dd</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="aduana">
      <xs:annotation>
        <xs:documentation>Atributo opcional para precisar el nombre de la aduana por la que se efectuó la importación del bien.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
  </xs:complexType>
</xs:schema>
' 
GO

EXEC spCFDFlexGenerarxmlSchema 'VTAS', 'CFDI_3.2'
GO

/********************************* CXC-CFDICXC_3.2-eDoc *********************************/
IF NOT EXISTS(SELECT * FROM eDoc WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2') INSERT INTO eDoc (Modulo, eDoc, TipoXML, Documento, XSD, TipoCFD, DecimalesPorOmision, TipoCFDI, TimbrarEnTransaccion, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII) SELECT 'CXC', 'CFDICXC_3.2',1, 
'{Encabezado}
<cfdi:Comprobante xmlns:cfdi="http://www.sat.gob.mx/cfd/3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.sat.gob.mx/cfd/3 http://www.sat.gob.mx/sitio_internet/cfd/3/cfdv32.xsd" version="3.2" serie="[SerieMovID]" folio="[NumeroMovID]" fecha="[FechaRegistro]" sello="_SELLO_" noCertificado="_NOCERTIFICADO_" certificado="_CERTIFICADO_" condicionesDePago="[Condicion]" subTotal="[SubTotal]" descuento="[DescuentoImporte]" total="[Total]" metodoDePago="[FormaPago]" tipoDeComprobante="[CampoTipoComprobanteDeMovTipo]" formaDePago="[CondicionFormaDePago]" LugarExpedicion="[LugarExpedicion]" FolioFiscalOrig="[FolioFiscalOrig]" FechaFolioFiscalOrig="[FechaFolioFiscalOrig]" MontoFolioFiscalOrig="[MontoFolioFiscalOrig]" NumCtaPago="[NumCtaPago]" Moneda="[CxcMoneda]" TipoCambio="[CxcTipoCambio]">
  <cfdi:Emisor rfc="[RFCEmpresa]" nombre="[NombreEmpresa]">
    <cfdi:DomicilioFiscal calle="[CalleEmpresa]" noExterior="[NumeroExteriorEmpresa]" colonia="[ColoniaEmpresa]" localidad="[LocalidadEmpresa]" municipio="[MunicipioEmpresa]" estado="[EstadoEmpresa]" pais="[PaisEmpresa]" codigoPostal="[CodigoPostalEmpresa]" />
    <cfdi:ExpedidoEn calle="[ExpedidoEnCalle]" noExterior="[ExpedidoEnNoExt]" noInterior="[ExpedidoEnNoInterior]" colonia="[ExpedidoEnColonia]" municipio="[ExpedidoEnMunicipio]" pais="[ExpedidoEnPais]" estado="[ExpedidoEnEstado]" codigoPostal="[ExpedidoEnCodigoPostal]" localidad="[ExpedidoEnLocalidad]"/>
{/Encabezado}
{RegimenFiscal}
    <cfdi:RegimenFiscal Regimen="[EmisorRegimenFiscal]"/>
{/RegimenFiscal}
{Receptor}
  </cfdi:Emisor>
  <cfdi:Receptor rfc="[RFCCliente]" nombre="[NombreCliente]">
    <cfdi:Domicilio calle="[CalleCliente]" noExterior="[NumeroExteriorCliente]" colonia="[ColoniaCliente]" municipio="[LocalidadCliente]" estado="[EstadoCliente]" pais="[PaisCliente]" codigoPostal="[CodigoPostalCliente]" />
  </cfdi:Receptor>
  <cfdi:Conceptos>
{/Receptor}
{Detalle}
    <cfdi:Concepto cantidad="[Cantidad]" unidad="[Unidad]" noIdentificacion="[Articulo]" descripcion="[DescripcionArticulo]" valorUnitario="[Precio]" importe="[Importe]" />
{/Detalle}    
{Total1}
  </cfdi:Conceptos>
  <cfdi:Impuestos totalImpuestosRetenidos="[TotalImpuestosRetenidos]" totalImpuestosTrasladados="[TotalImpuestosImporte]">
    <cfdi:Retenciones>
{/Total1}
{Retenciones}
      <cfdi:Retencion impuesto="[ImpuestoRetencion]" importe="[ImporteRetencion]"/>
{/Retenciones}
{Total3}
    </cfdi:Retenciones[Eliminar]>
    <cfdi:Traslados>
{/Total3}
{Impuestos}
      <cfdi:Traslado impuesto="[Impuesto]" tasa="[PorcentajeImpuesto]" importe="[ImporteImpuesto]" />
{/Impuestos}
{Total4}
    </cfdi:Traslados>
  </cfdi:Impuestos>
</cfdi:Comprobante>
{/Total4}','', 1, 4, 1, 1,1,0, 1
GO
 
/* CXC-CFDICXC_3.2-eDocD*/
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'CXC', 'CFDICXC_3.2', 1,  'Encabezado','','CFDCxc',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'RegimenFiscal')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'CXC', 'CFDICXC_3.2', 2,  'RegimenFiscal','','CFDCxcFiscalRegimen',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Receptor')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'CXC', 'CFDICXC_3.2', 3,  'Receptor','','CFDCxc',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Detalle')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'CXC', 'CFDICXC_3.2', 4,  'Detalle','Encabezado','CFDCxcDetalle',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Total1')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'CXC', 'CFDICXC_3.2', 6,  'Total1','','CFDCxc',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Impuestos')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'CXC', 'CFDICXC_3.2', 9,  'Impuestos','Encabezado','CFDCXCMovImpuesto',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Total4')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'CXC', 'CFDICXC_3.2', 10,  'Total4','','CFDCxc',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Total3')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'CXC', 'CFDICXC_3.2', 8,  'Total3','','CFDCxc',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Retenciones')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'CXC', 'CFDICXC_3.2', 7,  'Retenciones','Encabezado','CFDCXCMovRetencion',0,'' 
GO
 
/* CXC-CFDICXC_3.2-eDocDMapeoCampo*/
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[RFCEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[RFCEmpresa]',  'EmpresaRFC','',0,1,'<RFCEmpresa></RFCEmpresa>', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NombreEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[NombreEmpresa]',  'UPPER(EmpresaNombre)','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CalleEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[CalleEmpresa]',  'EmpresaCalle','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumeroExteriorEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[NumeroExteriorEmpresa]',  'EmpresaNumeroExterior','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ColoniaEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[ColoniaEmpresa]',  'EmpresaColonia','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[LocalidadEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[LocalidadEmpresa]',  'EmpresaLocalidad','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[MunicipioEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[MunicipioEmpresa]',  'EmpresaMunicipio','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EstadoEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[EstadoEmpresa]',  'EmpresaEstado','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[PaisEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[PaisEmpresa]',  'EmpresaPais','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CodigoPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[CodigoPostal]',  'EmpresaCodigoPostal','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FechaRegistro]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[FechaRegistro]',  'CxcFechaRegistro','AAAA-MM-DDTHH:NN:SS',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SerieMovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[SerieMovID]',  'CxcSerie','',0,0,'serie=""', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumeroMovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[NumeroMovID]',  'CxcFolio','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Condicion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[Condicion]',  'CxcCondicion','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SubTotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[SubTotal]',  'CxcSubTotal','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DescuentoImporte]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[DescuentoImporte]',  '0.00','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoComprobante]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[VentaTipoComprobante]',  'CxcTipoComprobante','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Total]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[Total]',  'CxcTotal','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FormaPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[FormaPago]',  '(SELECT dbo.fneDocCxcReferenciaMetodoCobro(CFDModuloID, 0))','',0,0,'metodoDePago=""', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CampoTipoComprobanteDeMovTipo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[CampoTipoComprobanteDeMovTipo]',  'Lower(CxcTipoComprobante)','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CodigoPostalEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[CodigoPostalEmpresa]',  'EmpresaCodigoPostal','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CondicionFormaDePago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[CondicionFormaDePago]',  '''Pago en Una Sola Exhibición''','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CFDanoAprobacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[CFDanoAprobacion]',  'CFDanoAprobacion','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CFDnoAprobacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[CFDnoAprobacion]',  'CFDnoAprobacion','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnCalle]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[ExpedidoEnCalle]',  'SucursalCalle','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnNoExt]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[ExpedidoEnNoExt]',  'SucursalNumeroExterior','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnNoInterior]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[ExpedidoEnNoInterior]',  'SucursalNumeroInterior','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnColonia]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[ExpedidoEnColonia]',  'SucursalColonia','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnMunicipio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[ExpedidoEnMunicipio]',  'SucursalMunicipio','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnPais]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[ExpedidoEnPais]',  'SucursalPais','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnEstado]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[ExpedidoEnEstado]',  'SucursalEstado','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnCodigoPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[ExpedidoEnCodigoPostal]',  'SucursalCodigoPostal','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnLocalidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[ExpedidoEnLocalidad]',  'SucursalLocalidad','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[LugarExpedicion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[LugarExpedicion]',  'SucursalLocalidad','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FolioFiscalOrig]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[FolioFiscalOrig]',  '(select dbo.fnCFDFlexCampoOrigen(''CXC'', CFDCxc.ID,''FolioFiscalOrig''))','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FechaFolioFiscalOrig]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[FechaFolioFiscalOrig]',  '(select dbo.fnCFDFlexCampoOrigen(''CXC'', CFDCxc.ID,''FechaFolioFiscalOrig''))','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[MontoFolioFiscalOrig]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[MontoFolioFiscalOrig]',  '(select dbo.fnCFDFlexCampoOrigen(''CXC'', CFDCxc.ID,''MontoFolioFiscalOrig''))','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumCtaPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[NumCtaPago]',  '(SELECT dbo.fneDocCxcReferenciaMetodoCobro(CFDModuloID, 1))','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CxcMoneda]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[CxcMoneda]',  'CxcMoneda','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CxcTipoCambio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Encabezado'), '[CxcTipoCambio]',  'CxcTipoCambio','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'RegimenFiscal' AND eddmc.CampoXML = '[EmisorRegimenFiscal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'RegimenFiscal'), '[EmisorRegimenFiscal]',  'EmisorRegimenFiscal','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[RFCCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Receptor'), '[RFCCliente]',  'ClienteRFC','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[NombreCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Receptor'), '[NombreCliente]',  'ClienteNombre','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[CalleCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Receptor'), '[CalleCliente]',  'ClienteCalle','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[NumeroExteriorCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Receptor'), '[NumeroExteriorCliente]',  'ClienteNumeroExterior','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[NumeroInteriorCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Receptor'), '[NumeroInteriorCliente]',  'ClienteNumeroInterior','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[ColoniaCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Receptor'), '[ColoniaCliente]',  'ClienteColonia','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[LocalidadCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Receptor'), '[LocalidadCliente]',  'ClienteLocalidad','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[MunicipioCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Receptor'), '[MunicipioCliente]',  'ClienteMunicipio','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[EstadoCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Receptor'), '[EstadoCliente]',  'ClienteEstado','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[PaisCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Receptor'), '[PaisCliente]',  'ClientePais','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[CodigoPostalCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Receptor'), '[CodigoPostalCliente]',  'ClienteCodigoPostal','',0,0,'', '', NULL,NULL,NULL,NULL,0 


IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Cantidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Detalle'), '[Cantidad]',  'CxcDCantidad','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Unidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Detalle'), '[Unidad]',  'CxcDUnidad','',1,0,' ', 'CFDFLEX_UNIDADES', 2,NULL,NULL,NULL,0
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Articulo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Detalle'), '[Articulo]',  'CxcDArticulo','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[DescripcionArticulo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Detalle'), '[DescripcionArticulo]',  'CxcDDescripcion','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Precio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Detalle'), '[Precio]',  'CxcDPrecio','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Importe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Detalle'), '[Importe]',  'CxcDPrecioTotal','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Total1' AND eddmc.CampoXML = '[TotalImpuestosImporte]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Total1'), '[TotalImpuestosImporte]',  'CONVERT(DECIMAL(20,2),CxcImporteImpuesto1+ISNULL(CxcImporteImpuesto2,0.0))','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Total1' AND eddmc.CampoXML = '[TotalImpuestosRetenidos]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Total1'), '[TotalImpuestosRetenidos]',  'CxcRetencion','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[Impuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Impuestos'), '[Impuesto]',  'Impuesto','',0,1,'<cfdi:Traslados/>', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[PorcentajeImpuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Impuestos'), '[PorcentajeImpuesto]',  'Tasa','',0,1,'<cfdi:DomicilioFiscal/>', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[ImporteImpuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Impuestos'), '[ImporteImpuesto]',  'Importe','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Total3' AND eddmc.CampoXML = '[Eliminar]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Total3'), '[Eliminar]',  CHAR(39) + CHAR(39),'',0,1,'<cfdi:Retenciones/>', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Retenciones' AND eddmc.CampoXML = '[ImpuestoRetencion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Retenciones'), '[ImpuestoRetencion]',  'Impuesto','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'CXC' AND eddmc.eDoc = 'CFDICXC_3.2' AND edd.Seccion = 'Retenciones' AND eddmc.CampoXML = '[ImporteRetencion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'CXC', 'CFDICXC_3.2', (SELECT RID FROM eDocD WHERE Modulo = 'CXC' AND eDoc = 'CFDICXC_3.2' AND Seccion = 'Retenciones'), '[ImporteRetencion]',  'Importe','',0,0,'', '', NULL,NULL,NULL,NULL,0 
GO

IF NOT EXISTS(SELECT * FROM eDocXSD WHERE Modulo = 'CXC' AND Clave = 'CFDICXC_3.2')  
INSERT INTO eDocXSD (Modulo, Clave, XSD) SELECT 'CXC', 'CFDICXC_3.2',
'
<xs:schema targetNamespace="http://www.sat.gob.mx/cfd/3" elementFormDefault="qualified" attributeFormDefault="unqualified" xmlns:cfdi="http://www.sat.gob.mx/cfd/3" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:element name="Comprobante">
    <xs:annotation>
      <xs:documentation>Estándar de Comprobante fiscal digital a través de Internet.</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element name="Emisor">
          <xs:annotation>
            <xs:documentation>Nodo requerido para expresar la información del contribuyente emisor del comprobante.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element name="DomicilioFiscal" type="cfdi:t_UbicacionFiscal" minOccurs="0">
                <xs:annotation>
                  <xs:documentation>Nodo opcional para precisar la información de ubicación del domicilio fiscal del contribuyente emisor</xs:documentation>
                </xs:annotation>
              </xs:element>
              <xs:element name="ExpedidoEn" type="cfdi:t_Ubicacion" minOccurs="0">
                <xs:annotation>
                  <xs:documentation>Nodo opcional para precisar la información de ubicación del domicilio en donde es emitido el comprobante fiscal en caso de que sea distinto del domicilio fiscal del contribuyente emisor.</xs:documentation>
                </xs:annotation>
              </xs:element>
              <xs:sequence>
                <xs:element name="RegimenFiscal" maxOccurs="unbounded">
                  <xs:annotation>
                    <xs:documentation>Nodo requerido para incorporar los regímenes en los que tributa el contribuyente emisor. Puede contener más de un régimen.</xs:documentation>
                  </xs:annotation>
                  <xs:complexType>
                    <xs:attribute name="Regimen" use="required">
                      <xs:annotation>
                        <xs:documentation>Atributo requerido para incorporar el nombre del régimen en el que tributa el contribuyente emisor.</xs:documentation>
                      </xs:annotation>
                      <xs:simpleType>
                        <xs:restriction base="xs:string">
                          <xs:minLength value="1"/>
                          <xs:whiteSpace value="collapse"/>
                        </xs:restriction>
                      </xs:simpleType>
                    </xs:attribute>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:sequence>
            <xs:attribute name="rfc" type="cfdi:t_RFC" use="required">
              <xs:annotation>
                <xs:documentation>Atributo requerido para la Clave del Registro Federal de Contribuyentes correspondiente al contribuyente emisor del comprobante sin guiones o espacios.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute name="nombre">
              <xs:annotation>
                <xs:documentation>Atributo opcional para el nombre, denominación o razón social del contribuyente emisor del comprobante.</xs:documentation>
              </xs:annotation>
              <xs:simpleType>
                <xs:restriction base="xs:string">
                  <xs:minLength value="1"/>
                  <xs:whiteSpace value="collapse"/>
                </xs:restriction>
              </xs:simpleType>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element name="Receptor">
          <xs:annotation>
            <xs:documentation>Nodo requerido para precisar la información del contribuyente receptor del comprobante.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element name="Domicilio" type="cfdi:t_Ubicacion" minOccurs="0">
                <xs:annotation>
                  <xs:documentation>Nodo opcional para la definición de la ubicación donde se da el domicilio del receptor del comprobante fiscal.</xs:documentation>
                </xs:annotation>
              </xs:element>
            </xs:sequence>
            <xs:attribute name="rfc" type="cfdi:t_RFC" use="required">
              <xs:annotation>
                <xs:documentation>Atributo requerido para precisar la Clave del Registro Federal de Contribuyentes correspondiente al contribuyente receptor del comprobante.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute name="nombre" use="optional">
              <xs:annotation>
                <xs:documentation>Atributo opcional para el nombre, denominación o razón social del contribuyente receptor del comprobante.</xs:documentation>
              </xs:annotation>
              <xs:simpleType>
                <xs:restriction base="xs:string">
                  <xs:minLength value="1"/>
                  <xs:whiteSpace value="collapse"/>
                </xs:restriction>
              </xs:simpleType>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element name="Conceptos">
          <xs:annotation>
            <xs:documentation>Nodo requerido para enlistar los conceptos cubiertos por el comprobante.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element name="Concepto" maxOccurs="unbounded">
                <xs:annotation>
                  <xs:documentation>Nodo para introducir la información detallada de un bien o servicio amparado en el comprobante.</xs:documentation>
                </xs:annotation>
                <xs:complexType>
                  <xs:choice minOccurs="0">
                    <xs:element name="InformacionAduanera" type="cfdi:t_InformacionAduanera" minOccurs="0" maxOccurs="unbounded">
                      <xs:annotation>
                        <xs:documentation>Nodo opcional para introducir la información aduanera aplicable cuando se trate de ventas de primera mano de mercancías importadas.</xs:documentation>
                      </xs:annotation>
                    </xs:element>
                    <xs:element name="CuentaPredial" minOccurs="0">
                      <xs:annotation>
                        <xs:documentation>Nodo opcional para asentar el número de cuenta predial con el que fue registrado el inmueble, en el sistema catastral de la entidad federativa de que trate, o bien para incorporar los datos de identificación del certificado de participación inmobiliaria no amortizable.</xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:attribute name="numero" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para precisar el número de la cuenta predial del inmueble cubierto por el presente concepto, o bien para incorporar los datos de identificación del certificado de participación inmobiliaria no amortizable, tratándose de arrendamiento.</xs:documentation>
                          </xs:annotation>
                          <xs:simpleType>
                            <xs:restriction base="xs:string">
                              <xs:whiteSpace value="collapse"/>
                              <xs:minLength value="1"/>
                            </xs:restriction>
                          </xs:simpleType>
                        </xs:attribute>
                      </xs:complexType>
                    </xs:element>
                    <xs:element name="ComplementoConcepto" minOccurs="0">
                      <xs:annotation>
                        <xs:documentation>Nodo opcional donde se incluirán los nodos complementarios de extensión al concepto, definidos por el SAT, de acuerdo a disposiciones particulares a un sector o actividad especifica.</xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:sequence>
                          <xs:any minOccurs="0" maxOccurs="unbounded"/>
                        </xs:sequence>
                      </xs:complexType>
                    </xs:element>
                    <xs:element name="Parte" minOccurs="0" maxOccurs="unbounded">
                      <xs:annotation>
                        <xs:documentation>Nodo opcional para expresar las partes o componentes que integran la totalidad del concepto expresado en el comprobante fiscal digital a través de Internet</xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:sequence>
                          <xs:element name="InformacionAduanera" type="cfdi:t_InformacionAduanera" minOccurs="0" maxOccurs="unbounded">
                            <xs:annotation>
                              <xs:documentation>Nodo opcional para introducir la información aduanera aplicable cuando se trate de partes o componentes importados vendidos de primera mano.</xs:documentation>
                            </xs:annotation>
                          </xs:element>
                        </xs:sequence>
                        <xs:attribute name="cantidad" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para precisar la cantidad de bienes o servicios del tipo particular definido por la presente parte.</xs:documentation>
                          </xs:annotation>
                          <xs:simpleType>
                            <xs:restriction base="xs:decimal">
                              <xs:whiteSpace value="collapse"/>
                            </xs:restriction>
                          </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="unidad" use="optional">
                          <xs:annotation>
                            <xs:documentation>Atributo opcional para precisar la unidad de medida aplicable para la cantidad expresada en la parte.</xs:documentation>
                          </xs:annotation>
                          <xs:simpleType>
                            <xs:restriction base="xs:string">
                              <xs:whiteSpace value="collapse"/>
                              <xs:minLength value="1"/>
                            </xs:restriction>
                          </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="noIdentificacion" use="optional">
                          <xs:annotation>
                            <xs:documentation>Atributo opcional para expresar el número de serie del bien o identificador del servicio amparado por la presente parte.</xs:documentation>
                          </xs:annotation>
                          <xs:simpleType>
                            <xs:restriction base="xs:string">
                              <xs:minLength value="1"/>
                              <xs:whiteSpace value="collapse"/>
                            </xs:restriction>
                          </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="descripcion" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para precisar la descripción del bien o servicio cubierto por la presente parte.</xs:documentation>
                          </xs:annotation>
                          <xs:simpleType>
                            <xs:restriction base="xs:string">
                              <xs:minLength value="1"/>
                              <xs:whiteSpace value="collapse"/>
                            </xs:restriction>
                          </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="valorUnitario" type="cfdi:t_Importe" use="optional">
                          <xs:annotation>
                            <xs:documentation>Atributo opcional para precisar el valor o precio unitario del bien o servicio cubierto por la presente parte.</xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                        <xs:attribute name="importe" type="cfdi:t_Importe" use="optional">
                          <xs:annotation>
                            <xs:documentation>Atributo opcional para precisar el importe total de los bienes o servicios de la presente parte. Debe ser equivalente al resultado de multiplicar la cantidad por el valor unitario expresado en la parte.</xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                      </xs:complexType>
                    </xs:element>
                  </xs:choice>
                  <xs:attribute name="cantidad" use="required">
                    <xs:annotation>
                      <xs:documentation>Atributo requerido para precisar la cantidad de bienes o servicios del tipo particular definido por el presente concepto.</xs:documentation>
                    </xs:annotation>
                    <xs:simpleType>
                      <xs:restriction base="xs:decimal">
                        <xs:whiteSpace value="collapse"/>
                      </xs:restriction>
                    </xs:simpleType>
                  </xs:attribute>
                  <xs:attribute name="unidad" use="required">
                    <xs:annotation>
                      <xs:documentation>Atributo requerido para precisar la unidad de medida aplicable para la cantidad expresada en el concepto.</xs:documentation>
                    </xs:annotation>
                    <xs:simpleType>
                      <xs:restriction base="xs:string">
                        <xs:whiteSpace value="collapse"/>
                        <xs:minLength value="1"/>
                      </xs:restriction>
                    </xs:simpleType>
                  </xs:attribute>
                  <xs:attribute name="noIdentificacion" use="optional">
                    <xs:annotation>
                      <xs:documentation>Atributo opcional para expresar el número de serie del bien o identificador del servicio amparado por el presente concepto.</xs:documentation>
                    </xs:annotation>
                    <xs:simpleType>
                      <xs:restriction base="xs:string">
                        <xs:minLength value="1"/>
                        <xs:whiteSpace value="collapse"/>
                      </xs:restriction>
                    </xs:simpleType>
                  </xs:attribute>
                  <xs:attribute name="descripcion" use="required">
                    <xs:annotation>
                      <xs:documentation>Atributo requerido para precisar la descripción del bien o servicio cubierto por el presente concepto.</xs:documentation>
                    </xs:annotation>
                    <xs:simpleType>
                      <xs:restriction base="xs:string">
                        <xs:minLength value="1"/>
                        <xs:whiteSpace value="collapse"/>
                      </xs:restriction>
                    </xs:simpleType>
                  </xs:attribute>
                  <xs:attribute name="valorUnitario" type="cfdi:t_Importe" use="required">
                    <xs:annotation>
                      <xs:documentation>Atributo requerido para precisar el valor o precio unitario del bien o servicio cubierto por el presente concepto.</xs:documentation>
                    </xs:annotation>
                  </xs:attribute>
                  <xs:attribute name="importe" type="cfdi:t_Importe" use="required">
                    <xs:annotation>
                      <xs:documentation>Atributo requerido para precisar el importe total de los bienes o servicios del presente concepto. Debe ser equivalente al resultado de multiplicar la cantidad por el valor unitario expresado en el concepto.</xs:documentation>
                    </xs:annotation>
                  </xs:attribute>
                </xs:complexType>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="Impuestos">
          <xs:annotation>
            <xs:documentation>Nodo requerido para capturar los impuestos aplicables.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:element name="Retenciones" minOccurs="0">
                <xs:annotation>
                  <xs:documentation>Nodo opcional para capturar los impuestos retenidos aplicables</xs:documentation>
                </xs:annotation>
                <xs:complexType>
                  <xs:sequence>
                    <xs:element name="Retencion" maxOccurs="unbounded">
                      <xs:annotation>
                        <xs:documentation>Nodo para la información detallada de una retención de impuesto específico</xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:attribute name="impuesto" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para señalar el tipo de impuesto retenido</xs:documentation>
                          </xs:annotation>
                          <xs:simpleType>
                            <xs:restriction base="xs:string">
                              <xs:whiteSpace value="collapse"/>
                              <xs:enumeration value="ISR">
                                <xs:annotation>
                                  <xs:documentation>Impuesto sobre la renta</xs:documentation>
                                </xs:annotation>
                              </xs:enumeration>
                              <xs:enumeration value="IVA">
                                <xs:annotation>
                                  <xs:documentation>Impuesto al Valor Agregado</xs:documentation>
                                </xs:annotation>
                              </xs:enumeration>
                            </xs:restriction>
                          </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="importe" type="cfdi:t_Importe" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para señalar el importe o monto del impuesto retenido</xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                      </xs:complexType>
                    </xs:element>
                  </xs:sequence>
                </xs:complexType>
              </xs:element>
              <xs:element name="Traslados" minOccurs="0">
                <xs:annotation>
                  <xs:documentation>Nodo opcional para asentar o referir los impuestos trasladados aplicables</xs:documentation>
                </xs:annotation>
                <xs:complexType>
                  <xs:sequence>
                    <xs:element name="Traslado" maxOccurs="unbounded">
                      <xs:annotation>
                        <xs:documentation>Nodo para la información detallada de un traslado de impuesto específico</xs:documentation>
                      </xs:annotation>
                      <xs:complexType>
                        <xs:attribute name="impuesto" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para señalar el tipo de impuesto trasladado</xs:documentation>
                          </xs:annotation>
                          <xs:simpleType>
                            <xs:restriction base="xs:string">
                              <xs:whiteSpace value="collapse"/>
                              <xs:enumeration value="IVA">
                                <xs:annotation>
                                  <xs:documentation>Impuesto al Valor Agregado</xs:documentation>
                                </xs:annotation>
                              </xs:enumeration>
                              <xs:enumeration value="IEPS">
                                <xs:annotation>
                                  <xs:documentation>Impuesto especial sobre productos y servicios</xs:documentation>
                                </xs:annotation>
                              </xs:enumeration>
                            </xs:restriction>
                          </xs:simpleType>
                        </xs:attribute>
                        <xs:attribute name="tasa" type="cfdi:t_Importe" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para señalar la tasa del impuesto que se traslada por cada concepto amparado en el comprobante</xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                        <xs:attribute name="importe" type="cfdi:t_Importe" use="required">
                          <xs:annotation>
                            <xs:documentation>Atributo requerido para señalar el importe del impuesto trasladado</xs:documentation>
                          </xs:annotation>
                        </xs:attribute>
                      </xs:complexType>
                    </xs:element>
                  </xs:sequence>
                </xs:complexType>
              </xs:element>
            </xs:sequence>
            <xs:attribute name="totalImpuestosRetenidos" type="cfdi:t_Importe" use="optional">
              <xs:annotation>
                <xs:documentation>Atributo opcional para expresar el total de los impuestos retenidos que se desprenden de los conceptos expresados en el comprobante fiscal digital a través de Internet.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute name="totalImpuestosTrasladados" type="cfdi:t_Importe" use="optional">
              <xs:annotation>
                <xs:documentation>Atributo opcional para expresar el total de los impuestos trasladados que se desprenden de los conceptos expresados en el comprobante fiscal digital a través de Internet.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
          </xs:complexType>
        </xs:element>
        <xs:element name="Complemento" minOccurs="0">
          <xs:annotation>
            <xs:documentation>Nodo opcional donde se incluirán los nodos complementarios determinados por el SAT, de acuerdo a las disposiciones particulares a un sector o actividad especifica.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:any processContents="skip" minOccurs="0"/>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="Addenda" minOccurs="0">
          <xs:annotation>
            <xs:documentation>Nodo opcional para recibir las extensiones al presente formato que sean de utilidad al contribuyente. Para las reglas de uso del mismo, referirse al formato de origen.</xs:documentation>
          </xs:annotation>
          <xs:complexType>
            <xs:sequence>
              <xs:any processContents="skip" minOccurs="0"/>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:sequence>
      <xs:attribute name="version" use="required" fixed="3.2">
        <xs:annotation>
          <xs:documentation>Atributo requerido con valor prefijado a 3.2 que indica la versión del estándar bajo el que se encuentra expresado el comprobante.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="serie" use="optional">
        <xs:annotation>
          <xs:documentation>Atributo opcional para precisar la serie para control interno del contribuyente. Este atributo acepta una cadena de caracteres alfabéticos de 1 a 25 caracteres sin incluir caracteres acentuados.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:minLength value="1"/>
            <xs:maxLength value="25"/>
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="folio">
        <xs:annotation>
          <xs:documentation>Atributo opcional para control interno del contribuyente que acepta un valor numérico entero superior a 0 que expresa el folio del comprobante.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:minLength value="1"/>
            <xs:maxLength value="20"/>
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="fecha" use="required">
        <xs:annotation>
          <xs:documentation>Atributo requerido para la expresión de la fecha y hora de expedición  del comprobante fiscal. Se expresa en la forma aaaa-mm-ddThh:mm:ss, de acuerdo con la especificación ISO 8601.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="sello" use="required">
        <xs:annotation>
          <xs:documentation>Atributo requerido para contener el sello digital del comprobante fiscal, al que hacen referencia las reglas de resolución miscelánea aplicable. El sello deberá ser expresado cómo una cadena de texto en formato Base 64.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="formaDePago" use="required">
        <xs:annotation>
          <xs:documentation>Atributo requerido para precisar la forma de pago que aplica para este comprobnante fiscal digital a través de Internet. Se utiliza para expresar Pago en una sola exhibición o número de parcialidad pagada contra el total de parcialidades, Parcialidad 1 de X. </xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="noCertificado" use="required">
        <xs:annotation>
          <xs:documentation> Atributo requerido para expresar el número de serie del certificado de sello digital que ampara al comprobante, de acuerdo al acuse correspondiente a 20 posiciones otorgado por el sistema del SAT.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="certificado" use="required">
        <xs:annotation>
          <xs:documentation>Atributo requerido que sirve para expresar el certificado de sello digital que ampara al comprobante como texto, en formato base 64.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="condicionesDePago" use="optional">
        <xs:annotation>
          <xs:documentation>Atributo opcional para expresar las condiciones comerciales aplicables para el pago del comprobante fiscal digital a través de Internet.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
            <xs:minLength value="1"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="subTotal" type="cfdi:t_Importe" use="required">
        <xs:annotation>
          <xs:documentation>Atributo requerido para representar la suma de los importes antes de descuentos e impuestos.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute name="descuento" type="cfdi:t_Importe" use="optional">
        <xs:annotation>
          <xs:documentation>Atributo opcional para representar el importe total de los descuentos aplicables antes de impuestos.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute name="motivoDescuento" use="optional">
        <xs:annotation>
          <xs:documentation>Atributo opcional para expresar el motivo del descuento aplicable.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:minLength value="1"/>
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="TipoCambio">
        <xs:annotation>
          <xs:documentation>Atributo opcional para representar el tipo de cambio conforme a la moneda usada</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="Moneda">
        <xs:annotation>
          <xs:documentation>Atributo opcional para expresar la moneda utilizada para expresar los montos </xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="total" type="cfdi:t_Importe" use="required">
        <xs:annotation>
          <xs:documentation>Atributo requerido para representar la suma del subtotal, menos los descuentos aplicables, más los impuestos trasladados, menos los impuestos retenidos.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute name="tipoDeComprobante" use="required">
        <xs:annotation>
          <xs:documentation>Atributo requerido para expresar el efecto del comprobante fiscal para el contribuyente emisor.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:enumeration value="ingreso"/>
            <xs:enumeration value="egreso"/>
            <xs:enumeration value="traslado"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="metodoDePago" use="required">
        <xs:annotation>
          <xs:documentation>Atributo requerido de texto libre para expresar el método de pago de los bienes o servicios amparados por el comprobante. Se entiende como método de pago leyendas tales como: cheque, tarjeta de crédito o debito, depósito en cuenta, etc.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:minLength value="1"/>
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="LugarExpedicion" use="required">
        <xs:annotation>
          <xs:documentation>Atributo requerido para incorporar el lugar de expedición del comprobante.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:minLength value="1"/>
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="NumCtaPago">
        <xs:annotation>
          <xs:documentation>Atributo Opcional para incorporar al menos los cuatro últimos digitos del número de cuenta con la que se realizó el pago.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:minLength value="4"/>
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="FolioFiscalOrig">
        <xs:annotation>
          <xs:documentation>Atributo opcional para señalar el número de folio fiscal del comprobante que se hubiese expedido por el valor total del comprobante, tratándose del pago en parcialidades.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="SerieFolioFiscalOrig">
        <xs:annotation>
          <xs:documentation>Atributo opcional para señalar la serie del folio del comprobante que se hubiese expedido por el valor total del comprobante, tratándose del pago en parcialidades.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="FechaFolioFiscalOrig">
        <xs:annotation>
          <xs:documentation>Atributo opcional para señalar la fecha de expedición del comprobante que se hubiese emitido por el valor total del comprobante, tratándose del pago en parcialidades. Se expresa en la forma aaaa-mm-ddThh:mm:ss, de acuerdo con la especificación ISO 8601.</xs:documentation>
        </xs:annotation>
        <xs:simpleType>
          <xs:restriction base="xs:string">
            <xs:whiteSpace value="collapse"/>
          </xs:restriction>
        </xs:simpleType>
      </xs:attribute>
      <xs:attribute name="MontoFolioFiscalOrig" type="cfdi:t_Importe">
        <xs:annotation>
          <xs:documentation>Atributo opcional para señalar el total del comprobante que se hubiese expedido por el valor total de la operación, tratándose del pago en parcialidades</xs:documentation>
        </xs:annotation>
      </xs:attribute>
    </xs:complexType>
  </xs:element>
  <xs:complexType name="t_Ubicacion">
    <xs:annotation>
      <xs:documentation>Tipo definido para expresar domicilios o direcciones</xs:documentation>
    </xs:annotation>
    <xs:attribute name="calle" use="optional">
      <xs:annotation>
        <xs:documentation>Este atributo opcional sirve para precisar la avenida, calle, camino o carretera donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="noExterior" use="optional">
      <xs:annotation>
        <xs:documentation>Este atributo opcional sirve para expresar el número particular en donde se da la ubicación sobre una calle dada.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="noInterior" use="optional">
      <xs:annotation>
        <xs:documentation>Este atributo opcional sirve para expresar información adicional para especificar la ubicación cuando calle y número exterior (noExterior) no resulten suficientes para determinar la ubicación de forma precisa.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="colonia" use="optional">
      <xs:annotation>
        <xs:documentation>Este atributo opcional sirve para precisar la colonia en donde se da la ubicación cuando se desea ser más específico en casos de ubicaciones urbanas.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="localidad" use="optional">
      <xs:annotation>
        <xs:documentation>Atributo opcional que sirve para precisar la ciudad o población donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="referencia" use="optional">
      <xs:annotation>
        <xs:documentation>Atributo opcional para expresar una referencia de ubicación adicional.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="municipio" use="optional">
      <xs:annotation>
        <xs:documentation>Atributo opcional que sirve para precisar el municipio o delegación (en el caso del Distrito Federal) en donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="estado" use="optional">
      <xs:annotation>
        <xs:documentation>Atributo opcional que sirve para precisar el estado o entidad federativa donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="pais" use="required">
      <xs:annotation>
        <xs:documentation>Atributo requerido que sirve para precisar el país donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="codigoPostal" use="optional">
      <xs:annotation>
        <xs:documentation>Atributo opcional que sirve para asentar el código postal en donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
  </xs:complexType>
  <xs:complexType name="t_UbicacionFiscal">
    <xs:annotation>
      <xs:documentation>Tipo definido para expresar domicilios o direcciones</xs:documentation>
    </xs:annotation>
    <xs:attribute name="calle" use="required">
      <xs:annotation>
        <xs:documentation>Este atributo requerido sirve para precisar la avenida, calle, camino o carretera donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="noExterior" use="optional">
      <xs:annotation>
        <xs:documentation>Este atributo opcional sirve para expresar el número particular en donde se da la ubicación sobre una calle dada.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="noInterior" use="optional">
      <xs:annotation>
        <xs:documentation>Este atributo opcional sirve para expresar información adicional para especificar la ubicación cuando calle y número exterior (noExterior) no resulten suficientes para determinar la ubicación de forma precisa.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="colonia" use="optional">
      <xs:annotation>
        <xs:documentation>Este atributo opcional sirve para precisar la colonia en donde se da la ubicación cuando se desea ser más específico en casos de ubicaciones urbanas.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="localidad" use="optional">
      <xs:annotation>
        <xs:documentation>Atributo opcional que sirve para precisar la ciudad o población donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="referencia" use="optional">
      <xs:annotation>
        <xs:documentation>Atributo opcional para expresar una referencia de ubicación adicional.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:whiteSpace value="collapse"/>
          <xs:minLength value="1"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="municipio" use="required">
      <xs:annotation>
        <xs:documentation>Atributo requerido que sirve para precisar el municipio o delegación (en el caso del Distrito Federal) en donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="estado" use="required">
      <xs:annotation>
        <xs:documentation>Atributo requerido que sirve para precisar el estado o entidad federativa donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="pais" use="required">
      <xs:annotation>
        <xs:documentation>Atributo requerido que sirve para precisar el país donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="codigoPostal" use="required">
      <xs:annotation>
        <xs:documentation>Atributo requerido que sirve para asentar el código postal en donde se da la ubicación.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:whiteSpace value="collapse"/>
          <xs:length value="5"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
  </xs:complexType>
  <xs:simpleType name="t_RFC">
    <xs:annotation>
      <xs:documentation>Tipo definido para expresar claves del Registro Federal de Contribuyentes</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:minLength value="12"/>
      <xs:maxLength value="13"/>
      <xs:whiteSpace value="collapse"/>
      <xs:pattern value="[A-Z,Ñ,&amp;]{3,4}[0-9]{2}[0-1][0-9][0-3][0-9][A-Z,0-9]?[A-Z,0-9]?[0-9,A-Z]?"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="t_Importe">
    <xs:annotation>
      <xs:documentation>Tipo definido para expresar importes numéricos con fracción hasta seis decimales</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:decimal">
      <xs:fractionDigits value="6"/>
      <xs:whiteSpace value="collapse"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="t_InformacionAduanera">
    <xs:annotation>
      <xs:documentation>Tipo definido para expresar información aduanera</xs:documentation>
    </xs:annotation>
    <xs:attribute name="numero" use="required">
      <xs:annotation>
        <xs:documentation>Atributo requerido para expresar el número del documento aduanero que ampara la importación del bien.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="fecha" use="required">
      <xs:annotation>
        <xs:documentation>Atributo requerido para expresar la fecha de expedición del documento aduanero que ampara la importación del bien. Se expresa en el formato aaaa-mm-dd</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="aduana">
      <xs:annotation>
        <xs:documentation>Atributo opcional para precisar el nombre de la aduana por la que se efectuó la importación del bien.</xs:documentation>
      </xs:annotation>
      <xs:simpleType>
        <xs:restriction base="xs:string">
          <xs:minLength value="1"/>
          <xs:whiteSpace value="collapse"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:attribute>
  </xs:complexType>
</xs:schema>
' 
GO

EXEC spCFDFlexGenerarxmlSchema 'CXC', 'CFDICXC_3.2'
GO

-- exec speDocGenerarInsercionesPlantilla 'VTAS', 'CFDI_3.2_ComercioExt'
/********************************* VTAS-CFDI_3.2_ComercioExt-eDoc *********************************/
IF NOT EXISTS(SELECT * FROM eDoc WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt') INSERT INTO eDoc (Modulo, eDoc, TipoXML, Documento, XSD, TipoCFD, DecimalesPorOmision, TipoCFDI, TimbrarEnTransaccion, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII) SELECT 'VTAS', 'CFDI_3.2_ComercioExt',1, 
'{Encabezado}
<cfdi:Comprobante xmlns:cfdi="http://www.sat.gob.mx/cfd/3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:cce="http://www.sat.gob.mx/ComercioExterior" xsi:schemaLocation="http://www.sat.gob.mx/cfd/3 http://www.sat.gob.mx/sitio_internet/cfd/3/cfdv32.xsd http://www.sat.gob.mx/ComercioExterior http://www.sat.gob.mx/sitio_internet/cfd/ComercioExterior/ComercioExterior10.xsd" version="3.2" serie="[SerieMovID]" folio="[NumeroMovID]" fecha="[FechaRegistro]" sello="_SELLO_" noCertificado="_NOCERTIFICADO_" certificado="_CERTIFICADO_" condicionesDePago="[Condicion]" subTotal="[SubTotal]" descuento="[DescuentoImporte]" total="[Total]" metodoDePago="[FormaPago]" tipoDeComprobante="[CampoTipoComprobanteDeMovTipo]" formaDePago="[CondicionFormaDePago]" LugarExpedicion="[LugarExpedicion]" NumCtaPago="[NumCtaPago]" Moneda="[VentaMoneda]" TipoCambio="[VentaTipoCambio]">
  <cfdi:Emisor rfc="[RFCEmpresa]" nombre="[NombreEmpresa]">     
    <cfdi:DomicilioFiscal calle="[CalleEmpresa]" noExterior="[NumeroExteriorEmpresa]" colonia="[ColoniaEmpresa]" localidad="[LocalidadEmpresa]" municipio="[MunicipioEmpresa]" estado="[EstadoEmpresa]" pais="[PaisEmpresa]" codigoPostal="[CodigoPostalEmpresa]" />     
    <cfdi:ExpedidoEn noInterior="[ExpedidoEnNoInterior]" municipio="[ExpedidoEnMunicipio]" pais="[ExpedidoEnPais]" colonia="[ExpedidoEnColonia]" estado="[ExpedidoEnEstado]" noExterior="[ExpedidoEnNoExt]" calle="[ExpedidoEnCalle]" codigoPostal="[ExpedidoEnCodigoPostal]" localidad="[ExpedidoEnLocalidad]"/>   
{/Encabezado}
{RegimenFiscal}
    <cfdi:RegimenFiscal Regimen="[EmisorRegimenFiscal]"/>
{/RegimenFiscal}
{Receptor}
  </cfdi:Emisor>
  <cfdi:Receptor rfc="[RFCCliente]" nombre="[NombreCliente]">
    <cfdi:Domicilio calle="[CalleCliente]" noExterior="[NumeroExteriorCliente]" colonia="[ColoniaCliente]" municipio="[LocalidadCliente]" estado="[EstadoCliente]" pais="[PaisCliente]" codigoPostal="[CodigoPostalCliente]" />
  </cfdi:Receptor>   
  <cfdi:Conceptos>    
{/Receptor}
{Detalle}           
    <cfdi:Concepto cantidad="[Cantidad]" unidad="[Unidad]" noIdentificacion="[Articulo]" descripcion="[DescripcionArticulo]" valorUnitario="[Precio]" importe="[Importe]" >    
{/Detalle}
{Serielote}
      <cfdi:InformacionAduanera numero="[Pedimento]" fecha="[PedimentoFecha]" aduana="[PedimentoAduana]" />    
{/Serielote}
{Detalle2}           
    </cfdi:Concepto>    
{/Detalle2}
{Total1}
  </cfdi:Conceptos>   
  <cfdi:Impuestos totalImpuestosRetenidos="[TotalImpuestosRetenidos]" totalImpuestosTrasladados="[TotalImpuestosImporte]">        
    <cfdi:Retenciones>
{/Total1}
{Retenciones}
      <cfdi:Retencion impuesto="[ImpuestoRetencion]" importe="[ImporteRetencion]"/>
{/Retenciones} 
{Total3}
    </cfdi:Retenciones[algo2]>
    <cfdi:Traslados> 
{/Total3} 
{Impuestos}             
      <cfdi:Traslado impuesto="[Impuesto]" tasa="[PorcentajeImpuesto]" importe="[ImporteImpuesto]" /> 
{/Impuestos} 
{Total4}
    </cfdi:Traslados>         
  </cfdi:Impuestos>
{/Total4}

{ComplementoCCE}
<cfdi:Complemento>
<cce:ComercioExterior Version="1.0" TipoOperacion="[TipoOperacion]" ClaveDePedimento="[ClaveDePedimento]" CertificadoOrigen="[CertificadoOrigen]" NumCertificadoOrigen="[NumCertificadoOrigen]" NumeroExportadorConfiable="[NumeroExportadorConfiable]" Incoterm="[Incoterm]" Subdivision="[Subdivision]" Observaciones="[Observaciones]" TipoCambioUSD="[TipoCambioUSD]" TotalUSD="[TotalUSD]" >
<cce:Emisor CURP="[EmisorCURP]" />
<cce:Receptor CURP="[ReceptorCURP]" NumRegIdTrib="[ReceptorNumRegIDTrib]" />
<cce:Destinatario NumRegIdTrib="[DestNumRegIDTrib]" RFC="[DestRFC]" CURP="[DestCURP]" Nombre="[DestNombre]" >
 <cce:Domicilio[DestDomicilio] Calle="[DestCalle]" NumeroExterior="[DestNumExt]" NumeroInterior="[DestNumInt]" Colonia="[DestColonia]" Localidad="[DestLocalidad]" Referencia="[DestReferencia]" Municipio="[DestMunicipio]" Estado="[DestEstado]" Pais="[DestPais]" CodigoPostal="[DestCP]" />
</cce:Destinatario[Dest]>
<cce:Mercancias>    
{/ComplementoCCE}
{ComplementoCCEDet}  
<cce:Mercancia NoIdentificacion="[NoIdentificacion]" FraccionArancelaria="[FraccionArancelaria]" CantidadAduana="[CantidadAduana]" UnidadAduana="[UnidadAduana]" ValorUnitarioAduana="[ValorUnitarioAduana]" ValorDolares="[ValorDolares]" >
   <cce:DescripcionesEspecificas Marca="[Marca]" Modelo="[Modelo]" SubModelo="[SubModelo]" NumeroSerie="[NumeroSerie]" />
 </cce:Mercancia[mercanciadet]>
{/ComplementoCCEDet}
{ComplementoCCE2}
</cce:Mercancias[mercancias]>
</cce:ComercioExterior>
</cfdi:Complemento>
{/ComplementoCCE2}  

{Total5}
<cfdi:Addenda>_ADDENDA_DOCUMENTO_</cfdi:Addenda>
</cfdi:Comprobante>
{/Total5}','', 1, 4, 1, 1,1,0, 1
GO
 
/* VTAS-CFDI_3.2_ComercioExt-eDocD*/
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', 1,  'Encabezado','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'RegimenFiscal')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', 2,  'RegimenFiscal','','CFDVentaFiscalRegimen',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Receptor')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', 3,  'Receptor','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Detalle')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', 4,  'Detalle','Encabezado','CFDVentaD',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Total1')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', 7,  'Total1','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Impuestos')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', 10,  'Impuestos','Encabezado','CFDVentaMovImpuesto',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Total4')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', 11,  'Total4','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Serielote')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', 5,  'Serielote','Detalle','CFDVentaPedimento',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Detalle2')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', 6,  'Detalle2','Encabezado','CFDVentaD',1,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Total3')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', 9,  'Total3','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Retenciones')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', 8,  'Retenciones','','CFDVentaMovRetencion',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', 12,  'ComplementoCCE','Encabezado','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCEDet')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', 13,  'ComplementoCCEDet','ComplementoCCE','CFDVentaDExt',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE2')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', 17,  'ComplementoCCE2','Encabezado','CFDVenta',1,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Total5')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', 18,  'Total5','','CFDVenta',0,'' 
GO
 
/* VTAS-CFDI_3.2_ComercioExt-eDocDMapeoCampo*/
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[RFCEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[RFCEmpresa]',  'EmpresaRFC','',0,1,'<RFCEmpresa></RFCEmpresa>', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NombreEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[NombreEmpresa]',  'UPPER(EmpresaNombre)','',0,0,' ', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CalleEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[CalleEmpresa]',  'EmpresaCalle','',0,0,' ', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumeroExteriorEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[NumeroExteriorEmpresa]',  'EmpresaNumeroExterior','',0,0,' ', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ColoniaEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[ColoniaEmpresa]',  'ClaveEmpresaColonia','',0,0,' ', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[LocalidadEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[LocalidadEmpresa]',  'ClaveEmpresaLocalidad','',0,0,' ', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[MunicipioEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[MunicipioEmpresa]',  'ClaveEmpresaMunicipio','',0,0,' ', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EstadoEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[EstadoEmpresa]',  'ClaveEmpresaEstado','',0,0,' ', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[PaisEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[PaisEmpresa]',  'ClaveEmpresaPais','',0,0,' ', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CodigoPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[CodigoPostal]',  'ClaveEmpresaCodigoPostal','',0,0,' ', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FechaRegistro]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[FechaRegistro]',  'VentaFechaRegistro','AAAA-MM-DDTHH:NN:SS',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SerieMovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[SerieMovID]',  'VentaSerie','',0,0,'serie=""', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumeroMovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[NumeroMovID]',  'VentaFolio','',0,0,' ', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Condicion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[Condicion]',  'VentaCondicion','',0,0,' ', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SubTotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[SubTotal]',  'CONVERT(DECIMAL(20,2),VentaSubTotal+ISNULL(VentaDescuentoImporte,0))','',0,0,'', '', 4,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DescuentoImporte]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[DescuentoImporte]',  'VentaDescuentoImporte','',0,0,' ', '', 4,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoComprobante]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[VentaTipoComprobante]',  'Lower(VentaTipoComprobante)','',0,0,' ', '', 4,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Total]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[Total]',  'VentaTotal','',0,0,'', '', 4,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FormaPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[FormaPago]',  '(SELECT dbo.fneDocVentaReferenciaMetodoCobro(ID, 0))','',0,0,'metodoDePago=""', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CampoTipoComprobanteDeMovTipo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[CampoTipoComprobanteDeMovTipo]',  'Lower(VentaTipoComprobante)','',0,0,' ', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CodigoPostalEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[CodigoPostalEmpresa]',  'ClaveEmpresaCodigoPostal','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CondicionFormaDePago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[CondicionFormaDePago]',  'ISNULL(CondicionFormaDePago,''PAGO EN UNA SOLA EXHIBICION'')','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnNoInterior]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[ExpedidoEnNoInterior]',  'SucursalNumeroInterior','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnMunicipio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[ExpedidoEnMunicipio]',  'ClaveSucursalMunicipio','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnPais]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[ExpedidoEnPais]',  'ClaveSucursalPais','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnColonia]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[ExpedidoEnColonia]',  'ClaveSucursalColonia','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnEstado]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[ExpedidoEnEstado]',  'ClaveSucursalEstado','',0,0,'', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnNoExt]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[ExpedidoEnNoExt]',  'SucursalNumeroExterior','',0,0,'', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnCalle]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[ExpedidoEnCalle]',  'SucursalCalle','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnCodigoPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[ExpedidoEnCodigoPostal]',  'ClaveSucursalCodigoPostal','',0,0,'', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnLocalidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[ExpedidoEnLocalidad]',  'ClaveSucursalLocalidad','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[LugarExpedicion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[LugarExpedicion]',  'SucursalLocalidad','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumCtaPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[NumCtaPago]',  '(SELECT dbo.fneDocVentaReferenciaMetodoCobro(ID, 1))','',0,0,'', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaMoneda]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[VentaMoneda]',  'VentaMoneda','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoCambio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Encabezado'), '[VentaTipoCambio]',  'VentaTipoCambio','',0,0,'', '', 4,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'RegimenFiscal' AND eddmc.CampoXML = '[EmisorRegimenFiscal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'RegimenFiscal'), '[EmisorRegimenFiscal]',  'EmisorRegimenFiscal','',0,0,'', '', 4,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[RFCCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Receptor'), '[RFCCliente]',  'ClienteRFC','',0,0,' ', '', 4,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[NombreCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Receptor'), '[NombreCliente]',  'ClienteNombre','',0,0,'', '', 4,1,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[CalleCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Receptor'), '[CalleCliente]',  'ClienteCalle','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[NumeroExteriorCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Receptor'), '[NumeroExteriorCliente]',  'ClienteNumeroExterior','',0,0,'', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[NumeroInteriorCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Receptor'), '[NumeroInteriorCliente]',  'ClienteNumeroInterior','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[ColoniaCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Receptor'), '[ColoniaCliente]',  'ClaveClienteColonia','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[LocalidadCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Receptor'), '[LocalidadCliente]',  'ClaveClienteLocalidad','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[MunicipioCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Receptor'), '[MunicipioCliente]',  'ClaveClienteMunicipio','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[EstadoCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Receptor'), '[EstadoCliente]',  'ClaveClienteEstado','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[PaisCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Receptor'), '[PaisCliente]',  'ClaveClientePais','',0,0,'', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[CodigoPostalCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Receptor'), '[CodigoPostalCliente]',  'ClaveClienteCodigoPostal','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Cantidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Detalle'), '[Cantidad]',  'VentaDCantidad','',0,0,' ', '', 4,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Unidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Detalle'), '[Unidad]',  'UnidadClave','',0,0,' ', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Articulo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Detalle'), '[Articulo]',  'dbo.fnVentaDArticulo(ID, VentaDRenglon)','',0,0,' ', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[DescripcionArticulo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Detalle'), '[DescripcionArticulo]',  'VentaDDescripcion','',0,0,' ', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Precio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Detalle'), '[Precio]',  'VentaDPrecio','',0,0,' ', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Importe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Detalle'), '[Importe]',  'VentaDPrecioTotal','',0,0,'', '', 4,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Total1' AND eddmc.CampoXML = '[TotalImpuestosImporte]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Total1'), '[TotalImpuestosImporte]',  'VentaImpuestos','',0,1,'<cfdi:Traslados/>', '', 4,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Total1' AND eddmc.CampoXML = '[TotalImpuestosRetenidos]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Total1'), '[TotalImpuestosRetenidos]',  'VentaRetencionTotal','',0,0,'', '', 4,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[Impuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Impuestos'), '[Impuesto]',  'Impuesto','',0,1,'<cfdi:Traslados/>', '', 4,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[PorcentajeImpuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Impuestos'), '[PorcentajeImpuesto]',  'Tasa','',0,1,'<DomicilioFiscal/>', '', 4,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[ImporteImpuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Impuestos'), '[ImporteImpuesto]',  'Importe','',0,0,' ', '', 4,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Serielote' AND eddmc.CampoXML = '[Pedimento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Serielote'), '[Pedimento]',  'Propiedades','',0,0,'', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Serielote' AND eddmc.CampoXML = '[PedimentoFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Serielote'), '[PedimentoFecha]',  'Fecha1','AAAA-MM-DD',0,0,'', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Serielote' AND eddmc.CampoXML = '[PedimentoAduana]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Serielote'), '[PedimentoAduana]',  'Aduana','',0,0,'', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Total3' AND eddmc.CampoXML = '[algo2]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Total3'), '[algo2]',  '''''','',0,1,'<cfdi:Retenciones/>', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Retenciones' AND eddmc.CampoXML = '[ImpuestoRetencion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Retenciones'), '[ImpuestoRetencion]',  'Impuesto','',0,0,'', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'Retenciones' AND eddmc.CampoXML = '[ImporteRetencion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'Retenciones'), '[ImporteRetencion]',  'Importe','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[TipoOperacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[TipoOperacion]',  'vcfdTipoOperacion','',0,0,'', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[ClaveDePedimento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[ClaveDePedimento]',  'vcfdClavePedimento','',0,1,'', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[CertificadoOrigen]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[CertificadoOrigen]',  'vcfdCertificadoOrigen','',0,0,'', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[NumCertificadoOrigen]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[NumCertificadoOrigen]',  'vcfdNumCertificadoOrigen','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[NumeroExportadorConfiable]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[NumeroExportadorConfiable]',  'vcfdNumeroExportadorConfiable','',0,0,'', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[Incoterm]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[Incoterm]',  'vcfdIncoterm','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[Subdivision]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[Subdivision]',  'vcfdSubdivision','',0,0,'', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[Observaciones]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[Observaciones]',  'VentaObservaciones','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[TipoCambioUSD]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[TipoCambioUSD]',  'vcfdTipoCambioUSD','',0,0,'', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[TotalUSD]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[TotalUSD]',  'VentaTotalUSD','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[EmisorCURP]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[EmisorCURP]',  'EmpresaRepresentanteCURP','',0,1,'<cce:Emisor/>', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[ReceptorCURP]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[ReceptorCURP]',  'ClienteCURP','',0,1,'', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[ReceptorNumRegIDTrib]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[ReceptorNumRegIDTrib]',  'CteNumRegIdTrib','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[DestNumRegIDTrib]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[DestNumRegIDTrib]',  'DestinatarioNumRegIdTrib','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[DestRFC]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[DestRFC]',  'DestinatarioRFC','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[DestCURP]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[DestCURP]',  'DestinatarioCURP','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[DestNombre]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[DestNombre]',  'DestinatarioNombre','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[DestCalle]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[DestCalle]',  'DestinatarioDireccion','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[DestNumExt]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[DestNumExt]',  'DestinatarioDireccionNumero','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[DestNumInt]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[DestNumInt]',  'DestinatarioDireccionNumeroInt','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[DestColonia]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[DestColonia]',  'ClaveDestinatarioColonia','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[DestLocalidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[DestLocalidad]',  'ClaveDestinatarioPoblacion','',0,0,'', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[DestReferencia]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[DestReferencia]',  'DestinatarioEntreCalles','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[DestMunicipio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[DestMunicipio]',  'ClaveDestinatarioDelegacion','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[DestEstado]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[DestEstado]',  'ClaveDestinatarioEstado','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[DestPais]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[DestPais]',  'ClaveDestinatarioPais','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[DestCP]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[DestCP]',  'ClaveDestinatarioCodigoPostal','',0,0,'', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[DestDomicilio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[DestDomicilio]',  '''''','',0,1,'<cce:Domicilio/>', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE' AND eddmc.CampoXML = '[Dest]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE'), '[Dest]',  '''''','',0,1,'<cce:Destinatario></cce:Destinatario>', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCEDet' AND eddmc.CampoXML = '[NoIdentificacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCEDet'), '[NoIdentificacion]',  'VentaDArticulo','',0,0,'', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCEDet' AND eddmc.CampoXML = '[FraccionArancelaria]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCEDet'), '[FraccionArancelaria]',  'sartFraccionArancelaria','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCEDet' AND eddmc.CampoXML = '[CantidadAduana]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCEDet'), '[CantidadAduana]',  'VentaDCantidad','',0,0,'', '', 3,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCEDet' AND eddmc.CampoXML = '[UnidadAduana]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCEDet'), '[UnidadAduana]',  'VentaDUnidad','',0,0,'', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCEDet' AND eddmc.CampoXML = '[ValorUnitarioAduana]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCEDet'), '[ValorUnitarioAduana]',  'VentaDPrecio','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCEDet' AND eddmc.CampoXML = '[ValorDolares]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCEDet'), '[ValorDolares]',  'VentaDTotalUSD','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCEDet' AND eddmc.CampoXML = '[Marca]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCEDet'), '[Marca]',  'sartMarca','',0,1,'<cce:DescripcionesEspecificas/>', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCEDet' AND eddmc.CampoXML = '[Modelo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCEDet'), '[Modelo]',  'sartModelo','',0,1,'<cce:DescripcionesEspecificas/>', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCEDet' AND eddmc.CampoXML = '[SubModelo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCEDet'), '[SubModelo]',  'sartSubModelo','',0,1,'<cce:DescripcionesEspecificas/>', '', NULL, NULL, NULL, NULL,0  
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCEDet' AND eddmc.CampoXML = '[NumeroSerie]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCEDet'), '[NumeroSerie]',  'SerieLote','',0,1,'<cce:DescripcionesEspecificas/>', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCEDet' AND eddmc.CampoXML = '[mercanciadet]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCEDet'), '[mercanciadet]', '''''','',0,1,'<cce:Mercancia></cce:Mercancia>', '', NULL, NULL, NULL, NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_ComercioExt' AND edd.Seccion = 'ComplementoCCE2' AND eddmc.CampoXML = '[mercancias]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_ComercioExt', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_ComercioExt' AND Seccion = 'ComplementoCCE2'), '[mercancias]', '''''','',0,1,'<cce:Mercancias></cce:Mercancias>', '', NULL, NULL, NULL, NULL,0 
GO


IF NOT EXISTS(SELECT * FROM eDocModuloVista WHERE Modulo = 'VTAS' AND Vista = 'CFDVentaINE') INSERT INTO eDocModuloVista(Modulo, Vista) SELECT 'VTAS', 'CFDVentaINE'
GO

/********************************* VTAS-CFDI_3.2_INE-eDoc *********************************/
IF NOT EXISTS(SELECT * FROM eDoc WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE') INSERT INTO eDoc (Modulo, eDoc, TipoXML, Documento, XSD, TipoCFD, DecimalesPorOmision, TipoCFDI, TimbrarEnTransaccion, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII) SELECT 'VTAS', 'CFDI_3.2_INE',1, '
{Encabezado}
<cfdi:Comprobante xmlns:cfdi="http://www.sat.gob.mx/cfd/3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ine="http://www.sat.gob.mx/ine" xsi:schemaLocation="http://www.sat.gob.mx/cfd/3 http://www.sat.gob.mx/sitio_internet/cfd/3/cfdv32.xsd http://www.sat.gob.mx/ine http://www.sat.gob.mx/sitio_internet/cfd/ine/ine10.xsd" version="3.2" serie="[SerieMovID]" folio="[NumeroMovID]" fecha="[FechaRegistro]" sello="_SELLO_" noCertificado="_NOCERTIFICADO_" certificado="_CERTIFICADO_" condicionesDePago="[Condicion]" subTotal="[SubTotal]" descuento="[DescuentoImporte]" total="[Total]" metodoDePago="[FormaPago]" tipoDeComprobante="[CampoTipoComprobanteDeMovTipo]" formaDePago="[CondicionFormaDePago]" LugarExpedicion="[LugarExpedicion]" NumCtaPago="[NumCtaPago]" Moneda="[VentaMoneda]" TipoCambio="[VentaTipoCambio]">
  <cfdi:Emisor rfc="[RFCEmpresa]" nombre="[NombreEmpresa]">     
    <cfdi:DomicilioFiscal calle="[CalleEmpresa]" noExterior="[NumeroExteriorEmpresa]" colonia="[ColoniaEmpresa]" localidad="[LocalidadEmpresa]" municipio="[MunicipioEmpresa]" estado="[EstadoEmpresa]" pais="[PaisEmpresa]" codigoPostal="[CodigoPostalEmpresa]" />     
    <cfdi:ExpedidoEn noInterior="[ExpedidoEnNoInterior]" municipio="[ExpedidoEnMunicipio]" pais="[ExpedidoEnPais]" colonia="[ExpedidoEnColonia]" estado="[ExpedidoEnEstado]" noExterior="[ExpedidoEnNoExt]" calle="[ExpedidoEnCalle]" codigoPostal="[ExpedidoEnCodigoPostal]" localidad="[ExpedidoEnLocalidad]"/>   
{/Encabezado}
{RegimenFiscal}
    <cfdi:RegimenFiscal Regimen="[EmisorRegimenFiscal]"/>
{/RegimenFiscal}
{Receptor}
  </cfdi:Emisor>   
  <cfdi:Receptor rfc="[RFCCliente]" nombre="[NombreCliente]">     
    <cfdi:Domicilio calle="[CalleCliente]" noExterior="[NumeroExteriorCliente]" colonia="[ColoniaCliente]" municipio="[LocalidadCliente]" estado="[EstadoCliente]" pais="[PaisCliente]" codigoPostal="[CodigoPostalCliente]" />   
  </cfdi:Receptor>   
  <cfdi:Conceptos>    
{/Receptor}    
{Detalle}           
    <cfdi:Concepto cantidad="[Cantidad]" unidad="[Unidad]" noIdentificacion="[Articulo]" descripcion="[DescripcionArticulo]" valorUnitario="[Precio]" importe="[Importe]" >    
{/Detalle}    
{Serielote}             
      <cfdi:InformacionAduanera numero="[Pedimento]" fecha="[PedimentoFecha]" aduana="[PedimentoAduana]" />    
{/Serielote}    
{Detalle2}           
    </cfdi:Concepto>
{/Detalle2}
{Total1}         
  </cfdi:Conceptos>   
  <cfdi:Impuestos totalImpuestosRetenidos="[TotalImpuestosRetenidos]" totalImpuestosTrasladados="[TotalImpuestosImporte]">        
    <cfdi:Retenciones> 
{/Total1} 
{Retenciones}
      <cfdi:Retencion impuesto="[ImpuestoRetencion]" importe="[ImporteRetencion]"/>
{/Retenciones}
{Total3}     
    </cfdi:Retenciones[algo2]>        
    <cfdi:Traslados> 
{/Total3} 
{Impuestos}             
      <cfdi:Traslado impuesto="[Impuesto]" tasa="[PorcentajeImpuesto]" importe="[ImporteImpuesto]" /> 
{/Impuestos} 
{Total4}        
    </cfdi:Traslados>
  </cfdi:Impuestos>
{/Total4}
{ComplementoINE}
<cfdi:Complemento>
 <ine:INE Version="1.1" TipoProceso="[TipoProceso]" TipoComite="[TipoComite]" IdContabilidad="[IdContabilidad]">
  <ine:Entidad ClaveEntidad="[ClaveEntidad]" Ambito="[Ambito]">
   <ine:Contabilidad IdContabilidad="[EntidadIdContabilidad]" />
  </ine:Entidad[Entidad]>
 </ine:INE>                                  
</cfdi:Complemento>
{/ComplementoINE}
{Total5}
  <cfdi:Addenda>_ADDENDA_DOCUMENTO_</cfdi:Addenda>
</cfdi:Comprobante>
{/Total5}','', 1, 4, 1, 1,1,0, 1
GO
 
/* VTAS-CFDI_3.2_INE-eDocD*/
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_INE', 1,  'Encabezado','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'RegimenFiscal')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_INE', 2,  'RegimenFiscal','','CFDVentaFiscalRegimen',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Receptor')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_INE', 3,  'Receptor','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Detalle')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_INE', 4,  'Detalle','Encabezado','CFDVentaD',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Total1')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_INE', 7,  'Total1','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Impuestos')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_INE', 10,  'Impuestos','Encabezado','CFDVentaMovImpuesto',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Total4')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_INE', 11,  'Total4','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Serielote')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_INE', 5,  'Serielote','Detalle','CFDVentaPedimento',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Detalle2')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_INE', 6,  'Detalle2','Encabezado','CFDVentaD',1,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Total3')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_INE', 9,  'Total3','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Retenciones')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_INE', 8,  'Retenciones','','CFDVentaMovRetencion',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'ComplementoINE')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_INE', 12,  'ComplementoINE','Encabezado','CFDVentaINE',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Total5')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2_INE', 13,  'Total5','','CFDVenta',0,'' 
GO
 
/* VTAS-CFDI_3.2_INE-eDocDMapeoCampo*/
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CondicionFormaDePago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[CondicionFormaDePago]',  'ISNULL(CondicionFormaDePago,''PAGO EN UNA SOLA EXHIBICION'')','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnNoInterior]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[ExpedidoEnNoInterior]',  'SucursalNumeroInterior','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnMunicipio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[ExpedidoEnMunicipio]',  'SucursalMunicipio','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnPais]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[ExpedidoEnPais]',  'SucursalPais','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnColonia]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[ExpedidoEnColonia]',  'SucursalColonia','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnEstado]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[ExpedidoEnEstado]',  'SucursalEstado','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnNoExt]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[ExpedidoEnNoExt]',  'SucursalNumeroExterior','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnCalle]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[ExpedidoEnCalle]',  'SucursalCalle','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnCodigoPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[ExpedidoEnCodigoPostal]',  'SucursalCodigoPostal','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnLocalidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[ExpedidoEnLocalidad]',  'SucursalLocalidad','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[LugarExpedicion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[LugarExpedicion]',  'SucursalLocalidad','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumCtaPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[NumCtaPago]',  '(SELECT dbo.fneDocVentaReferenciaMetodoCobro(ID, 1))','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaMoneda]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[VentaMoneda]',  'VentaMoneda','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoCambio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[VentaTipoCambio]',  'VentaTipoCambio','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[RFCEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[RFCEmpresa]',  'EmpresaRFC','',0,1,'<RFCEmpresa></RFCEmpresa>', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NombreEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[NombreEmpresa]',  'UPPER(EmpresaNombre)','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CalleEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[CalleEmpresa]',  'EmpresaCalle','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumeroExteriorEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[NumeroExteriorEmpresa]',  'EmpresaNumeroExterior','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ColoniaEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[ColoniaEmpresa]',  'EmpresaColonia','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[LocalidadEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[LocalidadEmpresa]',  'EmpresaLocalidad','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[MunicipioEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[MunicipioEmpresa]',  'EmpresaMunicipio','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EstadoEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[EstadoEmpresa]',  'EmpresaEstado','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[PaisEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[PaisEmpresa]',  'EmpresaPais','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CodigoPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[CodigoPostal]',  'EmpresaCodigoPostal','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FechaRegistro]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[FechaRegistro]',  'VentaFechaRegistro','AAAA-MM-DDTHH:NN:SS',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SerieMovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[SerieMovID]',  'VentaSerie','',0,0,'serie=""', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumeroMovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[NumeroMovID]',  'VentaFolio','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Condicion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[Condicion]',  'VentaCondicion','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SubTotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[SubTotal]',  'CONVERT(DECIMAL(20,2),VentaSubTotal+ISNULL(VentaDescuentoImporte,0))','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DescuentoImporte]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[DescuentoImporte]',  'VentaDescuentoImporte','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoComprobante]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[VentaTipoComprobante]',  'Lower(VentaTipoComprobante)','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Total]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[Total]',  'VentaTotal','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FormaPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[FormaPago]',  '(SELECT dbo.fneDocVentaReferenciaMetodoCobro(ID, 0))','',0,0,'metodoDePago=""', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CampoTipoComprobanteDeMovTipo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[CampoTipoComprobanteDeMovTipo]',  'Lower(VentaTipoComprobante)','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CodigoPostalEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Encabezado'), '[CodigoPostalEmpresa]',  'EmpresaCodigoPostal','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'RegimenFiscal' AND eddmc.CampoXML = '[EmisorRegimenFiscal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'RegimenFiscal'), '[EmisorRegimenFiscal]',  'EmisorRegimenFiscal','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[RFCCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Receptor'), '[RFCCliente]',  'ClienteRFC','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[NombreCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Receptor'), '[NombreCliente]',  'ClienteNombre','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[CalleCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Receptor'), '[CalleCliente]',  'ClienteCalle','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[NumeroExteriorCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Receptor'), '[NumeroExteriorCliente]',  'ClienteNumeroExterior','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[NumeroInteriorCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Receptor'), '[NumeroInteriorCliente]',  'ClienteNumeroInterior','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[ColoniaCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Receptor'), '[ColoniaCliente]',  'ClienteColonia','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[LocalidadCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Receptor'), '[LocalidadCliente]',  'ClienteLocalidad','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[MunicipioCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Receptor'), '[MunicipioCliente]',  'ClienteMunicipio','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[EstadoCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Receptor'), '[EstadoCliente]',  'ClienteEstado','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[PaisCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Receptor'), '[PaisCliente]',  'ClientePais','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[CodigoPostalCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Receptor'), '[CodigoPostalCliente]',  'ClienteCodigoPostal','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Cantidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Detalle'), '[Cantidad]',  'VentaDCantidad','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Unidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Detalle'), '[Unidad]',  'UnidadClave','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Articulo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Detalle'), '[Articulo]',  'VentaDArticulo','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[DescripcionArticulo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Detalle'), '[DescripcionArticulo]',  'VentaDDescripcion','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Precio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Detalle'), '[Precio]',  'VentaDPrecio','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Importe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Detalle'), '[Importe]',  'VentaDPrecioTotal','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Total1' AND eddmc.CampoXML = '[TotalImpuestosImporte]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Total1'), '[TotalImpuestosImporte]',  'VentaImpuestos','',0,1,'<cfdi:Traslados/>', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Total1' AND eddmc.CampoXML = '[TotalImpuestosRetenidos]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Total1'), '[TotalImpuestosRetenidos]',  'VentaRetencionTotal','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[Impuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Impuestos'), '[Impuesto]',  'Impuesto','',0,1,'<cfdi:Traslados/>', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[PorcentajeImpuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Impuestos'), '[PorcentajeImpuesto]',  'Tasa','',0,1,'<DomicilioFiscal/>', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[ImporteImpuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Impuestos'), '[ImporteImpuesto]',  'Importe','',0,0,' ', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Serielote' AND eddmc.CampoXML = '[Pedimento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Serielote'), '[Pedimento]',  'Propiedades','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Serielote' AND eddmc.CampoXML = '[PedimentoFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Serielote'), '[PedimentoFecha]',  'Fecha1','AAAA-MM-DD',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Serielote' AND eddmc.CampoXML = '[PedimentoAduana]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Serielote'), '[PedimentoAduana]',  'Aduana','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Total3' AND eddmc.CampoXML = '[algo2]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Total3'), '[algo2]',  '''''','',0,1,'<cfdi:Retenciones/>', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Retenciones' AND eddmc.CampoXML = '[ImpuestoRetencion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Retenciones'), '[ImpuestoRetencion]',  'Impuesto','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'Retenciones' AND eddmc.CampoXML = '[ImporteRetencion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'Retenciones'), '[ImporteRetencion]',  'Importe','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'ComplementoINE' AND eddmc.CampoXML = '[TipoProceso]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'ComplementoINE'), '[TipoProceso]',  'TipoProceso','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'ComplementoINE' AND eddmc.CampoXML = '[TipoComite]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'ComplementoINE'), '[TipoComite]',  'TipoComite','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'ComplementoINE' AND eddmc.CampoXML = '[IdContabilidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'ComplementoINE'), '[IdContabilidad]',  'IdContabilidad','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'ComplementoINE' AND eddmc.CampoXML = '[ClaveEntidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'ComplementoINE'), '[ClaveEntidad]',  'ClaveEntidad','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'ComplementoINE' AND eddmc.CampoXML = '[Ambito]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'ComplementoINE'), '[Ambito]',  'Ambito','',0,0,'', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'ComplementoINE' AND eddmc.CampoXML = '[EntidadIdContabilidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'ComplementoINE'), '[EntidadIdContabilidad]',  'EntidadIdContabilidad','',0,1,'<ine:Contabilidad/>', '', 2,0,0,0,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2_INE' AND edd.Seccion = 'ComplementoINE' AND eddmc.CampoXML = '[Entidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2_INE', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2_INE' AND Seccion = 'ComplementoINE'), '[Entidad]',  '''''','',0,1,'<ine:Entidad></ine:Entidad>', '', 2,0,0,0,0 
GO

/************************ spActualizarIVA *****************************/
IF EXISTS (SELECT * FROM SysObjects WHERE id = object_id('dbo.spActualizarIVA') AND type = 'P') DROP PROCEDURE dbo.spActualizarIVA
GO  
CREATE PROCEDURE spActualizarIVA    
--//WITH ENCRYPTION             
AS 
BEGIN

	DECLARE @Empresa nvarchar(5),
			@Conteo int = 0,
			@Suma int = 0
		
	DECLARE crEmpresa CURSOR FOR  
		SELECT Empresa 
		  FROM Empresa
		 GROUP BY Empresa

	OPEN crEmpresa
	FETCH NEXT FROM crEmpresa INTO @Empresa 
	WHILE @@FETCH_STATUS = 0
	BEGIN	

		SELECT @Conteo = (SELECT COUNT(*) FROM Compra WHERE Empresa = @Empresa)
	
		IF @Conteo = 0	
			SELECT @Conteo = (SELECT COUNT(*) FROM INV WHERE Empresa = @Empresa)
	
		IF @Conteo = 0
			UPDATE EmpresaGral 
			   SET DefImpuesto = 16.0 
			  WHERE Empresa = @Empresa
	
		FETCH NEXT FROM crEmpresa INTO @Empresa 
	END 
	CLOSE crEmpresa;  
	DEALLOCATE crEmpresa

END
GO

EXEC spActualizarIVA
GO
/*
CREATE ASSEMBLY WebServiceCLR FROM 'C:\Users\Elias\Desktop\WebServiceCLR\WebServiceCLR\WebServiceCLR\bin\Debug\WebServiceCLR.dll' WITH PERMISSION_SET = UNSAFE
CREATE ASSEMBLY [WebServiceCLR.XmlSerializers] FROM 'C:\Users\Elias\Desktop\WebServiceCLR\WebServiceCLR\WebServiceCLR\bin\Debug\WebServiceCLR.XmlSerializers.dll' WITH PERMISSION_SET = UNSAFE
*/

/*
DECLARE @Response nvarchar(max)
EXEC spPeticionXML 'http://eliasw/webservice/intelisisservice.asmx', '<Intelisis Sistema="Intelisis" Contenido="Solicitud" Referencia="ContParalela.CentralizarCuentas" SubReferencia="" Version="01" Ok="" OkRef="" Usuario="DEMO" Contrasena="DEMO">                     <Solicitud>                       <ContParalela Usuario ="DEMO" Mov ="Centralizar Cuentas" MovID = "39" BaseDatos="Matriz" Empresa="DEMO" CuentaD="100-00-001" CuentaA="100-00-001" CPBaseLocal="1" CPBaseDatos="Centralizadora" CPURL="" CPCentralizadora="0" Nivel="Auxiliar" /><ContParalelaD Cuenta="100-00-001" Rama="A" Descripcion="Cuenta 100-00-001" Tipo="Auxiliar" EsAcreedora="0" EsAcumulativa="0" Estatus="ALTA" TieneMovimientos="0"/><ContParalelaD Cuenta="A" Descripcion="Contabilidad" Tipo="Estructura" EsAcreedora="0" EsAcumulativa="1" Estatus="ALTA" TieneMovimientos="0"/><ContParalelaD Cuenta="B" Rama="A" Descripcion="Activo" Tipo="Estructura" EsAcreedora="0" EsAcumulativa="1" Estatus="ALTA" TieneMovimientos="0"/><ContParalelaD Cuenta="C" Rama="B" Descripcion="Activo Circulante" Tipo="Estructura" EsAcreedora="0" EsAcumulativa="1" Estatus="ALTA" TieneMovimientos="0"/><ContParalelaD Cuenta="D" Rama="B" Descripcion="Activo Fijo" Tipo="Estructura" EsAcreedora="0" EsAcumulativa="1" Estatus="ALTA" TieneMovimientos="0"/><ContParalelaD Cuenta="E" Rama="B" Descripcion="Activo Diferido" Tipo="Estructura" EsAcreedora="0" EsAcumulativa="1" Estatus="ALTA" TieneMovimientos="0"/><ContParalelaD Cuenta="H" Rama="A" Descripcion="Pasivo" Tipo="Estructura" EsAcreedora="1" EsAcumulativa="1" Estatus="ALTA" TieneMovimientos="0"/><ContParalelaD Cuenta="I" Rama="H" Descripcion="Pasivo Corto plazo" Tipo="Estructura" EsAcreedora="1" EsAcumulativa="1" Estatus="ALTA" TieneMovimientos="0"/><ContParalelaD Cuenta="J" Rama="H" Descripcion="Pasivo Largo plazo" Tipo="Estructura" EsAcreedora="1" EsAcumulativa="1" Estatus="ALTA" TieneMovimientos="0"/><ContParalelaD Cuenta="K" Rama="H" Descripcion="Pasivo Diferido" Tipo="Estructura" EsAcreedora="1" EsAcumulativa="1" Estatus="ALTA" TieneMovimientos="0"/><ContParalelaD Cuenta="Q" Rama="A" Descripcion="Capital" Tipo="Estructura" EsAcreedora="1" EsAcumulativa="1" Estatus="ALTA" TieneMovimientos="0"/><ContParalelaD Cuenta="R" Rama="A" Descripcion="Resultados" Tipo="Estructura" EsAcreedora="1" EsAcumulativa="1" Estatus="ALTA" TieneMovimientos="0"/><ContParalelaD Cuenta="S" Rama="R" Descripcion="Ventas" Tipo="Estructura" EsAcreedora="0" EsAcumulativa="1" Estatus="ALTA" TieneMovimientos="0"/><ContParalelaD Cuenta="T" Rama="R" Descripcion="Costo de Ventas" Tipo="Estructura" EsAcreedora="0" EsAcumulativa="1" Estatus="ALTA" TieneMovimientos="0"/><ContParalelaD Cuenta="U" Rama="R" Descripcion="Gastos de Operacion" Tipo="Estructura" EsAcreedora="0" EsAcumulativa="1" Estatus="ALTA" TieneMovimientos="0"/><ContParalelaD Cuenta="U2" Rama="R" Descripcion="Otros Gastos y Productos" Tipo="Estructura" EsAcreedora="0" EsAcumulativa="1" Estatus="ALTA" TieneMovimientos="0"/><ContParalelaD Cuenta="U3" Rama="R" Descripcion="Impuestos" Tipo="Estructura" EsAcreedora="0" EsAcumulativa="1" Estatus="ALTA" TieneMovimientos="0"/><ContParalelaD Cuenta="X" Descripcion="Orden" Tipo="Estructura" EsAcreedora="0" EsAcumulativa="1" Estatus="ALTA" TieneMovimientos="0"/>  </Solicitud>                          </Intelisis>', 
@Response OUTPUT
SELECT CONVERT(xml, @Response)
*/

SP_CONFIGURE 'clr enabled',1
GO
RECONFIGURE
GO

DECLARE
  @SQL varchar(max)
SELECT @SQL = 'ALTER DATABASE '+DB_NAME()+' SET TRUSTWORTHY ON'
EXEC (@SQL)
GO

if exists(select * from sysobjects where name = 'spPeticionXML') drop proc spPeticionXML
GO

if exists(select name FROM sys.assemblies WHERE name = N'WebServiceCLR.XmlSerializers') drop assembly [WebServiceCLR.XmlSerializers]
GO

if exists(select name FROM sys.assemblies WHERE name = N'WebServiceCLR') drop assembly WebServiceCLR
GO

-- ALTER AUTHORIZATION ON DATABASE::CapaCostaRica TO sa
--BUG25688
DECLARE
  @SQL varchar(max)
SELECT @SQL = 'ALTER AUTHORIZATION ON DATABASE::'+DB_NAME()+' TO sa'
EXEC (@SQL)
GO

CREATE ASSEMBLY [WebServiceCLR]
AUTHORIZATION [dbo]
FROM 0x4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000504500004C01040015E360540000000000000000E00002210B010B0000140000000E000000000000BE32000000200000004000000000400000200000000200000400000000000000040000000000000000A0000000040000000000000200408500001000001000000000100000100000000000001000000000000000000000006832000053000000006000008808000000000000000000000000000000000000008000000C000000004000001C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000080000000000000000000000082000004800000000000000000000002E74657874000000C4120000002000000014000000040000000000000000000000000000200000602E7364617461000091000000004000000002000000180000000000000000000000000000400000C02E727372630000008808000000600000000A0000001A0000000000000000000000000000400000402E72656C6F6300000C000000008000000002000000240000000000000000000000000000400000420000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000A032000000000000480000000200050078220000F00F000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002602280100000A00002A00001B300400600000000100001100007201000070730200000A0A0073030000060B0007026F05000006000407036F0800000651DE2625280300000A0C00047231000070086F0400000A72BA000070280500000A51280600000ADE000000DE0C062C07066F0700000A0000DC002A011C000000001500132800260600000102000E004452000C00000001FA0002280A00000A0002720A0100706F050000060002026F040000066F0B0000062C1102176F070000060002167D010000042B080002177D0100000400002A00133001000C000000020000110002280B00000A0A2B00062ACE000202280B00000A6F0B0000062C19027B010000042D1102036F0B0000062D080216280C00000A00000203280D00000A00002A133001000C000000030000110002280E00000A0A2B00062A4A000203280C00000A0002177D01000004002A0013300500270000000400001100027268010070178D010000010C081603A200086F0F00000A0B07169A281000000A0A2B00062A0013300500250000000500001100027268010070178D010000010B071603A200070405281100000A6F1200000A0A2B00062A0000001330020016000000060000110002036F1300000A0B07169A281000000A0A2B00062A000013300300440000000700001100032C08037E1400000A3304160A2B320003731500000A0B076F1600000A20000400003218076F1700000A727A0100701B281800000A163304170A2B0500160A2B00062A42534A4201000100000000000C00000076322E302E35303732370000000005006C0000004C040000237E0000B80400000406000023537472696E677300000000BC0A000090010000235553004C0C00001000000023475549440000005C0C00009403000023426C6F6200000000000000020000015715A2010900000000FA253300160000010000002200000003000000010000000B0000000B00000029000000130000000700000001000000020000000400000001000000050000000000F1050100000000000600790072000E00DB00BD00060074017200060081017200120025020F020600330272000A0064023D0206008C0272000600AC0272001200DB02C00206000403F1020E002103BD000A003A033D0206006F034F031600A30372000600BF0372000E00D803A90016000904F30306002304F1021600580440040E006F04BD0006008B04F1025B009F0400000600AE044F030600CE044F0306000B05EC0406001905EC0406002D05720006005505430506007005430506008B0543050600A40543050600BD0543050600DA05430500000000010000000000010001000100000029003A0005000100010001000000480059000900010003000100F2001F0050200000000006188000130001005C20000000001600860017000100E42000000000061880001300040024210000000006081501220004003C210000000006081D012600040070210000000006082B012B000500882100000000060845012F0005009C210000000006005F0134000600D0210000000006008F01390007000422000000000600B10142000A002822000000000100C90148000B0000000100940000000200980000000300A000000001002501000001002501000001006801000001006801000002009D0100000300A60100000100BD0100000100E501090080001300290080002600390070025500310080022200410093025B0039009A0262004900B8021300510080001300590080001300110080001300610015012200610045012F0061001D01260061002B012B00110033037C0069004603840071007E03910011008D03960011009903A8004100A703B5007900800026007900AD03B8007900B60322004100D003BC00890080001300910080002600990080001300A10080001501A90080002600B1008000E602C1008000EC02C90080001300D10080002600D90080002F00E10080002F00E90080002600F10080002600F9008000260001018000260009018000260011018000260020004B006F002E00030103032E000B0122032E004B0170032E00F300F1022E00FB00FA022E0023014C032E0013014C032E001B0152032E00330170032E0043014C032E002B0158032E003B018303400043006F006300D3000B016300DB006F006300CB00CA006300E3001B010001EB0044016600740078008900A100AF00C400030001000000E9014D000000ED015100020004000300010005000300020006000500010007000500048000000100000030151D4F0000000000003A00000002000000000000000000000001000A00000000000800000000000000000000000A001300000000000200000000000000000000000A00A90000000000020000000000000000000000010003020000000002000000000000000000000001007200000000000000003C4D6F64756C653E006D73636F726C6962004D6963726F736F66742E56697375616C42617369630053746F72656450726F636564757265730057656253657276696365434C5200496E74656C69736973536572766963650057656253657276696365434C522E576562536572766963650053797374656D004F626A656374002E63746F720073705065746963696F6E584D4C0055524C005265717565737400526573706F6E73650053797374656D2E5765622E53657276696365730053797374656D2E5765622E53657276696365732E50726F746F636F6C7300536F617048747470436C69656E7450726F746F636F6C0075736544656661756C7443726564656E7469616C735365744578706C696369746C79006765745F55726C007365745F55726C0056616C7565006765745F55736544656661756C7443726564656E7469616C73007365745F55736544656661756C7443726564656E7469616C73005065746963696F6E00584D4C5065746963696F6E00494173796E63526573756C74004173796E6343616C6C6261636B00426567696E5065746963696F6E0063616C6C6261636B006173796E63537461746500456E645065746963696F6E006173796E63526573756C740049734C6F63616C46696C6553797374656D576562536572766963650075726C0055726C0055736544656661756C7443726564656E7469616C730053797374656D2E446174610053797374656D2E446174612E53716C436C69656E740053716C436F6E6E656374696F6E00457863657074696F6E004D6963726F736F66742E56697375616C42617369632E436F6D70696C657253657276696365730050726F6A656374446174610053657450726F6A6563744572726F72006765745F4D65737361676500537472696E6700436F6E63617400436C65617250726F6A6563744572726F720049446973706F7361626C6500446973706F7365004D6963726F736F66742E53716C5365727665722E5365727665720053716C50726F6365647572654174747269627574650053797374656D2E446961676E6F73746963730044656275676765724E6F6E55736572436F646541747472696275746500576562436C69656E7450726F746F636F6C00496E766F6B6500436F6E76657273696F6E7300546F537472696E670053797374656D2E52756E74696D652E436F6D70696C657253657276696365730052756E74696D6548656C70657273004765744F626A65637456616C756500426567696E496E766F6B6500456E64496E766F6B650055726900456D707479006765745F506F7274006765745F486F737400537472696E67436F6D70617269736F6E00436F6D70617265005765625365727669636542696E64696E674174747269627574650053797374656D2E436F6D706F6E656E744D6F64656C0044657369676E657243617465676F7279417474726962757465004465627567676572537465705468726F7567684174747269627574650053797374656D2E436F6465446F6D2E436F6D70696C65720047656E657261746564436F646541747472696275746500536F6170446F63756D656E744D6574686F644174747269627574650044656275676761626C6541747472696275746500446562756767696E674D6F64657300436F6D70696C6174696F6E52656C61786174696F6E734174747269627574650052756E74696D65436F6D7061746962696C6974794174747269627574650053797374656D2E52756E74696D652E496E7465726F705365727669636573004775696441747472696275746500436F6D56697369626C6541747472696275746500434C53436F6D706C69616E744174747269627574650053797374656D2E5265666C656374696F6E00417373656D626C7954726164656D61726B41747472696275746500417373656D626C79436F7079726967687441747472696275746500417373656D626C7950726F6475637441747472696275746500417373656D626C79436F6D70616E7941747472696275746500417373656D626C794465736372697074696F6E41747472696275746500417373656D626C795469746C654174747269627574650057656253657276696365434C522E646C6C0000002F63006F006E007400650078007400200063006F006E006E0065006300740069006F006E003D0074007200750065000080873C0049006E00740065006C0069007300690073002000530069007300740065006D0061003D00220049006E00740065006C0069007300690073002200200043006F006E00740065006E00690064006F003D00220052006500730075006C007400610064006F00220020004F006B003D0022003400220020004F006B005200650066003D002200004F22003E003C0052006500730075006C007400610064006F0020003E003C002F0052006500730075006C007400610064006F003E003C002F0049006E00740065006C0069007300690073003E002700015D68007400740070003A002F002F0065006C0069006100730077002F0057006500620073006500720076006900630065002F0049006E00740065006C00690073006900730053006500720076006900630065002E00610073006D00780000115000650074006900630069006F006E0000136C006F00630061006C0048006F007300740000000081C8EEEF51E5BC4EB1161AB0F16A4C530008B77A5C561934E08908B03F5F7F11D50A3A03200001070003010E0E100E0206020320000E042001010E0320000204200101020420010E0E082003120D0E12111C0520010E120D042001020E0328000E032800020500010112190600030E0E0E0E030000010807031215120C121904010000000307010E030701020720021D1C0E1D1C0400010E1C0707030E1D1C1D1C0400011C1C0A2004120D0E1D1C12111C060702120D1D1C0620011D1C120D0507020E1D1C02060E03200008070003080E0E114105070202123D4001000200540E044E616D6514496E74656C6973697353657276696365536F6170540E094E616D65737061636513687474703A2F2F74656D707572692E6F72672F09010004636F64650000052002010E0E2801001353797374656D2E5765622E53657276696365730F342E302E33303331392E3138343038000081A001001B687474703A2F2F74656D707572692E6F72672F5065746963696F6E0400540E10526571756573744E616D65737061636513687474703A2F2F74656D707572692E6F72672F540E11526573706F6E73654E616D65737061636513687474703A2F2F74656D707572692E6F72672F5455808653797374656D2E5765622E53657276696365732E4465736372697074696F6E2E536F617042696E64696E675573652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D6230336635663766313164353061336103557365020000005455808853797374656D2E5765622E53657276696365732E50726F746F636F6C732E536F6170506172616D657465725374796C652C2053797374656D2E5765622E53657276696365732C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D623033663566376631316435306133610E506172616D657465725374796C650200000005200101115D04200101080801000301000000000801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F7773012901002434646631363633622D353934352D343930622D383735612D333838386338653631336232000005010000000005010001000017010012496E74656C6973697320534120646520435600001201000D57656253657276696365434C5200000E010009496E74656C6973697300000000903200000000000000000000AE320000002000000000000000000000000000000000000000000000A032000000000000000000000000000000005F436F72446C6C4D61696E006D73636F7265652E646C6C0000000000FF2500204000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015E360540000000002000000750000001C4000001C18000052534453D93F8BBFAEA78C4D8A50C7F4A7CD956501000000433A5C55736572735C456C6961735C4465736B746F705C57656253657276696365434C525C57656253657276696365434C525C57656253657276696365434C525C6F626A5C44656275675C57656253657276696365434C522E70646200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030003000000280000800E000000480000801000000060000080000000000000000000000000000002000200000078000080030000009000008000000000000000000000000000000100007F0000A80000800000000000000000000000000000010001000000C00000800000000000000000000000000000010000000000D80000000000000000000000000000000000010000000000E80000000000000000000000000000000000010000000000F800000000000000000000000000000000000100000000000801000050640000E80200000000000000000000386700002801000000000000000000006068000022000000000000000000000018610000380300000000000000000000380334000000560053005F00560045005200530049004F004E005F0049004E0046004F0000000000BD04EFFE00000100000001001D4F3015000001001D4F30153F000000000000000400000002000000000000000000000000000000440000000100560061007200460069006C00650049006E0066006F00000000002400040000005400720061006E0073006C006100740069006F006E00000000000000B00498020000010053007400720069006E006700460069006C00650049006E0066006F00000074020000010030003000300030003000340062003000000034000A00010043006F006D00700061006E0079004E0061006D0065000000000049006E00740065006C006900730069007300000044000E000100460069006C0065004400650073006300720069007000740069006F006E0000000000570065006200530065007200760069006300650043004C005200000040000F000100460069006C006500560065007200730069006F006E000000000031002E0030002E0035003400320034002E00320030003200350033000000000044001200010049006E007400650072006E0061006C004E0061006D0065000000570065006200530065007200760069006300650043004C0052002E0064006C006C0000004C00130001004C006500670061006C0043006F007000790072006900670068007400000049006E00740065006C006900730069007300200053004100200064006500200043005600000000004C00120001004F0072006900670069006E0061006C00460069006C0065006E0061006D0065000000570065006200530065007200760069006300650043004C0052002E0064006C006C0000003C000E000100500072006F0064007500630074004E0061006D00650000000000570065006200530065007200760069006300650043004C005200000044000F000100500072006F006400750063007400560065007200730069006F006E00000031002E0030002E0035003400320034002E00320030003200350033000000000048000F00010041007300730065006D0062006C0079002000560065007200730069006F006E00000031002E0030002E0035003400320034002E003200300032003500330000000000280000002000000040000000010004000000000080020000000000000000000000000000000000000000000000008000008000000080800080000000800080008080000080808000C0C0C0000000FF0000FF000000FFFF00FF000000FF00FF00FFFF0000FFFFFF0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007777777777777777777777777777700444444444444444444444444444447004FFFFFFFFFFFFFFFFFFFFFFFFFFF47004FFFFFFFFFFFFFFFFFFFFFFFFFFF47004FFFFFFFFFFFFFFFFFFFFFFFFFFF47004FFFFFFFFFFFFFFFFFFFFFFFFFFF47004FFFFFFFFFFFFFFFFFFFFFFFFFFF47004FFFFFFFFFFFFFFFFFFFFFFFFFFF47004FFFFFFFFFFFFFFFFFFFFFFFFFFF47004FFFFFFFFFFFFFFFFFFFFFFFFFFF47004FFFFFFFFFFFFFFFFFFFFFFFFFFF47004FFFFFFFFFFFFFFFFFFFFFFFFFFF47004FFFFFFFFFFFFFFFFFFFFFFFFFFF47004FFFFFFFFFFFFFFFFFFFFFFFFFFF47004FFFFFFFFFFFFFFFFFFFFFFFFFFF47004FFFFFFFFFFFFFFFFFFFFFFFFFFF47004FFFFFFFFFFFFFFFFFFFFFFFFFFF47004FFFFFFFFFFFFFFFFFFFFFFFFFFF47004FFFFFFFFFFFFFFFFFFFFFFFFFFF47004FFFFFFFFFFFFFFFFFFFFFFFFFFF4700488888888888888888888888888847004444444444444444444444444444470044C4C4C4C4C4C4C4C4C4ECECE49747004CCCCCCCCCCCCCCCCCCCCCCCCCCC40000444444444444444444444444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC00000018000000180000001800000018000000180000001800000018000000180000001800000018000000180000001800000018000000180000001800000018000000180000001800000018000000180000001800000018000000180000003C0000007FFFFFFFFFFFFFFFFFFFFFFFF2800000010000000200000000100040000000000C0000000000000000000000000000000000000000000000000008000008000000080800080000000800080008080000080808000C0C0C0000000FF0000FF000000FFFF00FF000000FF00FF00FFFF0000FFFFFF000000000000000000077777777777777744444444444444474FFFFFFFFFFFF8474FFFFFFFFFFFF8474FFFFFFFFFFFF8474FFFFFFFFFFFF8474FFFFFFFFFFFF8474FFFFFFFFFFFF8474FFFFFFFFFFFF8474FFFFFFFFFFFF84748888888888888474CCCCCCCCCCCCC47C4444444444444C000000000000000000000000000000000FFFF000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000FFFF0000FFFF00000000010002002020100001000400E80200000200101010000100040028010000030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000C000000C03200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
WITH PERMISSION_SET = UNSAFE
GO

CREATE ASSEMBLY [WebServiceCLR.XmlSerializers]
AUTHORIZATION [dbo]
FROM 0x4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000504500004C01030026E360540000000000000000E00002210B0108000020000000060000000000008E3F0000002000000040000000004000002000000002000004000000000000000400000000000000008000000002000000000000030040850000100000100000000010000010000000000000100000000000000000000000403F00004B000000004000002803000000000000000000000000000000000000006000000C00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000080000000000000000000000082000004800000000000000000000002E74657874000000941F0000002000000020000000020000000000000000000000000000200000602E7273726300000028030000004000000004000000220000000000000000000000000000400000402E72656C6F6300000C0000000060000000020000002600000000000000000000000000004000004200000000000000000000000000000000703F00000000000048000000020005004C280000F41600000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000E602280700000A032D110272010000707223000070280800000A2A02280900000A0272010000707223000070037405000001171628040000062A000013300500450000000100001102280700000A02280900000A038E690A02722500007072370000701416280A00000A0616311802725F000070723700007003169A740F000001280B00000A02280C00000A2A4602280700000A02280900000A038E69262A00133006005700000002000011052D0D0E042C08020304280800000A2A0E052D1C056F0D00000A0A06D005000001280E00000A2E080205280F00000A7A020304051614281000000A0E052C100272010000707223000070281100000A0205281200000A2A062A1E02281300000A2A000000133003006200000003000011140A02281400000A6F1500000A2602281400000A6F1600000A17333802281400000A6F1700000A027B05000004331E02281400000A6F1800000A027B04000004330B021717280A0000060A2B1302281900000A7A02147277000070281A00000A062A000013300300840100000400001102281400000A6F1500000A26178D100000010A02281400000A6F1500000A26160B02281B00000A0C383601000002281400000A027B03000004027B010000046F1C00000A39F8000000178D150000010D02281400000A6F1D00000A2C1C02281400000A6F1E00000A02281400000A6F1500000A2638EA00000002281400000A6F1F00000A02281400000A6F1500000A2616130402281B00000A13052B7D02281400000A6F1600000A17334D0916902D3A02281400000A6F1700000A027B02000004332702281400000A6F1800000A027B010000043314061602281400000A6F2000000AA20916179C2B1A0206729B000070281A00000A2B0C0206729B000070281A00000A02281400000A6F1500000A260212041205282100000A02281400000A6F1600000A1F0F2E1002281400000A6F1600000A3A64FFFFFF02282200000A2B0C021472E1000070281A00000A02281400000A6F1500000A260212011202282100000A02281400000A6F1600000A1F0F2E1002281400000A6F1600000A3AABFEFFFF062A13300300860000000500001102281400000A6F1500000A26168D100000010A02281400000A6F1500000A26160B02281B00000A0C2B3E02281400000A6F1600000A17330E02067223000070281A00000A2B0C02067223000070281A00000A02281400000A6F1500000A260212011202282100000A02281400000A6F1600000A1F0F2E0D02281400000A6F1600000A2DA6062A0000133003002801000006000011042D03142B0602282300000A0A160B032C0702282400000A0B042C2D0614282500000A2D24066F2600000A027B05000004330E066F2700000A027B040000042E080206282800000A7A072C02142A732900000A0C2B1A0202281400000A6F2A00000A282B00000A2D070208282C00000A02281400000A6F2D00000A2DD902281400000A6F2E00000A2602281400000A6F1D00000A2C0D02281400000A6F1E00000A082A02281400000A6F1F00000A02281400000A6F1500000A26160D02281B00000A13042B3E02281400000A6F1600000A17330E02087223000070281A00000A2B0C02087223000070281A00000A02281400000A6F1500000A260212031204282100000A02281400000A6F1600000A1F0F2E0D02281400000A6F1600000A2DA602282200000A082A062A00000330030088000000000000000202281400000A6F2F00000A72370000706F3000000A7D010000040202281400000A6F2F00000A722B0100706F3000000A7D020000040202281400000A6F2F00000A72490100706F3000000A7D030000040202281400000A6F2F00000A72230000706F3000000A7D040000040202281400000A6F2F00000A72010000706F3000000A7D050000042A1E02283100000A2A1A730D0000062A1A73060000062A1E02283200000A2A4603720100007072230000706F1C00000A2A36047402000002036F010000062A320374030000026F070000062A1E0228100000062A4603722500007072370000706F1C00000A2A4A04740200000203740100001B6F020000062A1E0228100000062A4603724901007072370000706F1C00000A2A320374030000026F080000062A1E0228100000062A4603726B01007072370000706F1C00000A2A4A04740200000203740100001B6F030000062A1E0228100000062A4603728F01007072370000706F1C00000A2A320374030000026F090000062A1E0228100000062A1A730D0000062A1A73060000062A000000133003005400000007000011027B060000042D45733300000A0A0672C501007072070200706F3400000A06723502007072E80200706F3400000A06721603007072CD0300706F3400000A027B060000042D0702067D06000004027B060000042A133003005400000007000011027B070000042D45733300000A0A0672C5010070720F0400706F3400000A06723F04007072E00400706F3400000A06720005007072B50500706F3400000A027B070000042D0702067D07000004027B070000042A133003007400000007000011027B080000042D65733300000A0A067200050070731D0000066F3500000A06721603007073200000066F3500000A067235020070731A0000066F3500000A06723F04007073170000066F3500000A0672C501007073140000066F3500000A027B080000042D0702067D08000004027B080000042A8203D005000001280E00000A3302172A03D018000001280E00000A3302172A162A5603D005000001280E00000A330673140000062A142A1E02283600000A2A0042534A4201000100000000000C00000076322E302E35303732370000000005006C0000007C060000237E0000E80600005808000023537472696E677300000000400F0000E8050000235553002815000010000000234755494400000038150000BC01000023426C6F6200000000000000020000015715A2090900000000FA01330016000001000000180000000A00000008000000280000001A00000036000000050000000700000001000000050000000500000001000000010000000300000000000A0001000000000006005001370106006701370106007E01370106008C0137010A00F701E901060015032C010E00760363030E00E703E00306003F0437010E006F045D040E00980488040E00B50488040E00FB04DB040E001B05DB040E00A305E0030E00E605E0030E00F505E0030E001906E00306003E063701060063062C010E00EF06E00306005C072C010600D7072C010A0047082E080000000001000000000001000100010010002B004300050001000100010010007100430009000100070081001000890043000D0006000E00010110009800430010000600110001011000B300430010000600150001011000CB00430010000600180001011000E4004300100006001B0001011000FD004300100006001E00010010001601430011000600210001009A0233000100AD0233000100C00233000100D50233000100DE02330001008003530001009C0353000100BA0353005020000000008600A8010A0001008C20000000008600C0010F000200DD20000000008600D0010F000300F020000000008100080215000400532100000000C40020021F00090055210000000086182E021F0009006021000000008600340223000900D0210000000086004B02270009006023000000008600620227000900F42300000000810083022C000900282500000000C40020021F000B002C2500000000C400F3021F000B00C0250000000086182E021F000B00C82500000000C400FB0236000B00CF2500000000C40008033B000B00D6250000000084182E021F000B00DE2500000000C6001F0340000B00F02500000000C4002E0346000C00FE2500000000C40038034D000E000B260000000086182E021F000F00132600000000C6001F0340000F00252600000000C4002E034600100038260000000086182E021F001200402600000000C6001F0340001200522600000000C40038034D0013005F260000000086182E021F001400672600000000C6001F0340001400792600000000C4002E03460015008C260000000086182E021F001700942600000000C6001F0340001700A62600000000C40038034D001800B3260000000086182E021F001900BB2600000000C608440336001900C22600000000C6084F033B001900CC2600000000C6088C03570019002C2700000000C608A903570019008C2700000000C608CB03570019000C2800000000C600EC035C0019002D2800000000C600F90362001A0043280000000086182E021F001B00000001005605000001008F05000001008F0500000100CD0500000200CF0500000300560500000400D20500000500DD0500000100D20500000200520700000100F60700000100000800000200120800000100190800000100F60700000100000800000200120800000100F60700000100190800000100F60700000100000800000200120800000100F60700000100190800000100290800000100290849002E021F0051002E02780059002E021F0061002E021F0069002E027D0071002E021F00090058051F0009006B05820009007F051F000900910588000900AA0590000900BD051F008100ED059B0041000706A00009002306A70009009105AD000900560682000900BD050A0009002E021F0011004403BC0031006F06C10031007D06C10031008A06C60031009806C6001100A906CA001100C406CF001100D006D9003100E006DD003100F706E30031000A071F0031000F071F0031002007C60011003207E700110043071F0011006D07010111007807E300B10081070601B1008D07C600B1009607C600110023060E0129002E021F0031008D07C6001100A40715011100C4060A003100B507E3003100C907E3003100E4072401B900F207290111002E021F0019002E021F0039002E021F003900200831013900F207310121002E021F002E000B003C012E001B008C012E0023008C012E002B0091012E0033009A019700B700D500EF00FA001A0137010A00010000000704690000000E046E0000001504730000002104730000002E047300020021000300020022000500020023000700020024000900020025000B002E01048000000100000030151D4F0000000000003905000002000000000000000000000001002C01000000000100000030151D4F000000000000E9010000000002000000000000000000000001005A03000000000000003C4D6F64756C653E0057656253657276696365434C522E586D6C53657269616C697A6572732E646C6C00586D6C53657269616C697A6174696F6E57726974657231004D6963726F736F66742E586D6C2E53657269616C697A6174696F6E2E47656E657261746564417373656D626C7900586D6C53657269616C697A6174696F6E5265616465723100586D6C53657269616C697A6572310053746F72656450726F6365647572657353657269616C697A65720041727261794F664F626A65637453657269616C697A65720041727261794F664F626A65637453657269616C697A6572310041727261794F664F626A65637453657269616C697A6572320041727261794F664F626A65637453657269616C697A65723300586D6C53657269616C697A6572436F6E74726163740053797374656D2E586D6C0053797374656D2E586D6C2E53657269616C697A6174696F6E00586D6C53657269616C697A6174696F6E57726974657200586D6C53657269616C697A6174696F6E52656164657200586D6C53657269616C697A657200586D6C53657269616C697A6572496D706C656D656E746174696F6E005772697465335F53746F72656450726F63656475726573005772697465345F5065746963696F6E005772697465355F5065746963696F6E496E486561646572730057656253657276696365434C520053746F72656450726F63656475726573005772697465325F53746F72656450726F6365647572657300496E697443616C6C6261636B73002E63746F720052656164335F53746F72656450726F636564757265730052656164345F5065746963696F6E526573706F6E73650052656164355F5065746963696F6E526573706F6E73654F7574486561646572730052656164325F53746F72656450726F63656475726573006964345F6874747074656D707572696F7267006964355F5065746963696F6E526573756C74006964335F5065746963696F6E526573706F6E7365006964325F4974656D006964315F53746F72656450726F6365647572657300496E6974494473004372656174655265616465720043726561746557726974657200586D6C5265616465720043616E446573657269616C697A650053657269616C697A6500446573657269616C697A65006765745F526561646572006765745F577269746572006D73636F726C69620053797374656D2E436F6C6C656374696F6E7300486173687461626C6500726561644D6574686F6473006765745F526561644D6574686F64730077726974654D6574686F6473006765745F57726974654D6574686F647300747970656453657269616C697A657273006765745F547970656453657269616C697A6572730053797374656D00547970650043616E53657269616C697A650047657453657269616C697A6572005265616465720057726974657200526561644D6574686F64730057726974654D6574686F647300547970656453657269616C697A65727300586D6C53657269616C697A657256657273696F6E4174747269627574650053797374656D2E5265666C656374696F6E00417373656D626C7956657273696F6E4174747269627574650053797374656D2E53656375726974790053656375726974795472616E73706172656E7441747472696275746500416C6C6F775061727469616C6C795472757374656443616C6C6572734174747269627574650053797374656D2E52756E74696D652E436F6D70696C6572536572766963657300436F6D70696C6174696F6E52656C61786174696F6E734174747269627574650052756E74696D65436F6D7061746962696C6974794174747269627574650057656253657276696365434C522E586D6C53657269616C697A657273006F0057726974655374617274446F63756D656E740057726974654E756C6C5461674C69746572616C00546F704C6576656C456C656D656E7400700057726974655374617274456C656D656E7400537472696E67005772697465456C656D656E74537472696E67005772697465456E64456C656D656E74006E006E730069734E756C6C61626C65006E65656454797065004F626A65637400476574547970650052756E74696D655479706548616E646C65004765745479706546726F6D48616E646C6500457863657074696F6E00437265617465556E6B6E6F776E54797065457863657074696F6E00586D6C53657269616C697A65724E616D657370616365730057726974655873695479706500586D6C4E6F646554797065004D6F7665546F436F6E74656E74006765745F4E6F646554797065006765745F4C6F63616C4E616D65006765745F4E616D65737061636555524900437265617465556E6B6E6F776E4E6F6465457863657074696F6E00556E6B6E6F776E4E6F6465006765745F526561646572436F756E740049735374617274456C656D656E7400426F6F6C65616E006765745F4973456D707479456C656D656E7400536B697000526561645374617274456C656D656E740052656164456C656D656E74537472696E6700436865636B526561646572436F756E740052656164456E64456C656D656E7400636865636B5479706500586D6C5175616C69666965644E616D65004765745873695479706500526561644E756C6C006F705F457175616C697479006765745F4E616D65006765745F4E616D657370616365004973586D6C6E73417474726962757465004D6F7665546F4E657874417474726962757465004D6F7665546F456C656D656E7400586D6C4E616D655461626C65006765745F4E616D655461626C650041646400786D6C526561646572006F626A656374546F53657269616C697A650077726974657200726561646572007365745F4974656D00747970650057656253657276696365434C522E5765625365727669636500496E74656C6973697353657276696365000021530074006F00720065006400500072006F006300650064007500720065007300000100115000650074006900630069006F006E00002768007400740070003A002F002F00740065006D0070007500720069002E006F00720067002F00001758004D004C005000650074006900630069006F006E0000233A00530074006F00720065006400500072006F006300650064007500720065007300004568007400740070003A002F002F00740065006D0070007500720069002E006F00720067002F003A005000650074006900630069006F006E0052006500730075006C007400004968007400740070003A002F002F00740065006D0070007500720069002E006F00720067002F003A005000650074006900630069006F006E0052006500730070006F006E0073006500001D5000650074006900630069006F006E0052006500730075006C00740000215000650074006900630069006F006E0052006500730070006F006E007300650000235000650074006900630069006F006E0049006E00480065006100640065007200730000355000650074006900630069006F006E0052006500730070006F006E00730065004F007500740048006500610064006500720073000041570065006200530065007200760069006300650043004C0052002E00530074006F00720065006400500072006F0063006500640075007200650073003A003A00002D520065006100640033005F00530074006F00720065006400500072006F0063006500640075007200650073000080B1570065006200530065007200760069006300650043004C0052002E0057006500620053006500720076006900630065002E0049006E00740065006C00690073006900730053006500720076006900630065003A00530079007300740065006D002E0053007400720069006E00670020005000650074006900630069006F006E002800530079007300740065006D002E0053007400720069006E00670029003A0052006500730070006F006E0073006500002D520065006100640034005F005000650074006900630069006F006E0052006500730070006F006E00730065000080B5570065006200530065007200760069006300650043004C0052002E0057006500620053006500720076006900630065002E0049006E00740065006C00690073006900730053006500720076006900630065003A00530079007300740065006D002E0053007400720069006E00670020005000650074006900630069006F006E002800530079007300740065006D002E0053007400720069006E00670029003A004F007500740048006500610064006500720073000041520065006100640035005F005000650074006900630069006F006E0052006500730070006F006E00730065004F00750074004800650061006400650072007300002F5700720069007400650033005F00530074006F00720065006400500072006F00630065006400750072006500730000809F570065006200530065007200760069006300650043004C0052002E0057006500620053006500720076006900630065002E0049006E00740065006C00690073006900730053006500720076006900630065003A00530079007300740065006D002E0053007400720069006E00670020005000650074006900630069006F006E002800530079007300740065006D002E0053007400720069006E0067002900001F5700720069007400650034005F005000650074006900630069006F006E000080B3570065006200530065007200760069006300650043004C0052002E0057006500620053006500720076006900630065002E0049006E00740065006C00690073006900730053006500720076006900630065003A00530079007300740065006D002E0053007400720069006E00670020005000650074006900630069006F006E002800530079007300740065006D002E0053007400720069006E00670029003A0049006E00480065006100640065007200730000315700720069007400650035005F005000650074006900630069006F006E0049006E0048006500610064006500720073000000B448A93FB665E54591824B6A465500CC0008B77A5C561934E089042001011C052001011D1C092005010E0E12150202032000010320001C0420001D1C0620021215020202060E04200012090420001205052001021219062002011C12050520011C12090306121D042000121D052001021221062001120D122104280012090428001205042800121D042001010E0420010108052002010E0E072004010E0E1C02062003010E0E0E0307010804200012210600011221114505200112491C092005010E0E1C02124D0407011221042000121904200011510320000E0420001249052002011C0E0307011C03200008052002020E0E0320000207200201100810080A07061D1C08081D0208080607031D1C08080420001259070002021259125906200112491259042001020E09070512590212150808042000125D0420010E0E021D1C052002011C1C040701121D4F01000200540E10506172656E74417373656D626C7949642565666565633838312D653535312D346562632D623131362D3161623066313661346335332C540E0756657273696F6E07322E302E302E3004010000000801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F777301000000683F000000000000000000007E3F0000002000000000000000000000000000000000000000000000703F00000000000000005F436F72446C6C4D61696E006D73636F7265652E646C6C0000000000FF250020400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100000001800008000000000000000000000000000000100010000003000008000000000000000000000000000000100000000004800000058400000CC0200000000000000000000CC0234000000560053005F00560045005200530049004F004E005F0049004E0046004F0000000000BD04EFFE00000100000001001D4F3015000001001D4F30153F000000000000000400000002000000000000000000000000000000440000000100560061007200460069006C00650049006E0066006F00000000002400040000005400720061006E0073006C006100740069006F006E00000000000000B0042C020000010053007400720069006E006700460069006C00650049006E0066006F0000000802000001003000300030003000300034006200300000002C0002000100460069006C0065004400650073006300720069007000740069006F006E00000000002000000040000F000100460069006C006500560065007200730069006F006E000000000031002E0030002E0035003400320034002E00320030003200350033000000000064002100010049006E007400650072006E0061006C004E0061006D0065000000570065006200530065007200760069006300650043004C0052002E0058006D006C00530065007200690061006C0069007A006500720073002E0064006C006C00000000002800020001004C006500670061006C0043006F0070007900720069006700680074000000200000006C00210001004F0072006900670069006E0061006C00460069006C0065006E0061006D0065000000570065006200530065007200760069006300650043004C0052002E0058006D006C00530065007200690061006C0069007A006500720073002E0064006C006C000000000044000F000100500072006F006400750063007400560065007200730069006F006E00000031002E0030002E0035003400320034002E00320030003200350033000000000048000F00010041007300730065006D0062006C0079002000560065007200730069006F006E00000031002E0030002E0035003400320034002E00320030003200350033000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000C000000903F00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
WITH PERMISSION_SET = UNSAFE
GO

CREATE PROCEDURE [spPeticionXML]
  @URL			  nvarchar(max),
  @Request        nvarchar(max),
  @Response       nvarchar(max) OUTPUT
AS
EXTERNAL NAME [WebServiceCLR].[WebServiceCLR.StoredProcedures].[spPeticionXML]
GO
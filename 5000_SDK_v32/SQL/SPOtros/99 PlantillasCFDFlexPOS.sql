SET DATEFIRST 7
SET ANSI_NULLS OFF
SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED
SET LOCK_TIMEOUT -1
SET QUOTED_IDENTIFIER OFF
SET ANSI_PADDING OFF
GO

/***************** CFDVentaD2 *******************/
IF EXISTS (SELECT * FROM sysobjects WHERE id = object_id('dbo.CFDVentaD2') AND TYPE = 'V') 
  DROP VIEW CFDVentaD2
GO
CREATE VIEW CFDVentaD2 AS
SELECT
  REPLICATE('0',20-LEN(RTRIM(LTRIM(CONVERT(varchar,VentaD.ID))))) + RTRIM(LTRIM(CONVERT(varchar,VentaD.ID))) +
  REPLICATE('0',12-LEN(RTRIM(LTRIM(CONVERT(varchar,VentaD.Renglon))))) + RTRIM(LTRIM(CONVERT(varchar,VentaD.Renglon))) + 
  REPLICATE('0',7-LEN(RTRIM(LTRIM(CONVERT(varchar,VentaD.RenglonSub))))) + RTRIM(LTRIM(CONVERT(varchar,VentaD.RenglonSub))) +
  REPLICATE(' ',50)
  OrdenExportacion,
  Venta.Cliente VentaCliente,
  VentaD.ID, 
  (ISNULL(VentaD.Cantidad,0.0)-ISNULL(VentaD.CantidadObsequio,0.0)) VentaDCantidad,
  VentaD.CantidadInventario VentaDCantidadInventario,
  VentaD.Unidad VentaDUnidad,
  Unidad.Clave UnidadClave,
  VentaD.Articulo VentaDArticulo,
  dbo.fnQueCodigo(EmpresaCFD.EAN13, VentaD.Articulo, VentaD.SubCuenta, VentaD.Codigo, Venta.Cliente) EAN13,
  dbo.fnQueCodigo(EmpresaCFD.SKU, VentaD.Articulo, VentaD.SubCuenta, VentaD.Codigo, Venta.Cliente) SKUCliente,
  dbo.fnQueCodigo(EmpresaCFD.SKUEmpresa, VentaD.Articulo, VentaD.SubCuenta, VentaD.Codigo, Venta.Cliente) SKUEmpresa,
  dbo.fnQueCodigo(EmpresaCFD.DUN14, VentaD.Articulo, VentaD.SubCuenta, VentaD.Codigo, Venta.Cliente) DUN14,
  Art.Descripcion1 VentaDDescripcion,
  Art.Descripcion2 VentaDDescripcion2,
  Art.TipoEmpaque ArtTipoEmpaque,
  (Vtc.Precio*dbo.fneDocVentaFactorPrecio(VentaD.ID, VentaD.Renglon, VentaD.RenglonSub))*dbo.fnCFDTipoCambioMN(ISNULL(VentaD.PrecioTipoCambio,Venta.TipoCambio), ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) VentaDPrecio,
  (Vtc.PrecioTotal*dbo.fneDocVentaFactorPrecio(VentaD.ID, VentaD.Renglon, VentaD.RenglonSub))*dbo.fnCFDTipoCambioMN(ISNULL(VentaD.PrecioTipoCambio,Venta.TipoCambio), ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) VentaDPrecioTotal,
  Vtc.DescuentoLinea*dbo.fnCFDTipoCambioMN(ISNULL(VentaD.PrecioTipoCambio,Venta.TipoCambio), ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) VentaDDescuentoLinea,
  VentaD.DescuentoImporte*dbo.fnCFDTipoCambioMN(ISNULL(VentaD.PrecioTipoCambio,Venta.TipoCambio), ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) VentaDDescuentoImporte,
  vtc.Impuesto1 ventaDImpuesto1, 
  vtc.Impuesto2 ventaDImpuesto2, 
  vtc.Importe*dbo.fnCFDTipoCambioMN(ISNULL(VentaD.PrecioTipoCambio,Venta.TipoCambio), ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) VentaDImporte,
  (Vtc.Importe/Vtc.Cantidad)*dbo.fnCFDTipoCambioMN(ISNULL(VentaD.PrecioTipoCambio,Venta.TipoCambio), ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) VentaDImporteUnitario,
  vtc.DescuentoLineal*dbo.fnCFDTipoCambioMN(ISNULL(VentaD.PrecioTipoCambio,Venta.TipoCambio), ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) VentaDDescLineal,
  vtc.DescuentosTotales*dbo.fnCFDTipoCambioMN(ISNULL(VentaD.PrecioTipoCambio,Venta.TipoCambio), ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) VentaDDescuentosTotales,
  vtc.ImporteSobrePrecio*dbo.fnCFDTipoCambioMN(ISNULL(VentaD.PrecioTipoCambio,Venta.TipoCambio), ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) VentaDImporteSobrePrecio,
  vtc.SubTotal*dbo.fnCFDTipoCambioMN(ISNULL(VentaD.PrecioTipoCambio,Venta.TipoCambio), ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) VentaDSubTotal,
  (vtc.SubTotal/Vtc.Cantidad)*dbo.fnCFDTipoCambioMN(ISNULL(VentaD.PrecioTipoCambio,Venta.TipoCambio), ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) VentaDSubTotalUnitario,
  vtc.Impuesto1Total*dbo.fnCFDTipoCambioMN(ISNULL(VentaD.PrecioTipoCambio,Venta.TipoCambio), ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) VentaDImpuesto1Total,
  vtc.Impuesto2Total*dbo.fnCFDTipoCambioMN(ISNULL(VentaD.PrecioTipoCambio,Venta.TipoCambio), ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) VentaDImpuesto2Total,
  vtc.Impuestos*dbo.fnCFDTipoCambioMN(ISNULL(VentaD.PrecioTipoCambio,Venta.TipoCambio), ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) VentaDImpuestos,
  vtc.ImporteTotal*dbo.fnCFDTipoCambioMN(ISNULL(VentaD.PrecioTipoCambio,Venta.TipoCambio), ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) VentaDImporteTotal,
  vtc.TotalNeto*dbo.fnCFDTipoCambioMN(ISNULL(VentaD.PrecioTipoCambio,Venta.TipoCambio), ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) VentaDTotalNeto,  
  TipoEmpaque.Clave TipoEmpaqueClave,
  TipoEmpaque.Tipo TipoEmpaqueTipo,

  VentaD.Renglon VentaDRenglon,
  VentaD.RenglonSub VentaDRenglonSub,
  VentaD.RenglonID VentaDRenglonID,
  VentaD.RenglonTipo VentaDRenglonTipo,
  VentaD.Almacen VentaDAlmacen,
  VentaD.EnviarA VentaDEnviarA,
  VentaD.Codigo VentaDCodigo,
  VentaD.SubCuenta VentaDSubCuenta,
  VentaD.PrecioSugerido VentaDPrecioSugerido,
  VentaD.DescuentoTipo VentaDDescuentoTipo,
  VentaD.Impuesto3 VentaDImpuesto3,
  VentaD.DescripcionExtra VentaDDescripcionExtra,
  VentaD.Costo VentaDCosto,
  VentaD.CostoActividad VentaDCostoActividad,
  VentaD.Paquete VentaDPaquete,
  VentaD.ContUso VentaDContUso,
  VentaD.Comision VentaDComision,
  VentaD.Aplica VentaDAplica,
  VentaD.AplicaID VentaDAplicaID,
  VentaD.CantidadPendiente VentaDCantidadPendiente,
  VentaD.CantidadReservada VentaDCantidadReservada,
  VentaD.CantidadCancelada VentaDCantidadCancelada,
  VentaD.CantidadOrdenada VentaDCantidadOrdenada,
  VentaD.CantidadEmbarcada VentaDCantidadEmbarcada,
  VentaD.CantidadA VentaDCantidadA,
  VentaD.Factor VentaDFactor,
  VentaD.SustitutoArticulo VentaDSustitutoArticulo,
  VentaD.SustitutoSubCuenta VentaDSustitutoSubCuenta,
  VentaD.FechaRequerida VentaDFechaRequerida,
  VentaD.HoraRequerida VentaDHoraRequerida,
  VentaD.Instruccion VentaDInstruccion,
  VentaD.Agente VentaDAgente,
  VentaD.Departamento VentaDDepartamento,
  VentaD.UltimoReservadoCantidad VentaDUltimoReservadoCantidad,
  VentaD.UltimoReservadoFecha VentaDUltimoReservadoFecha,
  VentaD.Sucursal VentaDSucursal,
  VentaD.PoliticaPrecios VentaDPoliticaPrecios,
  VentaD.SucursalOrigen VentaDSucursalOrigen,
  VentaD.AutoLocalidad VentaDAutoLocalidad,
  VentaD.UEN VentaDUEN,
  VentaD.Espacio VentaDEspacio,
  VentaD.CantidadAlterna VentaDCantidadAlterna,
  VentaD.PrecioMoneda VentaDPrecioMoneda,
  VentaD.PrecioTipoCambio VentaDPrecioTipoCambio,
  VentaD.Estado VentaDEstado,
  VentaD.ServicioNumero VentaDServicioNumero,
  VentaD.AgentesAsignados VentaDAgentesAsignados,
  VentaD.AFArticulo VentaDAFArticulo,
  VentaD.ExcluirPlaneacion VentaDExcluirPlaneacion,
  VentaD.Anexo VentaDAnexo,
  VentaD.AjusteCosteo VentaDAjusteCosteo,
  VentaD.CostoUEPS VentaDCostoUEPS,
  VentaD.CostoPEPS VentaDCostoPEPS,
  VentaD.UltimoCosto VentaDUltimoCosto,
  VentaD.PrecioLista VentaDPrecioLista,
  VentaD.DepartamentoDetallista VentaDDepartamentoDetallista,
  VentaD.PresupuestoEsp VentaDPresupuestoEsp,
  VentaD.Posicion VentaDPosicion,
  VentaD.Puntos VentaDPuntos,
  ISNULL(VentaD.CantidadObsequio,0.0) VentaDCantidadObsequio,
  VentaD.OfertaID VentaDOfertaID,
  VentaD.ProveedorRef VentaDProveedorRef,
  VentaD.TransferirA VentaDTransferirA,
  VentaD.ArtEstatus VentaDArtEstatus,
  VentaD.ArtSituacion VentaDArtSituacion,
  VentaD.Tarima VentaDTarima,
  VentaD.ExcluirISAN VentaDExcluirISAN,
  VentaD.ContUso2 VentaDContUso2,
  VentaD.ContUso3 VentaDContUso3,
  VentaD.CostoEstandar VentaDCostoEstandar,
  VentaD.ABC VentaDABC,
  VentaD.OrdenCompra VentaDOrdenCompra,
  VentaD.TipoImpuesto1 VentaDTipoImpuesto1,
  VentaD.TipoImpuesto2 VentaDTipoImpuesto2,
  VentaD.TipoImpuesto3 VentaDTipoImpuesto3,
  VentaD.CostoPromedio VentaDCostoPromedio,
  VentaD.CostoReposicion VentaDCostoReposicion,
  VentaD.TipoComprobante VentaDTipoComprobante,
  VentaD.SustentoComprobante VentaDSustentoComprobante,
  VentaD.TipoIdentificacion VentaDTipoIdentificacion,
  VentaD.DerechoDevolucion VentaDDerechoDevolucion,
  VentaD.Establecimiento VentaDEstablecimiento,
  VentaD.PuntoEmision VentaDPuntoEmision,
  VentaD.SecuencialSRI VentaDSecuencialSRI,
  VentaD.AutorizacionSRI VentaDAutorizacionSRI,
  VentaD.VigenteA VentaDVigenteA,
  VentaD.SecuenciaRetencion VentaDSecuenciaRetencion,
  VentaD.Comprobante VentaDComprobante,
  VentaD.FechaContableMov VentaDFechaContableMov,
  --VentaD.TipoRetencion1 VentaDTipoRetencion1,
  --VentaD.TipoRetencion2 VentaDTipoRetencion2,
  --VentaD.TipoRetencion3 VentaDTipoRetencion3,
  --VentaD.Retencion1 VentaDRetencion1,
  --VentaD.Retencion2 VentaDRetencion2,
  --VentaD.Retencion3 VentaDRetencion3
  NULL As VentaDTipoRetencion1,
  NULL As VentaDTipoRetencion2,
  NULL As VentaDTipoRetencion3,
  NULL As VentaDRetencion1,
  NULL As VentaDRetencion2,
  NULL As VentaDRetencion3  
  FROM VentaD JOIN Art
    ON VentaD.Articulo = Art.Articulo JOIN VentaTCalc vtc
    ON vtc.ID = VentaD.ID AND vtc.Renglon = VentaD.Renglon AND vtc.RenglonSub = VentaD.RenglonSub LEFT OUTER JOIN Unidad 
    ON Unidad.Unidad = VentaD.Unidad LEFT OUTER JOIN ArtProv
    ON ArtProv.Proveedor = Art.Proveedor AND ArtProv.Articulo = Art.Articulo JOIN Venta
    ON Venta.ID = VentaD.ID LEFT OUTER JOIN EmpresaCFD 
    ON EmpresaCFD.Empresa = Venta.Empresa LEFT OUTER JOIN TipoEmpaque
    ON Art.tipoEmpaque=TipoEmpaque.TipoEmpaque JOIN MovTipo mt
    ON mt.Modulo = 'VTAS' AND mt.Mov = Venta.Mov
   
UNION
SELECT
  REPLICATE('0',20-LEN(RTRIM(LTRIM(CONVERT(varchar,Venta.ID))))) + RTRIM(LTRIM(CONVERT(varchar,Venta.ID))) +
  REPLICATE('0',12-LEN(RTRIM(LTRIM(CONVERT(varchar,'999999999999'))))) + RTRIM(LTRIM(CONVERT(varchar,'999999999999'))) + 
  REPLICATE('0',7-LEN(RTRIM(LTRIM(CONVERT(varchar,'0'))))) + RTRIM(LTRIM(CONVERT(varchar,'0'))) +
  REPLICATE(' ',50)
  OrdenExportacion,
  Venta.Cliente VentaCliente,
  Venta.ID, 
  '1' VentaDCantidad,
  NULL AS VentaDCantidadInventario,
  'No Aplica' AS VentaDUnidad,
  NULL AS UnidadClave,
  'ANTICIPO' AS VentaDArticulo,
  NULL AS EAN13,
  NULL AS SKUCliente,
  NULL AS SKUEmpresa,
  NULL AS DUN14,
  'Anticipo Facturado' AS VentaDDescripcion,
  NULL AS VentaDDescripcion2,
  NULL AS ArtTipoEmpaque,
  ((AnticiposFacturados-ISNULL(AnticiposImpuestos,0.0))*-1)*dbo.fnCFDTipoCambioMN(Venta.TipoCambio, ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) AS VentaDPrecio,
  ((AnticiposFacturados-ISNULL(AnticiposImpuestos,0.0))*-1)*dbo.fnCFDTipoCambioMN(Venta.TipoCambio, ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) AS VentaDPrecioTotal,
  NULL AS VentaDDescuentoLinea,
  NULL AS VentaDDescuentoImporte,
  ((AnticiposImpuestos*100/(AnticiposFacturados-AnticiposImpuestos))*-1)*dbo.fnCFDTipoCambioMN(Venta.TipoCambio, ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) AS ventaDImpuesto1, 
  NULL AS ventaDImpuesto2, 
  ((AnticiposFacturados-ISNULL(AnticiposImpuestos,0.0))*-1)*dbo.fnCFDTipoCambioMN(Venta.TipoCambio, ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) AS VentaDImporte,
  ((AnticiposFacturados-ISNULL(AnticiposImpuestos,0.0))*-1)*dbo.fnCFDTipoCambioMN(Venta.TipoCambio, ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) AS VentaDImporteUnitario,
  NULL AS VentaDDescLineal,
  NULL AS VentaDDescuentosTotales,
  ((AnticiposFacturados-ISNULL(AnticiposImpuestos,0.0))*-1)*dbo.fnCFDTipoCambioMN(Venta.TipoCambio, ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) AS VentaDImporteSobrePrecio,
  ((AnticiposFacturados-ISNULL(AnticiposImpuestos,0.0))*-1)*dbo.fnCFDTipoCambioMN(Venta.TipoCambio, ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) AS VentaDSubTotal,
  NULL AS VentaDSubTotalUnitario,
  ((AnticiposImpuestos)*-1)*dbo.fnCFDTipoCambioMN(Venta.TipoCambio, ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) AS VentaDImpuesto1Total,
  NULL AS VentaDImpuesto2Total,
  ((AnticiposImpuestos)*-1)*dbo.fnCFDTipoCambioMN(Venta.TipoCambio, ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) AS VentaDImpuestos,
  ((AnticiposFacturados)*-1)*dbo.fnCFDTipoCambioMN(Venta.TipoCambio, ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) AS VentaDImporteTotal,
  ((AnticiposFacturados)*-1)*dbo.fnCFDTipoCambioMN(Venta.TipoCambio, ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)) AS VentaDTotalNeto,  
  NULL AS TipoEmpaqueClave,
  NULL AS TipoEmpaqueTipo,

  NULL AS VentaDRenglon,
  NULL AS VentaDRenglonSub,
  NULL AS VentaDRenglonID,
  NULL AS VentaDRenglonTipo,
  NULL AS VentaDAlmacen,
  NULL AS VentaDEnviarA,
  NULL AS VentaDCodigo,
  NULL AS VentaDSubCuenta,
  NULL AS VentaDPrecioSugerido,
  NULL AS VentaDDescuentoTipo,
  NULL AS VentaDImpuesto3,
  NULL AS VentaDDescripcionExtra,
  NULL AS VentaDCosto,
  NULL AS VentaDCostoActividad,
  NULL AS VentaDPaquete,
  NULL AS VentaDContUso,
  NULL AS VentaDComision,
  NULL AS VentaDAplica,
  NULL AS VentaDAplicaID,
  NULL AS VentaDCantidadPendiente,
  NULL AS VentaDCantidadReservada,
  NULL AS VentaDCantidadCancelada,
  NULL AS VentaDCantidadOrdenada,
  NULL AS VentaDCantidadEmbarcada,
  NULL AS VentaDCantidadA,
  NULL AS VentaDFactor,
  NULL AS VentaDSustitutoArticulo,
  NULL AS VentaDSustitutoSubCuenta,
  NULL AS VentaDFechaRequerida,
  NULL AS VentaDHoraRequerida,
  NULL AS VentaDInstruccion,
  NULL AS VentaDAgente,
  NULL AS VentaDDepartamento,
  NULL AS VentaDUltimoReservadoCantidad,
  NULL AS VentaDUltimoReservadoFecha,
  NULL AS VentaDSucursal,
  NULL AS VentaDPoliticaPrecios,
  NULL AS VentaDSucursalOrigen,
  NULL AS VentaDAutoLocalidad,
  NULL AS VentaDUEN,
  NULL AS VentaDEspacio,
  NULL AS VentaDCantidadAlterna,
  NULL AS VentaDPrecioMoneda,
  NULL AS VentaDPrecioTipoCambio,
  NULL AS VentaDEstado,
  NULL AS VentaDServicioNumero,
  NULL AS VentaDAgentesAsignados,
  NULL AS VentaDAFArticulo,
  NULL AS VentaDExcluirPlaneacion,
  NULL AS VentaDAnexo,
  NULL AS VentaDAjusteCosteo,
  NULL AS VentaDCostoUEPS,
  NULL AS VentaDCostoPEPS,
  NULL AS VentaDUltimoCosto,
  NULL AS VentaDPrecioLista,
  NULL AS VentaDDepartamentoDetallista,
  NULL AS VentaDPresupuestoEsp,
  NULL AS VentaDPosicion,
  NULL AS VentaDPuntos,
  NULL AS VentaDCantidadObsequio,
  NULL AS VentaDOfertaID,
  NULL AS VentaDProveedorRef,
  NULL AS VentaDTransferirA,
  NULL AS VentaDArtEstatus,
  NULL AS VentaDArtSituacion,
  NULL AS VentaDTarima,
  NULL AS VentaDExcluirISAN,
  NULL AS VentaDContUso2,
  NULL AS VentaDContUso3,
  NULL AS VentaDCostoEstandar,
  NULL AS VentaDABC,
  NULL AS VentaDOrdenCompra,
  NULL AS VentaDTipoImpuesto1,
  NULL AS VentaDTipoImpuesto2,
  NULL AS VentaDTipoImpuesto3,
  NULL AS VentaDCostoPromedio,
  NULL AS VentaDCostoReposicion,
  NULL AS VentaDTipoComprobante,
  NULL AS VentaDSustentoComprobante,
  NULL AS VentaDTipoIdentificacion,
  NULL AS VentaDDerechoDevolucion,
  NULL AS VentaDEstablecimiento,
  NULL AS VentaDPuntoEmision,
  NULL AS VentaDSecuencialSRI,
  NULL AS VentaDAutorizacionSRI,
  NULL AS VentaDVigenteA,
  NULL AS VentaDSecuenciaRetencion,
  NULL AS VentaDComprobante,
  NULL AS VentaDFechaContableMov,
  NULL AS VentaDTipoRetencion1,
  NULL AS VentaDTipoRetencion2,
  NULL AS VentaDTipoRetencion3,
  NULL AS VentaDRetencion1,
  NULL AS VentaDRetencion2,
  NULL AS VentaDRetencion3
  FROM Venta 
  JOIN EmpresaCFD ON Venta.Empresa = EmpresaCFD.Empresa
  JOIN MovTipo mt ON mt.Modulo = 'VTAS' AND mt.Mov = Venta.Mov
 WHERE AnticiposFacturados IS NOT NULL
GO

/***************** CFDVentaDPOS *******************/
IF EXISTS (SELECT * FROM sysobjects WHERE id = object_id('dbo.CFDVentaDPOS') AND TYPE = 'V') 
  DROP VIEW CFDVentaDPOS
GO
CREATE VIEW CFDVentaDPOS AS
SELECT 
  CFDVentaD2.OrdenExportacion, 
  CFDVentaD2.VentaCliente, 
  CFDVentaD2.ID, 
  CFDVentaD2.VentaDCantidad, 
  (((CFDVentaD2.VentaDCantidad-CFDVentaD2.VentaDCantidadObsequio)*CFDVentaD2.VentaDCantidadInventario)/CFDVentaD2.VentaDCantidad)  VentaDCantidadInventario, 
  CFDVentaD2.VentaDUnidad, 
  CFDVentaD2.UnidadClave, 
  CFDVentaD2.VentaDArticulo, 
  CFDVentaD2.EAN13, 
  CFDVentaD2.SKUCliente, 
  CFDVentaD2.SKUEmpresa, 
  CFDVentaD2.DUN14, 
  CFDVentaD2.VentaDDescripcion, 
  CFDVentaD2.VentaDDescripcion2, 
  CFDVentaD2.ArtTipoEmpaque, 
  CFDVentaD2.VentaDPrecio, 
  CFDVentaD2.VentaDPrecioTotal, 
  CFDVentaD2.VentaDDescuentoLinea, 
  CFDVentaD2.VentaDDescuentoImporte, 
  CFDVentaD2.ventaDImpuesto1, 
  CFDVentaD2.ventaDImpuesto2, 
  CFDVentaD2.VentaDImporte, 
  CFDVentaD2.VentaDImporteUnitario, 
  CFDVentaD2.VentaDDescLineal, 
  CFDVentaD2.VentaDDescuentosTotales, 
  CFDVentaD2.VentaDImporteSobrePrecio, 
  CFDVentaD2.VentaDSubTotal, 
  CFDVentaD2.VentaDSubTotalUnitario, 
  CFDVentaD2.VentaDImpuesto1Total, 
  CFDVentaD2.VentaDImpuesto2Total, 
  CFDVentaD2.VentaDImpuestos, 
  CFDVentaD2.VentaDImporteTotal, 
  CFDVentaD2.VentaDTotalNeto, 
  CFDVentaD2.TipoEmpaqueClave, 
  CFDVentaD2.TipoEmpaqueTipo, 
  CFDVentaD2.VentaDRenglon, 
  CFDVentaD2.VentaDRenglonSub, 
  CFDVentaD2.VentaDRenglonID, 
  CFDVentaD2.VentaDRenglonTipo, 
  CFDVentaD2.VentaDAlmacen, 
  CFDVentaD2.VentaDEnviarA, 
  CFDVentaD2.VentaDCodigo, 
  CFDVentaD2.VentaDSubCuenta, 
  CFDVentaD2.VentaDPrecioSugerido, 
  CFDVentaD2.VentaDDescuentoTipo, 
  CFDVentaD2.VentaDImpuesto3, 
  CFDVentaD2.VentaDDescripcionExtra, 
  CFDVentaD2.VentaDCosto, 
  CFDVentaD2.VentaDCostoActividad, 
  CFDVentaD2.VentaDPaquete, 
  CFDVentaD2.VentaDContUso, 
  CFDVentaD2.VentaDComision, 
  CFDVentaD2.VentaDAplica, 
  CFDVentaD2.VentaDAplicaID, 
  CFDVentaD2.VentaDCantidadPendiente, 
  CFDVentaD2.VentaDCantidadReservada, 
  CFDVentaD2.VentaDCantidadCancelada, 
  CFDVentaD2.VentaDCantidadOrdenada, 
  CFDVentaD2.VentaDCantidadEmbarcada, 
  CFDVentaD2.VentaDCantidadA, 
  CFDVentaD2.VentaDFactor, 
  CFDVentaD2.VentaDSustitutoArticulo, 
  CFDVentaD2.VentaDSustitutoSubCuenta, 
  CFDVentaD2.VentaDFechaRequerida, 
  CFDVentaD2.VentaDHoraRequerida, 
  CFDVentaD2.VentaDInstruccion, 
  CFDVentaD2.VentaDAgente, 
  CFDVentaD2.VentaDDepartamento, 
  CFDVentaD2.VentaDUltimoReservadoCantidad, 
  CFDVentaD2.VentaDUltimoReservadoFecha, 
  CFDVentaD2.VentaDSucursal, 
  CFDVentaD2.VentaDPoliticaPrecios, 
  CFDVentaD2.VentaDSucursalOrigen, 
  CFDVentaD2.VentaDAutoLocalidad, 
  CFDVentaD2.VentaDUEN, 
  CFDVentaD2.VentaDEspacio, 
  CFDVentaD2.VentaDCantidadAlterna, 
  CFDVentaD2.VentaDPrecioMoneda, 
  CFDVentaD2.VentaDPrecioTipoCambio, 
  CFDVentaD2.VentaDEstado, 
  CFDVentaD2.VentaDServicioNumero, 
  CFDVentaD2.VentaDAgentesAsignados, 
  CFDVentaD2.VentaDAFArticulo, 
  CFDVentaD2.VentaDExcluirPlaneacion, 
  CFDVentaD2.VentaDAnexo, 
  CFDVentaD2.VentaDAjusteCosteo, 
  CFDVentaD2.VentaDCostoUEPS, 
  CFDVentaD2.VentaDCostoPEPS, 
  CFDVentaD2.VentaDUltimoCosto, 
  CFDVentaD2.VentaDPrecioLista, 
  CFDVentaD2.VentaDDepartamentoDetallista, 
  CFDVentaD2.VentaDPresupuestoEsp, 
  CFDVentaD2.VentaDPosicion, 
  CFDVentaD2.VentaDPuntos, 
  CFDVentaD2.VentaDCantidadObsequio, 
  CFDVentaD2.VentaDOfertaID, 
  CFDVentaD2.VentaDProveedorRef, 
  CFDVentaD2.VentaDTransferirA, 
  CFDVentaD2.VentaDArtEstatus, 
  CFDVentaD2.VentaDArtSituacion, 
  CFDVentaD2.VentaDTarima, 
  CFDVentaD2.VentaDExcluirISAN, 
  CFDVentaD2.VentaDContUso2, 
  CFDVentaD2.VentaDContUso3, 
  CFDVentaD2.VentaDCostoEstandar, 
  CFDVentaD2.VentaDABC, 
  CFDVentaD2.VentaDOrdenCompra, 
  CFDVentaD2.VentaDTipoImpuesto1, 
  CFDVentaD2.VentaDTipoImpuesto2, 
  CFDVentaD2.VentaDTipoImpuesto3, 
  CFDVentaD2.VentaDCostoPromedio, 
  CFDVentaD2.VentaDCostoReposicion, 
  CFDVentaD2.VentaDTipoComprobante, 
  CFDVentaD2.VentaDSustentoComprobante, 
  CFDVentaD2.VentaDTipoIdentificacion, 
  CFDVentaD2.VentaDDerechoDevolucion, 
  CFDVentaD2.VentaDEstablecimiento, 
  CFDVentaD2.VentaDPuntoEmision, 
  CFDVentaD2.VentaDSecuencialSRI, 
  CFDVentaD2.VentaDAutorizacionSRI, 
  CFDVentaD2.VentaDVigenteA, 
  CFDVentaD2.VentaDSecuenciaRetencion, 
  CFDVentaD2.VentaDComprobante, 
  CFDVentaD2.VentaDFechaContableMov, 
  CFDVentaD2.VentaDTipoRetencion1, 
  CFDVentaD2.VentaDTipoRetencion2, 
  CFDVentaD2.VentaDTipoRetencion3, 
  CFDVentaD2.VentaDRetencion1, 
  CFDVentaD2.VentaDRetencion2, 
  CFDVentaD2.VentaDRetencion3
  FROM CFDVentaD2
 WHERE CFDVentaD2.VentaDCantidad <> 0
 UNION ALL
 SELECT
  REPLICATE('0',20-LEN(RTRIM(LTRIM(CONVERT(varchar,CFDVentaD2.ID))))) + RTRIM(LTRIM(CONVERT(varchar,CFDVentaD2.ID))) +
  REPLICATE('0',12-LEN(RTRIM(LTRIM(CONVERT(varchar,CFDVentaD2.VentaDRenglon+1.0))))) + RTRIM(LTRIM(CONVERT(varchar,CFDVentaD2.VentaDRenglon+1))) + 
  REPLICATE('0',7-LEN(RTRIM(LTRIM(CONVERT(varchar,CFDVentaD2.VentaDRenglonSub))))) + RTRIM(LTRIM(CONVERT(varchar,CFDVentaD2.VentaDRenglonSub))) +
  REPLICATE(' ',50)
  OrdenExportacion,
  CFDVentaD2.VentaCliente, 
  CFDVentaD2.ID, 
  CFDVentaD2.VentaDCantidadObsequio VentaDCantidad, 
  (((CFDVentaD2.VentaDCantidadObsequio)*CFDVentaD2.VentaDCantidadInventario)/CFDVentaD2.VentaDCantidad)  VentaDCantidadInventario,  
  CFDVentaD2.VentaDUnidad, 
  CFDVentaD2.UnidadClave, 
  CFDVentaD2.VentaDArticulo , 
  CFDVentaD2.EAN13, 
  CFDVentaD2.SKUCliente, 
  CFDVentaD2.SKUEmpresa, 
  CFDVentaD2.DUN14, 
  CFDVentaD2.VentaDDescripcion, 
  CFDVentaD2.VentaDDescripcion2, 
  CFDVentaD2.ArtTipoEmpaque, 
  0.0 As VentaDPrecio, 
  0.0 As VentaDPrecioTotal, 
  0.0 As VentaDDescuentoLinea, 
  0.0 As VentaDDescuentoImporte, 
  0.0 As ventaDImpuesto1, 
  0.0 As ventaDImpuesto2, 
  0.0 As VentaDImporte, 
  0.0 As VentaDImporteUnitario, 
  0.0 As VentaDDescLineal, 
  0.0 As VentaDDescuentosTotales, 
  0.0 As VentaDImporteSobrePrecio, 
  0.0 As VentaDSubTotal, 
  0.0 As VentaDSubTotalUnitario, 
  0.0 As VentaDImpuesto1Total, 
  0.0 As VentaDImpuesto2Total, 
  0.0 As VentaDImpuestos, 
  0.0 As VentaDImporteTotal, 
  0.0 As VentaDTotalNeto, 
  CFDVentaD2.TipoEmpaqueClave, 
  CFDVentaD2.TipoEmpaqueTipo, 
  (CFDVentaD2.VentaDRenglon+1) As VentaDRenglon, 
  (CFDVentaD2.VentaDRenglonSub)VentaDRenglonSub, 
  (CFDVentaD2.VentaDRenglonID)VentaDRenglonID, 
  CFDVentaD2.VentaDRenglonTipo, 
  CFDVentaD2.VentaDAlmacen, 
  CFDVentaD2.VentaDEnviarA, 
  CFDVentaD2.VentaDCodigo, 
  CFDVentaD2.VentaDSubCuenta, 
  CFDVentaD2.VentaDPrecioSugerido, 
  CFDVentaD2.VentaDDescuentoTipo, 
  0.0 As VentaDImpuesto3, 
  CFDVentaD2.VentaDDescripcionExtra, 
  CFDVentaD2.VentaDCosto, 
  CFDVentaD2.VentaDCostoActividad, 
  CFDVentaD2.VentaDPaquete, 
  CFDVentaD2.VentaDContUso, 
  CFDVentaD2.VentaDComision, 
  CFDVentaD2.VentaDAplica, 
  CFDVentaD2.VentaDAplicaID, 
  CFDVentaD2.VentaDCantidadPendiente, 
  CFDVentaD2.VentaDCantidadReservada, 
  CFDVentaD2.VentaDCantidadCancelada, 
  CFDVentaD2.VentaDCantidadOrdenada, 
  CFDVentaD2.VentaDCantidadEmbarcada, 
  CFDVentaD2.VentaDCantidadA, 
  CFDVentaD2.VentaDFactor, 
  CFDVentaD2.VentaDSustitutoArticulo, 
  CFDVentaD2.VentaDSustitutoSubCuenta, 
  CFDVentaD2.VentaDFechaRequerida, 
  CFDVentaD2.VentaDHoraRequerida, 
  CFDVentaD2.VentaDInstruccion, 
  CFDVentaD2.VentaDAgente, 
  CFDVentaD2.VentaDDepartamento, 
  CFDVentaD2.VentaDUltimoReservadoCantidad, 
  CFDVentaD2.VentaDUltimoReservadoFecha, 
  CFDVentaD2.VentaDSucursal, 
  CFDVentaD2.VentaDPoliticaPrecios, 
  CFDVentaD2.VentaDSucursalOrigen, 
  CFDVentaD2.VentaDAutoLocalidad, 
  CFDVentaD2.VentaDUEN, 
  CFDVentaD2.VentaDEspacio, 
  CFDVentaD2.VentaDCantidadAlterna, 
  CFDVentaD2.VentaDPrecioMoneda, 
  CFDVentaD2.VentaDPrecioTipoCambio, 
  CFDVentaD2.VentaDEstado, 
  CFDVentaD2.VentaDServicioNumero, 
  CFDVentaD2.VentaDAgentesAsignados, 
  CFDVentaD2.VentaDAFArticulo, 
  CFDVentaD2.VentaDExcluirPlaneacion, 
  CFDVentaD2.VentaDAnexo, 
  CFDVentaD2.VentaDAjusteCosteo, 
  CFDVentaD2.VentaDCostoUEPS, 
  CFDVentaD2.VentaDCostoPEPS, 
  CFDVentaD2.VentaDUltimoCosto, 
  CFDVentaD2.VentaDPrecioLista, 
  CFDVentaD2.VentaDDepartamentoDetallista, 
  CFDVentaD2.VentaDPresupuestoEsp, 
  CFDVentaD2.VentaDPosicion, 
  CFDVentaD2.VentaDPuntos, 
  CFDVentaD2.VentaDCantidadObsequio, 
  CFDVentaD2.VentaDOfertaID, 
  CFDVentaD2.VentaDProveedorRef, 
  CFDVentaD2.VentaDTransferirA, 
  CFDVentaD2.VentaDArtEstatus, 
  CFDVentaD2.VentaDArtSituacion, 
  CFDVentaD2.VentaDTarima, 
  CFDVentaD2.VentaDExcluirISAN, 
  CFDVentaD2.VentaDContUso2, 
  CFDVentaD2.VentaDContUso3, 
  CFDVentaD2.VentaDCostoEstandar, 
  CFDVentaD2.VentaDABC, 
  CFDVentaD2.VentaDOrdenCompra, 
  CFDVentaD2.VentaDTipoImpuesto1, 
  CFDVentaD2.VentaDTipoImpuesto2, 
  CFDVentaD2.VentaDTipoImpuesto3, 
  CFDVentaD2.VentaDCostoPromedio, 
  CFDVentaD2.VentaDCostoReposicion, 
  CFDVentaD2.VentaDTipoComprobante, 
  CFDVentaD2.VentaDSustentoComprobante, 
  CFDVentaD2.VentaDTipoIdentificacion, 
  CFDVentaD2.VentaDDerechoDevolucion, 
  CFDVentaD2.VentaDEstablecimiento, 
  CFDVentaD2.VentaDPuntoEmision, 
  CFDVentaD2.VentaDSecuencialSRI, 
  CFDVentaD2.VentaDAutorizacionSRI, 
  CFDVentaD2.VentaDVigenteA, 
  CFDVentaD2.VentaDSecuenciaRetencion, 
  CFDVentaD2.VentaDComprobante, 
  CFDVentaD2.VentaDFechaContableMov, 
  CFDVentaD2.VentaDTipoRetencion1, 
  CFDVentaD2.VentaDTipoRetencion2, 
  CFDVentaD2.VentaDTipoRetencion3, 
  0.0 As VentaDRetencion1, 
  0.0 As VentaDRetencion2, 
  0.0 As VentaDRetencion3
  FROM CFDVentaD2
 WHERE CFDVentaD2.VentaDCantidadObsequio <> 0
 
 GO
 

--if not exists (SELECT * FROM sysindexes, sysobjects WHERE sysobjects.name = 'AuxiliarU' AND sysindexes.name = 'Fecha2' AND sysobjects.id = sysindexes.id)
--	CREATE INDEX Fecha2  ON dbo.AuxiliarU (Fecha,Sucursal,Modulo,Rama)  
--GO	

IF NOT EXISTS(SELECT * FROM eDocModuloVista WHERE Modulo = 'VTAS' AND Vista = 'CFDVentaMovImpuestoEst')                
INSERT eDocModuloVista (Modulo, Vista)  VALUES ('VTAS','CFDVentaMovImpuestoEst')
GO

if exists (select * from sysobjects where id = object_id('dbo.CFDVentaMovImpuestoEst') and type = 'V') drop view dbo.CFDVentaMovImpuestoEst
GO
GO
CREATE VIEW CFDVentaMovImpuestoEst AS  
SELECT  
  REPLICATE('0',20-LEN(RTRIM(LTRIM(CONVERT(varchar,VentaTCalc.ID))))) + RTRIM(LTRIM(CONVERT(varchar,VentaTCalc.ID))) +  
  REPLICATE('0',12) +   
  REPLICATE('0',7) +  
  REPLICATE(' ',50)  
  OrdenExportacion,     
  VentaTCalc.ID ID,  
  CONVERT(varchar(50),'IVA') Impuesto,  
  CONVERT(varchar(50),'VAT') ImpuestoClave,  
  ISNULL(VentaTCalc.Impuesto1,0.00) Tasa,  
  SUM(ISNULL(VentaTCalc.Impuesto1Total,0.00)*ISNULL(dbo.fnCFDTipoCambioMN(Venta.TipoCambio, ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)),0.00)) Importe,  
  'TRANSFERIDO' CategoriaImpuesto     
  FROM VentaTCalc  
JOIN Venta ON VentaTCalc.ID = Venta.ID  
JOIN EmpresaCFD ON Venta.Empresa = EmpresaCFD.Empresa  
JOIN MovTipo mt ON mt.Modulo = 'VTAS' AND mt.Mov = Venta.Mov  
 WHERE NULLIF(VentaTCalc.Impuesto1Total,0.0) IS NOT NULL  
 GROUP BY VentaTCalc.ID, VentaTCalc.Impuesto1  
UNION ALL     
SELECT  
  REPLICATE('0',20-LEN(RTRIM(LTRIM(CONVERT(varchar,VentaTCalc.ID))))) + RTRIM(LTRIM(CONVERT(varchar,VentaTCalc.ID))) +  
  REPLICATE('0',12) +   
  REPLICATE('0',7) +  
  REPLICATE(' ',50)  
  OrdenExportacion,     
  VentaTCalc.ID ID,  
  CONVERT(varchar(50),'IEPS') Impuesto,  
  CONVERT(varchar(50),'GST') ImpuestoClave,  
  ISNULL(VentaTCalc.Impuesto2,0.00) Tasa,  
  SUM(ISNULL(VentaTCalc.Impuesto2Total,0.00)*ISNULL(dbo.fnCFDTipoCambioMN(Venta.TipoCambio, ISNULL(mt.SAT_MN, EmpresaCFD.SAT_MN)),0.00)) Importe,  
  'TRANSFERIDO' CategoriaImpuesto        
  FROM VentaTCalc  
JOIN Venta ON VentaTCalc.ID = Venta.ID  
JOIN EmpresaCFD ON Venta.Empresa = EmpresaCFD.Empresa  
JOIN MovTipo mt ON mt.Modulo = 'VTAS' AND mt.Mov = Venta.Mov  
 WHERE NULLIF(VentaTCalc.Impuesto2Total,0.0) IS NOT NULL  
 GROUP BY VentaTCalc.ID, VentaTCalc.Impuesto2  
 GO

/******************************* fneDocPOSEstTotalImpuestos *************************************************/
IF EXISTS (SELECT name FROM sysobjects WHERE name = 'fneDocPOSEstTotalImpuestos')
DROP FUNCTION fneDocPOSEstTotalImpuestos
GO
CREATE FUNCTION fneDocPOSEstTotalImpuestos
  (
  @ID               int
  )
RETURNS float
AS

BEGIN
  DECLARE 
  @Resultado float

  SELECT @Resultado = SUM(Importe) FROM CFDVentaMovImpuestoEst WHERE ID = @ID
    
  RETURN (@Resultado)
END
GO

--select dbo.fneDocPOSEstTotalImpuestos(916)

/******************************* fneDocPOSCobroReferenciaMetodoCobro *************************************************/
IF EXISTS (SELECT name FROM sysobjects WHERE name = 'fneDocPOSCobroReferenciaMetodoCobro')
DROP FUNCTION fneDocPOSCobroReferenciaMetodoCobro
GO
CREATE FUNCTION fneDocPOSCobroReferenciaMetodoCobro
  (
  @ID               int,
  @Ref              bit
  )
RETURNS varchar(100)
AS
BEGIN
  DECLARE	
    @FormaCobro     varchar(50),
    @Referencia     varchar(50),
    @FormaCobro1    varchar(50),
    @Referencia1    varchar(50),
    @FormaCobro2    varchar(50),
    @Referencia2    varchar(50),
    @FormaCobro3    varchar(50),
    @Referencia3    varchar(50),
	@FormaCobro4    varchar(50),
    @Referencia4    varchar(50),
    @FormaCobro5    varchar(50),
    @Referencia5    varchar(50),
	@Importe1       float, 
	@Importe2       float, 
	@Importe3       float, 
	@Importe4       float, 
	@Importe5       float,
    @Cliente		varchar(10),
    @Resultado      varchar(MAX),
    @InfoPago		varchar(100),
    @InfoFormaPago	varchar(50),
    @EnviarA		int,
    @Empresa		char(5),
	@IDR            int,
	@FormaCobroRef  varchar(50),
	@ReferenciaRef  varchar(50),
    @IDPOS        varchar(50)

SELECT @IDPOS = ReferenciaOrdenCompra FROM Venta WHERE ID = @ID

  SELECT
     @Resultado   = '',
     @FormaCobro1 = NULLIF(FormaCobro1,''),
     @Referencia1 = ISNULL(Referencia1,'No Aplica'),
     @FormaCobro2 = NULLIF(FormaCobro2,''),
     @Referencia2 = ISNULL(Referencia2,'No Aplica'),
     @FormaCobro3 = NULLIF(FormaCobro3,''),
     @Referencia3 = ISNULL(Referencia3,'No Aplica'),
     @FormaCobro4 = NULLIF(FormaCobro4,''),
     @Referencia4 = ISNULL(Referencia4,'No Aplica'),
     @FormaCobro5 = NULLIF(FormaCobro5,''),
     @Referencia5 = ISNULL(Referencia5,'No Aplica'),
	 @Importe1    = ISNULL(Importe1,0),
	 @Importe2    = ISNULL(Importe2,0),
	 @Importe3    = ISNULL(Importe3,0),
	 @Importe4    = ISNULL(Importe4,0),
	 @Importe5    = ISNULL(Importe5,0)
    FROM POSVentaCobro
   WHERE ID = @IDPOS   

  SELECT
     @FormaCobro  = ISNULL(FormaPagoTipo,''),
     @Referencia  = NULL,
     @Cliente     = ISNULL(Cliente,''),
     @EnviarA     = EnviarA,
     @Empresa     = Empresa
    FROM Venta
   WHERE ID = @ID 
 

  
  SELECT @FormaCobro1 = ClaveSAT FROM FormaPago WHERE FormaPago = @FormaCobro1
  SELECT @FormaCobro2 = ClaveSAT FROM FormaPago WHERE FormaPago = @FormaCobro2
  SELECT @FormaCobro3 = ClaveSAT FROM FormaPago WHERE FormaPago = @FormaCobro3
  SELECT @FormaCobro4 = ClaveSAT FROM FormaPago WHERE FormaPago = @FormaCobro4
  SELECT @FormaCobro5 = ClaveSAT FROM FormaPago WHERE FormaPago = @FormaCobro5
  SELECT @FormaCobro = MAX(ClaveSAT) FROM FormaPagoTipoD tf JOIN FormaPago f ON tf.FormaPago = f.FormaPago WHERE Tipo = @FormaCobro

  SELECT @FormaCobro = ClaveSAT FROM FormaPago WHERE FormaPago = @FormaCobro

  DECLARE @DatosTemp TABLE (Importe float,   FormaCobro varchar(50), Referencia varchar(50)) 
   INSERT INTO @DatosTemp SELECT @Importe1, @FormaCobro1, @Referencia1
   INSERT INTO @DatosTemp SELECT @Importe2, @FormaCobro2, @Referencia2
   INSERT INTO @DatosTemp SELECT @Importe3, @FormaCobro3, @Referencia3
   INSERT INTO @DatosTemp SELECT @Importe4, @FormaCobro4, @Referencia4
   INSERT INTO @DatosTemp SELECT @Importe5, @FormaCobro5, @Referencia5

  DECLARE @Datos TABLE (ID int identity(1,1), FormaCobro varchar(50), Referencia varchar(50))
   INSERT INTO @Datos(FormaCobro, Referencia) SELECT FormaCobro, Referencia FROM @DatosTemp ORDER BY Importe DESC

  SELECT @IDR = MIN(ID) FROM @Datos
  WHILE @IDR IS NOT NULL
  BEGIN
   SELECT @FormaCobroRef = FormaCobro, @ReferenciaRef = Referencia FROM @Datos WHERE ID = @IDR

   IF @Ref = 1
   BEGIN
    IF @FormaCobroRef IS NOT NULL AND @ReferenciaRef IS NOT NULL
     SELECT @Resultado = @Resultado + ISNULL(dbo.fneDocEsNumero(RIGHT(@ReferenciaRef,4)),'No Aplica') + ','
   END
   ELSE
   BEGIN
    IF @FormaCobroRef IS NOT NULL AND @ReferenciaRef IS NOT NULL
     SELECT @Resultado = @Resultado + @FormaCobroRef + ','
   END
   
   SELECT @IDR = MIN(ID) FROM @Datos WHERE ID > @IDR
  END

  /*
  IF @Ref = 1
  BEGIN
    IF @FormaCobro1 IS NOT NULL AND @Referencia1 IS NOT NULL
      SELECT @Resultado = @Resultado + ISNULL(dbo.fneDocEsNumero(RIGHT(@Referencia1,4)),'No Aplica') + ','
    IF @FormaCobro2 IS NOT NULL AND @Referencia2 IS NOT NULL
      SELECT @Resultado = @Resultado + ISNULL(dbo.fneDocEsNumero(RIGHT(@Referencia2,4)),'No Aplica') + ','
    IF @FormaCobro3 IS NOT NULL AND @Referencia3 IS NOT NULL
      SELECT @Resultado = @Resultado + ISNULL(dbo.fneDocEsNumero(RIGHT(@Referencia3,4)),'No Aplica') + ','
    IF @FormaCobro4 IS NOT NULL AND @Referencia4 IS NOT NULL
      SELECT @Resultado = @Resultado + ISNULL(dbo.fneDocEsNumero(RIGHT(@Referencia4,4)),'No Aplica') + ','
    IF @FormaCobro5 IS NOT NULL AND @Referencia5 IS NOT NULL
      SELECT @Resultado = @Resultado + ISNULL(dbo.fneDocEsNumero(RIGHT(@Referencia5,4)),'No Aplica') + ','
  END
  ELSE
  BEGIN
    IF @FormaCobro1 IS NOT NULL AND @Referencia1 IS NOT NULL
      SELECT @Resultado = @Resultado + @FormaCobro1 + ','
    IF @FormaCobro2 IS NOT NULL AND @Referencia2 IS NOT NULL
      SELECT @Resultado = @Resultado + @FormaCobro2 + ','
    IF @FormaCobro3 IS NOT NULL AND @Referencia3 IS NOT NULL
      SELECT @Resultado = @Resultado + @FormaCobro3 + ','
    IF @FormaCobro4 IS NOT NULL AND @Referencia4 IS NOT NULL
      SELECT @Resultado = @Resultado + @FormaCobro4 + ','
    IF @FormaCobro5 IS NOT NULL AND @Referencia5 IS NOT NULL
      SELECT @Resultado = @Resultado + @FormaCobro5 + ','
  END
  */

  IF NULLIF(@Resultado,'') IS NOT NULL
    SET @Resultado = SUBSTRING(@Resultado, 1, LEN(@Resultado)-1)
  
  IF NULLIF(@Resultado,'') IS NULL
  BEGIN
    SELECT @InfoFormaPago = InfoFormaPago FROM CteEmpresaCFD WHERE Cliente = @Cliente AND Empresa = @Empresa

    IF @Ref = 1
      SELECT @Resultado = dbo.fneDocEsNumero(RIGHT(NULLIF(CuentaPago,''),4)) FROM CteCFDFormaPago WHERE Cliente = @Cliente AND Empresa = @Empresa AND FormaPago = @InfoFormaPago
    ELSE
      SELECT @Resultado = FormaPago.ClaveSAT FROM CteCFDFormaPago LEFT JOIN FormaPago ON CteCFDFormaPago.FormaPago = FormaPago.FormaPago  WHERE CteCFDFormaPago.Cliente = @Cliente AND CteCFDFormaPago.Empresa = @Empresa  AND CteCFDFormaPago.FormaPago = @InfoFormaPago
  END

  --IF NULLIF(@Resultado,'') IS NULL
  --BEGIN
  --  IF @EnviarA IS NOT NULL
  --    SELECT @InfoPago = InfoPago,
  --           @InfoFormaPago = InfoFormaPago
  --      FROM CteEnviarACFD
  --     WHERE Cliente = @Cliente
  --       AND EnviarA = @EnviarA
       
  --   IF @InfoPago IS NULL OR @InfoFormaPago IS NULL
  --     SELECT @InfoPago = InfoPago,
  --           @InfoFormaPago = InfoFormaPago
  --      FROM CteCFD
  --     WHERE Cliente = @Cliente

  --  SELECT @FormaCobro = NULLIF(FormaPago.ClaveSAT,''),
  --         @Referencia = ISNULL(dbo.fneDocEsNumero(RIGHT(NULLIF(CuentaPago,''),4)),'No Aplica')
  --    FROM CteCFDInfoPagoD
	 -- LEFT JOIN FormaPago ON CteCFDInfoPagoD.FormaPago = FormaPago.FormaPago
  --   WHERE CteCFDInfoPagoD.Cliente = @Cliente
  --     AND CteCFDInfoPagoD.InfoPago = @InfoPago
  --     AND CteCFDInfoPagoD.FormaPago = @InfoFormaPago
  --END  

  IF NULLIF(@Resultado,'') IS NULL
  BEGIN
    IF @Ref = 1
    BEGIN
      SET @Resultado = dbo.fneDocEsNumero(RIGHT(@Referencia,4))
      IF @Resultado IS NULL
        SELECT @Resultado = dbo.fneDocEsNumero(RIGHT(Cta,4)) FROM CteCFD WHERE Cliente = @Cliente
    END
    ELSE
      SET @Resultado = ISNULL(@FormaCobro, '')
  END

  --IF ISNULL(@Resultado,'') IS NULL AND @Ref != 1
  --   SELECT @Resultado = ISNULL(NULLIF(SATFormaPago.Clave,''), '') FROM Venta JOIN Condicion ON Venta.Condicion = Condicion.Condicion 
	 --  LEFT JOIN SATFormaPago ON Condicion.CFD_metodoDePago = SATFormaPago.Descripcion WHERE Venta.ID = @ID

  IF NULLIF(@Resultado,'') IS NULL
  BEGIN
    IF @Ref = 1
      SET @Resultado = ISNULL(NULLIF(@Referencia,''),'No Aplica')
    ELSE
      SET @Resultado = ISNULL(NULLIF(@FormaCobro,''), '')
  END

  SET @Resultado = dbo.fnxpeDocVentaReferenciaMetodoCobro(@ID, @Ref, @Resultado)
    
  RETURN RTRIM(LTRIM(@Resultado))
END
GO

--select dbo.fneDocPOSCobroReferenciaMetodoCobro(548,0)
--select dbo.fneDocPOSCobroReferenciaMetodoCobro(548,1)

/********************************* VTAS-CFDI_3.2ESTPOS-eDoc *********************************/
IF NOT EXISTS(SELECT * FROM eDoc WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS') INSERT INTO eDoc (Modulo, eDoc, TipoXML, Documento, XSD, TipoCFD, DecimalesPorOmision, TipoCFDI, TimbrarEnTransaccion, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII) SELECT 'VTAS', 'CFDI_3.2ESTPOS',1, 
'{Encabezado}
<cfdi:Comprobante xmlns:cfdi="http://www.sat.gob.mx/cfd/3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.sat.gob.mx/cfd/3 http://www.sat.gob.mx/sitio_internet/cfd/3/cfdv32.xsd" version="3.2" serie="[SerieMovID]" folio="[NumeroMovID]" fecha="[FechaRegistro]" sello="_SELLO_" noCertificado="_NOCERTIFICADO_" certificado="_CERTIFICADO_" condicionesDePago="[Condicion]" subTotal="[SubTotal]" descuento="[DescuentoImporte]" total="[Total]" metodoDePago="[FormaPago]" tipoDeComprobante="[CampoTipoComprobanteDeMovTipo]" formaDePago="[CondicionFormaDePago]" LugarExpedicion="[LugarExpedicion]" NumCtaPago="[NumCtaPago]" Moneda="[VentaMoneda]" TipoCambio="[VentaTipoCambio]">
  <cfdi:Emisor rfc="[RFCEmpresa]" nombre="[NombreEmpresa]">     
    <cfdi:DomicilioFiscal calle="[CalleEmpresa]" noExterior="[NumeroExteriorEmpresa]" colonia="[ColoniaEmpresa]" localidad="[LocalidadEmpresa]" municipio="[MunicipioEmpresa]" estado="[EstadoEmpresa]" pais="[PaisEmpresa]" codigoPostal="[CodigoPostalEmpresa]" />     
    <cfdi:ExpedidoEn noInterior="[ExpedidoEnNoInterior]" municipio="[ExpedidoEnMunicipio]" pais="[ExpedidoEnPais]" colonia="[ExpedidoEnColonia]" estado="[ExpedidoEnEstado]" noExterior="[ExpedidoEnNoExt]" calle="[ExpedidoEnCalle]" codigoPostal="[ExpedidoEnCodigoPostal]" localidad="[ExpedidoEnLocalidad]"/>   
{/Encabezado}
{RegimenFiscal}
    <cfdi:RegimenFiscal Regimen="[EmisorRegimenFiscal]"/>
{/RegimenFiscal}
{Receptor}
  </cfdi:Emisor>
  <cfdi:Receptor rfc="[RFCCliente]" nombre="[NombreCliente]">     
    <cfdi:Domicilio calle="[CalleCliente]" noExterior="[NumeroExteriorCliente]" colonia="[ColoniaCliente]" municipio="[LocalidadCliente]" estado="[EstadoCliente]" pais="[PaisCliente]" codigoPostal="[CodigoPostalCliente]" />   
  </cfdi:Receptor>   
  <cfdi:Conceptos>    
{/Receptor}    
{Detalle}           
    <cfdi:Concepto cantidad="[Cantidad]" unidad="[Unidad]" noIdentificacion="[Articulo]" descripcion="[DescripcionArticulo]" valorUnitario="[Precio]" importe="[Importe]" >    
{/Detalle}    
{Serielote}             
      <cfdi:InformacionAduanera numero="[Pedimento]" fecha="[PedimentoFecha]" aduana="[PedimentoAduana]" />    
{/Serielote}    
{Detalle2}           
    </cfdi:Concepto>    
{/Detalle2} 
{Total1}         
  </cfdi:Conceptos>   
  <cfdi:Impuestos totalImpuestosRetenidos="[TotalImpuestosRetenidos]" totalImpuestosTrasladados="[TotalImpuestosImporte]">        
    <cfdi:Retenciones> 
{/Total1} 
{Retenciones}       
      <cfdi:Retencion impuesto="[ImpuestoRetencion]" importe="[ImporteRetencion]"/> 
{/Retenciones} 
{Total3}     
    </cfdi:Retenciones[algo2]>        
    <cfdi:Traslados> 
{/Total3} 
{Impuestos}             
      <cfdi:Traslado impuesto="[Impuesto]" tasa="[PorcentajeImpuesto]" importe="[ImporteImpuesto]" /> 
{/Impuestos} 
{Total4}        
    </cfdi:Traslados>         
  </cfdi:Impuestos>      
  <cfdi:Addenda>_ADDENDA_DOCUMENTO_</cfdi:Addenda>
</cfdi:Comprobante> 
{/Total4}','', 1, 4, 1, 1,1,0, 1
GO

/* VTAS-CFDI_3.2ESTPOS-eDocD*/
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS', 1,  'Encabezado','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'RegimenFiscal')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS', 2,  'RegimenFiscal','','CFDVentaFiscalRegimen',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Receptor')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS', 3,  'Receptor','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Detalle')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS', 4,  'Detalle','Encabezado','CFDVentaDPOS',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Total1')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS', 7,  'Total1','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Impuestos')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS', 10,  'Impuestos','Encabezado','CFDVentaMovImpuestoEst',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Total4')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS', 11,  'Total4','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Serielote')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS', 5,  'Serielote','Detalle','CFDVentaPedimento',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Detalle2')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS', 6,  'Detalle2','Encabezado','CFDVentaDPOS',1,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Total3')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS', 9,  'Total3','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Retenciones')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS', 8,  'Retenciones','','CFDVentaMovRetencion',0,'' 
GO
 
/* VTAS-CFDI_3.2ESTPOS-eDocDMapeoCampo*/
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[RFCEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[RFCEmpresa]',  'EmpresaRFC','',0,1,'<RFCEmpresa></RFCEmpresa>', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NombreEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[NombreEmpresa]',  'UPPER(EmpresaNombre)','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CalleEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[CalleEmpresa]',  'EmpresaCalle','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumeroExteriorEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[NumeroExteriorEmpresa]',  'EmpresaNumeroExterior','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ColoniaEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[ColoniaEmpresa]',  'EmpresaColonia','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[LocalidadEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[LocalidadEmpresa]',  'EmpresaLocalidad','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[MunicipioEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[MunicipioEmpresa]',  'EmpresaMunicipio','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EstadoEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[EstadoEmpresa]',  'EmpresaEstado','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[PaisEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[PaisEmpresa]',  'EmpresaPais','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CodigoPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[CodigoPostal]',  'EmpresaCodigoPostal','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FechaRegistro]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[FechaRegistro]',  'VentaFechaRegistro','AAAA-MM-DDTHH:NN:SS',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SerieMovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[SerieMovID]',  'VentaSerie','',0,0,'serie=""', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumeroMovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[NumeroMovID]',  'VentaFolio','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Condicion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[Condicion]',  'VentaCondicion','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SubTotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[SubTotal]',  'CONVERT(DECIMAL(20,2),VentaSubTotal+ISNULL(VentaDescuentoImporte,0))','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DescuentoImporte]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[DescuentoImporte]',  'VentaDescuentoImporte','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoComprobante]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[VentaTipoComprobante]',  'Lower(VentaTipoComprobante)','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Total]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[Total]',  'VentaTotal','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FormaPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[FormaPago]',  '(SELECT dbo.fneDocPOSCobroReferenciaMetodoCobro(CFDModuloID, 0))','',0,0,'metodoDePago=""', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CampoTipoComprobanteDeMovTipo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[CampoTipoComprobanteDeMovTipo]',  'Lower(VentaTipoComprobante)','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CodigoPostalEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[CodigoPostalEmpresa]',  'EmpresaCodigoPostal','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CondicionFormaDePago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[CondicionFormaDePago]',  'ISNULL(CondicionFormaDePago,''DIVERSAS'')','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnNoInterior]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[ExpedidoEnNoInterior]',  'SucursalNumeroInterior','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnMunicipio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[ExpedidoEnMunicipio]',  'SucursalMunicipio','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnPais]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[ExpedidoEnPais]',  'SucursalPais','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnColonia]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[ExpedidoEnColonia]',  'SucursalColonia','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnEstado]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[ExpedidoEnEstado]',  'SucursalEstado','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnNoExt]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[ExpedidoEnNoExt]',  'SucursalNumeroExterior','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnCalle]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[ExpedidoEnCalle]',  'SucursalCalle','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnCodigoPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[ExpedidoEnCodigoPostal]',  'SucursalCodigoPostal','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnLocalidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[ExpedidoEnLocalidad]',  'SucursalLocalidad','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[LugarExpedicion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[LugarExpedicion]',  'SucursalLocalidad','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumCtaPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[NumCtaPago]',  '(SELECT dbo.fneDocVentaReferenciaMetodoCobro(ID, 1))','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaMoneda]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[VentaMoneda]',  'VentaMoneda','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoCambio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Encabezado'), '[VentaTipoCambio]',  'VentaTipoCambio','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'RegimenFiscal' AND eddmc.CampoXML = '[EmisorRegimenFiscal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'RegimenFiscal'), '[EmisorRegimenFiscal]',  'EmisorRegimenFiscal','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[RFCCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Receptor'), '[RFCCliente]',  'ClienteRFC','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[NombreCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Receptor'), '[NombreCliente]',  'ClienteNombre','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[CalleCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Receptor'), '[CalleCliente]',  'ClienteCalle','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[NumeroExteriorCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Receptor'), '[NumeroExteriorCliente]',  'ClienteNumeroExterior','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[NumeroInteriorCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Receptor'), '[NumeroInteriorCliente]',  'ClienteNumeroInterior','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[ColoniaCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Receptor'), '[ColoniaCliente]',  'ClienteColonia','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[LocalidadCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Receptor'), '[LocalidadCliente]',  'ClienteLocalidad','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[MunicipioCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Receptor'), '[MunicipioCliente]',  'ClienteMunicipio','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[EstadoCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Receptor'), '[EstadoCliente]',  'ClienteEstado','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[PaisCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Receptor'), '[PaisCliente]',  'ClientePais','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[CodigoPostalCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Receptor'), '[CodigoPostalCliente]',  'ClienteCodigoPostal','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Cantidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Detalle'), '[Cantidad]',  'VentaDCantidad','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Unidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Detalle'), '[Unidad]',  'VentaDUnidad','',1,0,' ', 'CFDFLEX_UNIDADES', 2,NULL,NULL,NULL,0
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Articulo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Detalle'), '[Articulo]',  'VentaDArticulo','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[DescripcionArticulo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Detalle'), '[DescripcionArticulo]',  'VentaDDescripcion','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Precio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Detalle'), '[Precio]',  'VentaDPrecio','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Importe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Detalle'), '[Importe]',  'VentaDPrecioTotal','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Total1' AND eddmc.CampoXML = '[TotalImpuestosImporte]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Total1'), '[TotalImpuestosImporte]',  '(SELECT dbo.fneDocPOSEstTotalImpuestos(CFDModuloID))','',0,1,'<cfdi:Traslados/>', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Total1' AND eddmc.CampoXML = '[TotalImpuestosRetenidos]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Total1'), '[TotalImpuestosRetenidos]',  'VentaRetencionTotal','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[Impuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Impuestos'), '[Impuesto]',  'Impuesto','',0,1,'<cfdi:Traslados/>', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[PorcentajeImpuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Impuestos'), '[PorcentajeImpuesto]',  'Tasa','',0,1,'<DomicilioFiscal/>', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[ImporteImpuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Impuestos'), '[ImporteImpuesto]',  'Importe','',0,0,' ', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Serielote' AND eddmc.CampoXML = '[Pedimento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Serielote'), '[Pedimento]',  'Propiedades','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Serielote' AND eddmc.CampoXML = '[PedimentoFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Serielote'), '[PedimentoFecha]',  'Fecha1','AAAA-MM-DD',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Serielote' AND eddmc.CampoXML = '[PedimentoAduana]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Serielote'), '[PedimentoAduana]',  'Aduana','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Total3' AND eddmc.CampoXML = '[algo2]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Total3'), '[algo2]',  CHAR(39) + CHAR(39),'',0,1,'<cfdi:Retenciones/>', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Retenciones' AND eddmc.CampoXML = '[ImpuestoRetencion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Retenciones'), '[ImpuestoRetencion]',  'Impuesto','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS' AND edd.Seccion = 'Retenciones' AND eddmc.CampoXML = '[ImporteRetencion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS' AND Seccion = 'Retenciones'), '[ImporteRetencion]',  'Importe','',0,0,'', '', NULL,NULL,NULL,NULL,0 
GO

/********************************* VTAS-CFDI_3.2ESTPOS1-eDoc *********************************/
IF NOT EXISTS(SELECT * FROM eDoc WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1') INSERT INTO eDoc (Modulo, eDoc, TipoXML, Documento, XSD, TipoCFD, DecimalesPorOmision, TipoCFDI, TimbrarEnTransaccion, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII) SELECT 'VTAS', 'CFDI_3.2ESTPOS1',1, 
'{Encabezado}
<cfdi:Comprobante xmlns:cfdi="http://www.sat.gob.mx/cfd/3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.sat.gob.mx/cfd/3 http://www.sat.gob.mx/sitio_internet/cfd/3/cfdv32.xsd" version="3.2" serie="[SerieMovID]" folio="[NumeroMovID]" fecha="[FechaRegistro]" sello="_SELLO_" noCertificado="_NOCERTIFICADO_" certificado="_CERTIFICADO_" condicionesDePago="[Condicion]" subTotal="[SubTotal]" descuento="[DescuentoImporte]" total="[Total]" metodoDePago="[FormaPago]" tipoDeComprobante="[CampoTipoComprobanteDeMovTipo]" formaDePago="[CondicionFormaDePago]" LugarExpedicion="[LugarExpedicion]" NumCtaPago="[NumCtaPago]" Moneda="[VentaMoneda]" TipoCambio="[VentaTipoCambio]">
  <cfdi:Emisor rfc="[RFCEmpresa]" nombre="[NombreEmpresa]">     
    <cfdi:DomicilioFiscal calle="[CalleEmpresa]" noExterior="[NumeroExteriorEmpresa]" colonia="[ColoniaEmpresa]" localidad="[LocalidadEmpresa]" municipio="[MunicipioEmpresa]" estado="[EstadoEmpresa]" pais="[PaisEmpresa]" codigoPostal="[CodigoPostalEmpresa]" />     
    <cfdi:ExpedidoEn noInterior="[ExpedidoEnNoInterior]" municipio="[ExpedidoEnMunicipio]" pais="[ExpedidoEnPais]" colonia="[ExpedidoEnColonia]" estado="[ExpedidoEnEstado]" noExterior="[ExpedidoEnNoExt]" calle="[ExpedidoEnCalle]" codigoPostal="[ExpedidoEnCodigoPostal]" localidad="[ExpedidoEnLocalidad]"/>   
{/Encabezado}
{RegimenFiscal}
    <cfdi:RegimenFiscal Regimen="[EmisorRegimenFiscal]"/>
{/RegimenFiscal}
{Receptor}
  </cfdi:Emisor>
  <cfdi:Receptor rfc="[RFCCliente]" nombre="[NombreCliente]">     
    <cfdi:Domicilio calle="[CalleCliente]" noExterior="[NumeroExteriorCliente]" colonia="[ColoniaCliente]" municipio="[LocalidadCliente]" estado="[EstadoCliente]" pais="[PaisCliente]" codigoPostal="[CodigoPostalCliente]" />   
  </cfdi:Receptor>   
  <cfdi:Conceptos>    
{/Receptor}    
{Detalle}           
    <cfdi:Concepto cantidad="[Cantidad]" unidad="[Unidad]" noIdentificacion="[Articulo]" descripcion="[DescripcionArticulo]" valorUnitario="[Precio]" importe="[Importe]" >    
{/Detalle}    
{Serielote}             
      <cfdi:InformacionAduanera numero="[Pedimento]" fecha="[PedimentoFecha]" aduana="[PedimentoAduana]" />    
{/Serielote}    
{Detalle2}           
    </cfdi:Concepto>    
{/Detalle2} 
{Total1}         
  </cfdi:Conceptos>   
  <cfdi:Impuestos totalImpuestosRetenidos="[TotalImpuestosRetenidos]" totalImpuestosTrasladados="[TotalImpuestosImporte]">        
    <cfdi:Retenciones> 
{/Total1} 
{Retenciones}       
      <cfdi:Retencion impuesto="[ImpuestoRetencion]" importe="[ImporteRetencion]"/> 
{/Retenciones} 
{Total3}     
    </cfdi:Retenciones[algo2]>        
    <cfdi:Traslados> 
{/Total3} 
{Impuestos}             
      <cfdi:Traslado impuesto="[Impuesto]" tasa="[PorcentajeImpuesto]" importe="[ImporteImpuesto]" /> 
{/Impuestos} 
{Total4}        
    </cfdi:Traslados>         
  </cfdi:Impuestos>      
  <cfdi:Addenda>_ADDENDA_DOCUMENTO_</cfdi:Addenda>
</cfdi:Comprobante> 
{/Total4}','', 1, 4, 1, 1,1,0, 1
GO

/* VTAS-CFDI_3.2ESTPOS1-eDocD*/
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', 1,  'Encabezado','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'RegimenFiscal')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', 2,  'RegimenFiscal','','CFDVentaFiscalRegimen',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Receptor')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', 3,  'Receptor','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Detalle')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', 4,  'Detalle','Encabezado','CFDVentaDPOS',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Total1')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', 7,  'Total1','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Impuestos')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', 10,  'Impuestos','Encabezado','CFDVentaMovImpuestoEst',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Total4')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', 11,  'Total4','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Serielote')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', 5,  'Serielote','Detalle','CFDVentaPedimento',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Detalle2')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', 6,  'Detalle2','Encabezado','CFDVentaDPOS',1,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Total3')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', 9,  'Total3','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Retenciones')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', 8,  'Retenciones','','CFDVentaMovRetencion',0,'' 
GO
 
/* VTAS-CFDI_3.2ESTPOS1-eDocDMapeoCampo*/
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[RFCEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[RFCEmpresa]',  'EmpresaRFC','',0,1,'<RFCEmpresa></RFCEmpresa>', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NombreEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[NombreEmpresa]',  'UPPER(EmpresaNombre)','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CalleEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[CalleEmpresa]',  'EmpresaCalle','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumeroExteriorEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[NumeroExteriorEmpresa]',  'EmpresaNumeroExterior','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ColoniaEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[ColoniaEmpresa]',  'EmpresaColonia','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[LocalidadEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[LocalidadEmpresa]',  'EmpresaLocalidad','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[MunicipioEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[MunicipioEmpresa]',  'EmpresaMunicipio','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EstadoEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[EstadoEmpresa]',  'EmpresaEstado','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[PaisEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[PaisEmpresa]',  'EmpresaPais','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CodigoPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[CodigoPostal]',  'EmpresaCodigoPostal','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FechaRegistro]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[FechaRegistro]',  'VentaFechaRegistro','AAAA-MM-DDTHH:NN:SS',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SerieMovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[SerieMovID]',  'VentaSerie','',0,0,'serie=""', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumeroMovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[NumeroMovID]',  'VentaFolio','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Condicion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[Condicion]',  'VentaCondicion','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SubTotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[SubTotal]',  'CONVERT(DECIMAL(20,2),VentaSubTotal+ISNULL(VentaDescuentoImporte,0))','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DescuentoImporte]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[DescuentoImporte]',  'VentaDescuentoImporte','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoComprobante]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[VentaTipoComprobante]',  'Lower(VentaTipoComprobante)','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Total]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[Total]',  'VentaTotal','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FormaPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[FormaPago]',  '(SELECT dbo.fneDocPOSCobroReferenciaMetodoCobro(CFDModuloID, 0))','',0,0,'metodoDePago=""', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CampoTipoComprobanteDeMovTipo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[CampoTipoComprobanteDeMovTipo]',  'Lower(VentaTipoComprobante)','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CodigoPostalEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[CodigoPostalEmpresa]',  'EmpresaCodigoPostal','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CondicionFormaDePago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[CondicionFormaDePago]',  'ISNULL(CondicionFormaDePago,''DIVERSAS'')','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnNoInterior]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[ExpedidoEnNoInterior]',  'SucursalNumeroInterior','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnMunicipio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[ExpedidoEnMunicipio]',  'SucursalMunicipio','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnPais]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[ExpedidoEnPais]',  'SucursalPais','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnColonia]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[ExpedidoEnColonia]',  'SucursalColonia','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnEstado]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[ExpedidoEnEstado]',  'SucursalEstado','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnNoExt]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[ExpedidoEnNoExt]',  'SucursalNumeroExterior','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnCalle]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[ExpedidoEnCalle]',  'SucursalCalle','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnCodigoPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[ExpedidoEnCodigoPostal]',  'SucursalCodigoPostal','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnLocalidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[ExpedidoEnLocalidad]',  'SucursalLocalidad','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[LugarExpedicion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[LugarExpedicion]',  'SucursalLocalidad','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumCtaPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[NumCtaPago]',  '(SELECT dbo.fneDocVentaReferenciaMetodoCobro(ID, 1))','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaMoneda]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[VentaMoneda]',  'VentaMoneda','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoCambio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Encabezado'), '[VentaTipoCambio]',  'VentaTipoCambio','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'RegimenFiscal' AND eddmc.CampoXML = '[EmisorRegimenFiscal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'RegimenFiscal'), '[EmisorRegimenFiscal]',  'EmisorRegimenFiscal','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[RFCCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Receptor'), '[RFCCliente]',  'ClienteRFC','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[NombreCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Receptor'), '[NombreCliente]',  'ClienteNombre','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[CalleCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Receptor'), '[CalleCliente]',  'ClienteCalle','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[NumeroExteriorCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Receptor'), '[NumeroExteriorCliente]',  'ClienteNumeroExterior','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[NumeroInteriorCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Receptor'), '[NumeroInteriorCliente]',  'ClienteNumeroInterior','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[ColoniaCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Receptor'), '[ColoniaCliente]',  'ClienteColonia','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[LocalidadCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Receptor'), '[LocalidadCliente]',  'ClienteLocalidad','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[MunicipioCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Receptor'), '[MunicipioCliente]',  'ClienteMunicipio','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[EstadoCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Receptor'), '[EstadoCliente]',  'ClienteEstado','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[PaisCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Receptor'), '[PaisCliente]',  'ClientePais','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[CodigoPostalCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Receptor'), '[CodigoPostalCliente]',  'ClienteCodigoPostal','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Cantidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Detalle'), '[Cantidad]',  'VentaDCantidad','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Unidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Detalle'), '[Unidad]',  'UnidadClave','',0,0,' ', '', 2,NULL,NULL,NULL,0
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Articulo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Detalle'), '[Articulo]',  'VentaDArticulo','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[DescripcionArticulo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Detalle'), '[DescripcionArticulo]',  'VentaDDescripcion','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Precio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Detalle'), '[Precio]',  'VentaDPrecio','',0,0,' ', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Importe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Detalle'), '[Importe]',  'VentaDPrecioTotal','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Total1' AND eddmc.CampoXML = '[TotalImpuestosImporte]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Total1'), '[TotalImpuestosImporte]',  '(SELECT dbo.fneDocPOSEstTotalImpuestos(CFDModuloID))','',0,1,'<cfdi:Traslados/>', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Total1' AND eddmc.CampoXML = '[TotalImpuestosRetenidos]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Total1'), '[TotalImpuestosRetenidos]',  'VentaRetencionTotal','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[Impuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Impuestos'), '[Impuesto]',  'Impuesto','',0,1,'<cfdi:Traslados/>', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[PorcentajeImpuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Impuestos'), '[PorcentajeImpuesto]',  'Tasa','',0,1,'<DomicilioFiscal/>', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[ImporteImpuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Impuestos'), '[ImporteImpuesto]',  'Importe','',0,0,' ', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Serielote' AND eddmc.CampoXML = '[Pedimento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Serielote'), '[Pedimento]',  'Propiedades','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Serielote' AND eddmc.CampoXML = '[PedimentoFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Serielote'), '[PedimentoFecha]',  'Fecha1','AAAA-MM-DD',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Serielote' AND eddmc.CampoXML = '[PedimentoAduana]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Serielote'), '[PedimentoAduana]',  'Aduana','',0,0,'', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Total3' AND eddmc.CampoXML = '[algo2]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Total3'), '[algo2]',  CHAR(39) + CHAR(39),'',0,1,'<cfdi:Retenciones/>', '', NULL,NULL,NULL,NULL,0 

IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Retenciones' AND eddmc.CampoXML = '[ImpuestoRetencion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Retenciones'), '[ImpuestoRetencion]',  'Impuesto','',0,0,'', '', NULL,NULL,NULL,NULL,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'CFDI_3.2ESTPOS1' AND edd.Seccion = 'Retenciones' AND eddmc.CampoXML = '[ImporteRetencion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'CFDI_3.2ESTPOS1', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'CFDI_3.2ESTPOS1' AND Seccion = 'Retenciones'), '[ImporteRetencion]',  'Importe','',0,0,'', '', NULL,NULL,NULL,NULL,0 
GO


/********************************* VTAS-JasperPOS-eDoc *********************************/
IF NOT EXISTS(SELECT * FROM eDoc WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS')
INSERT INTO eDoc (Modulo, eDoc, TipoXML, Documento, XSD, TipoCFD, DecimalesPorOmision, TipoCFDI, TimbrarEnTransaccion, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII) SELECT 'VTAS', 'JasperPOS',1, 
'{Encabezado}
<Comprobante xmlns:cfdi="http://www.sat.gob.mx/cfd/3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.sat.gob.mx/cfd/3 http://www.sat.gob.mx/sitio_internet/cfd/3/cfdv32.xsd" version="3.2" serie="[SerieMovID]" folio="[NumeroMovID]" fecha="[FechaRegistro]" sello="_SELLO_" noCertificado="_NOCERTIFICADO_" certificado="_CERTIFICADO_" condicionesDePago="[Condicion]" subTotal="[SubTotal]" descuento="[DescuentoImporte]" total="[Total]" metodoDePago="[FormaPago]" tipoDeComprobante="[CampoTipoComprobanteDeMovTipo]" formaDePago="[CondicionFormaDePago]" LugarExpedicion="[LugarExpedicion]" NumCtaPago="[NumCtaPago]" Moneda="[VentaMoneda]" TipoCambio="[VentaTipoCambio]" anoAprobacion="[CFDanoAprobacion]" noAprobacion="[CFDnoAprobacion]">
  <Emisor rfc="[RFCEmpresa]" nombre="[NombreEmpresa]">
    <DomicilioFiscal calle="[CalleEmpresa]" noExterior="[NumeroExteriorEmpresa]" colonia="[ColoniaEmpresa]" localidad="[LocalidadEmpresa]" municipio="[MunicipioEmpresa]" estado="[EstadoEmpresa]" pais="[PaisEmpresa]" codigoPostal="[CodigoPostalEmpresa]" />
    <ExpedidoEn noInterior="[ExpedidoEnNoInterior]" municipio="[ExpedidoEnMunicipio]" pais="[ExpedidoEnPais]" colonia="[ExpedidoEnColonia]" estado="[ExpedidoEnEstado]" noExterior="[ExpedidoEnNoExt]" calle="[ExpedidoEnCalle]" codigoPostal="[ExpedidoEnCodigoPostal]" localidad="[ExpedidoEnLocalidad]"/>
{/Encabezado}
{RegimenFiscal}
    <RegimenFiscal Regimen="[EmisorRegimenFiscal]"/>
{/RegimenFiscal}
{Receptor}
  </Emisor>
  <Receptor rfc="[RFCCliente]" nombre="[NombreCliente]">
    <Domicilio calle="[CalleCliente]" noExterior="[NumeroExteriorCliente]" colonia="[ColoniaCliente]" municipio="[LocalidadCliente]" estado="[EstadoCliente]" pais="[PaisCliente]" codigoPostal="[CodigoPostalCliente]" />
  </Receptor>
  <Conceptos>
{/Receptor}
{Detalle}
    <Concepto cantidad="[Cantidad]" unidad="[Unidad]" noIdentificacion="[Articulo]" descripcion="[DescripcionArticulo]" valorUnitario="[Precio]" importe="[Importe]" VentaDRenglon="[VentaDRenglon]" VentaDRenglonSub="[VentaDRenglonSub]" VentaDRenglonID="[VentaDRenglonID]" VentaDRenglonTipo="[VentaDRenglonTipo]" VentaDAlmacen="[VentaDAlmacen]" VentaDEnviarA="[VentaDEnviarA]" VentaDCodigo="[VentaDCodigo]" VentaDSubCuenta="[VentaDSubCuenta]" VentaDPrecioSugerido="[VentaDPrecioSugerido]" VentaDDescuentoTipo="[VentaDDescuentoTipo]" VentaDImpuesto3="[VentaDImpuesto3]" VentaDDescripcionExtra="[VentaDDescripcionExtra]" VentaDCosto="[VentaDCosto]" VentaDCostoActividad="[VentaDCostoActividad]" VentaDPaquete="[VentaDPaquete]" VentaDContUso="[VentaDContUso]" VentaDComision="[VentaDComision]" VentaDAplica="[VentaDAplica]" VentaDAplicaID="[VentaDAplicaID]" VentaDCantidadPendiente="[VentaDCantidadPendiente]" VentaDCantidadReservada="[VentaDCantidadReservada]" VentaDCantidadCancelada="[VentaDCantidadCancelada]" VentaDCantidadOrdenada="[VentaDCantidadOrdenada]" VentaDCantidadEmbarcada="[VentaDCantidadEmbarcada]" VentaDCantidadA="[VentaDCantidadA]" VentaDFactor="[VentaDFactor]" VentaDSustitutoArticulo="[VentaDSustitutoArticulo]" VentaDSustitutoSubCuenta="[VentaDSustitutoSubCuenta]" VentaDFechaRequerida="[VentaDFechaRequerida]" VentaDHoraRequerida="[VentaDHoraRequerida]" VentaDInstruccion="[VentaDInstruccion]" VentaDAgente="[VentaDAgente]" VentaDDepartamento="[VentaDDepartamento]" VentaDUltimoReservadoCantidad="[VentaDUltimoReservadoCantidad]" VentaDUltimoReservadoFecha="[VentaDUltimoReservadoFecha]" VentaDSucursal="[VentaDSucursal]" VentaDPoliticaPrecios="[VentaDPoliticaPrecios]" VentaDSucursalOrigen="[VentaDSucursalOrigen]" VentaDAutoLocalidad="[VentaDAutoLocalidad]" VentaDUEN="[VentaDUEN]" VentaDEspacio="[VentaDEspacio]" VentaDCantidadAlterna="[VentaDCantidadAlterna]" VentaDPrecioMoneda="[VentaDPrecioMoneda]" VentaDPrecioTipoCambio="[VentaDPrecioTipoCambio]" VentaDEstado="[VentaDEstado]" VentaDServicioNumero="[VentaDServicioNumero]" VentaDAgentesAsignados="[VentaDAgentesAsignados]" VentaDAFArticulo="[VentaDAFArticulo]" VentaDExcluirPlaneacion="[VentaDExcluirPlaneacion]" VentaDAnexo="[VentaDAnexo]" VentaDAjusteCosteo="[VentaDAjusteCosteo]" VentaDCostoUEPS="[VentaDCostoUEPS]" VentaDCostoPEPS="[VentaDCostoPEPS]" VentaDUltimoCosto="[VentaDUltimoCosto]" VentaDPrecioLista="[VentaDPrecioLista]" VentaDDepartamentoDetallista="[VentaDDepartamentoDetallista]" VentaDPresupuestoEsp="[VentaDPresupuestoEsp]" VentaDPosicion="[VentaDPosicion]" VentaDPuntos="[VentaDPuntos]" VentaDCantidadObsequio="[VentaDCantidadObsequio]" VentaDOfertaID="[VentaDOfertaID]" VentaDProveedorRef="[VentaDProveedorRef]" VentaDTransferirA="[VentaDTransferirA]" VentaDArtEstatus="[VentaDArtEstatus]" VentaDArtSituacion="[VentaDArtSituacion]" VentaDTarima="[VentaDTarima]" VentaDExcluirISAN="[VentaDExcluirISAN]" VentaDContUso2="[VentaDContUso2]" VentaDContUso3="[VentaDContUso3]" VentaDCostoEstandar="[VentaDCostoEstandar]" VentaDABC="[VentaDABC]" VentaDOrdenCompra="[VentaDOrdenCompra]" VentaDTipoImpuesto1="[VentaDTipoImpuesto1]" VentaDTipoImpuesto2="[VentaDTipoImpuesto2]" VentaDTipoImpuesto3="[VentaDTipoImpuesto3]" VentaDCostoPromedio="[VentaDCostoPromedio]" VentaDCostoReposicion="[VentaDCostoReposicion]" VentaDTipoComprobante="[VentaDTipoComprobante]" VentaDSustentoComprobante="[VentaDSustentoComprobante]" VentaDTipoIdentificacion="[VentaDTipoIdentificacion]" VentaDDerechoDevolucion="[VentaDDerechoDevolucion]" VentaDEstablecimiento="[VentaDEstablecimiento]" VentaDPuntoEmision="[VentaDPuntoEmision]" VentaDSecuencialSRI="[VentaDSecuencialSRI]" VentaDAutorizacionSRI="[VentaDAutorizacionSRI]" VentaDVigenteA="[VentaDVigenteA]" VentaDSecuenciaRetencion="[VentaDSecuenciaRetencion]" VentaDComprobante="[VentaDComprobante]" VentaDFechaContableMov="[VentaDFechaContableMov]" VentaDTipoRetencion1="[VentaDTipoRetencion1]" VentaDTipoRetencion2="[VentaDTipoRetencion2]" VentaDTipoRetencion3="[VentaDTipoRetencion3]" VentaDRetencion1="[VentaDRetencion1]" VentaDRetencion2="[VentaDRetencion2]" VentaDRetencion3="[VentaDRetencion3]" Campo1="[Campo1]" Campo2="[Campo2]" Campo3="[Campo3]" Campo4="[Campo4]" Campo5="[Campo5]" >
{/Detalle}
{Serielote}
      <InformacionAduanera numero="[Pedimento]" fecha="[PedimentoFecha]" aduana="[PedimentoAduana]" />
{/Serielote}
{Detalle2}
    </Concepto>
{/Detalle2}
{Total1}
  </Conceptos>
  <Impuestos totalImpuestosRetenidos="[TotalImpuestosRetenidos]" totalImpuestosTrasladados="[TotalImpuestosImporte]">
     <Retenciones>
 {/Total1}
 {Retenciones}
       <Retencion impuesto="[ImpuestoRetencion]" importe="[ImporteRetencion]"/>
 {/Retenciones}
 {Total3}
     </Retenciones>
    <Traslados>
{/Total3}
{Impuestos}
      <Traslado impuesto="[Impuesto]" tasa="[PorcentajeImpuesto]" importe="[ImporteImpuesto]" />
 {/Impuestos}
 {Total4}
     </Traslados>
   </Impuestos>
   <PDF CFDModulo="[CFDModulo]" CFDModuloID="[CFDModuloID]" CFDFecha="[CFDFecha]" CFDEjercicio="[CFDEjercicio]" CFDPeriodo="[CFDPeriodo]" CFDEmpresa="[CFDEmpresa]" CFDMovID="[CFDMovID]" CFDSerie="[CFDSerie]" CFDFolio="[CFDFolio]" CFDRFC="[CFDRFC]" CFDAprobacion="[CFDAprobacion]" CFDImporte="[CFDImporte]" CFDImpuesto1="[CFDImpuesto1]" CFDImpuesto2="[CFDImpuesto2]" CFDFechaCancelacion="[CFDFechaCancelacion]" CFDnoCertificado="[CFDnoCertificado]" CFDSello="[CFDSello]" CFDCadenaOriginal="[CFDCadenaOriginal]" CFDCadenaOriginal1="[CFDCadenaOriginal1]" CFDCadenaOriginal2="[CFDCadenaOriginal2]" CFDCadenaOriginal3="[CFDCadenaOriginal3]" CFDCadenaOriginal4="[CFDCadenaOriginal4]" CFDCadenaOriginal5="[CFDCadenaOriginal5]" CFDGenerarPDF="[CFDGenerarPDF]" CFDRetencion1="[CFDRetencion1]" CFDRetencion2="[CFDRetencion2]" CFDTipoCambio="[CFDTipoCambio]" CFDTimbrado="[CFDTimbrado]" CFDUUID="[CFDUUID]" CFDFechaTimbrado="[CFDFechaTimbrado]" CFDSelloSAT="[CFDSelloSAT]" CFDTFDVersion="[CFDTFDVersion]" CFDnoCertificadoSAT="[CFDnoCertificadoSAT]" VentaVencimiento="[VentaVencimiento]" CteEnviarAGLN="[CteEnviarAGLN]" CteEnviarANombre="[CteEnviarANombre]" CteEnviarACalle="[CteEnviarACalle]" CteEnviarANumeroExterior="[CteEnviarANumeroExterior]" CteEnviarANumeroInterior="[CteEnviarANumeroInterior]" CteEnviarAColonia="[CteEnviarAColonia]" CteEnviarALocalidad="[CteEnviarALocalidad]" CteEnviarAMunicipio="[CteEnviarAMunicipio]" CteEnviarAEstado="[CteEnviarAEstado]" CteEnviarAPais="[CteEnviarAPais]" CteEnviarACodigoPostal="[CteEnviarACodigoPostal]" CteEnviarAClave="[CteEnviarAClave]" VentaFechaRequerida="[VentaFechaRequerida]" VentaOrdenCompra="[VentaOrdenCompra]" VentaFechaOrdenCompra="[VentaFechaOrdenCompra]" VentaReferenciaOrdenCompra="[VentaReferenciaOrdenCompra]" VentaAtencion="[VentaAtencion]" VentaObservaciones="[VentaObservaciones]" VentaAtencionTelefono="[VentaAtencionTelefono]" Campo1="[Campo1]" Campo2="[Campo2]" Campo3="[Campo3]" Campo4="[Campo4]" Campo5="[Campo5]"/>
 {/Total4}
 {CadenaOriginal}
   <PDFCadenaOriginal CadenaOriginal="[PDFCadenaOriginal]" />
 {/CadenaOriginal}
 {Fin}
   <Addenda>_ADDENDA_DOCUMENTO_</Addenda>
 </Comprobante>
 {/Fin}
','', 0, 2, 0, 0,1,0, 1
GO
 
/* VTAS-JasperPOS-eDocD*/
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'JasperPOS', 1,  'Encabezado','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'RegimenFiscal')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'JasperPOS', 2,  'RegimenFiscal','','CFDVentaFiscalRegimen',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Receptor')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'JasperPOS', 3,  'Receptor','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'JasperPOS', 4,  'Detalle','Encabezado','CFDVentaDPOS',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total1')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'JasperPOS', 7,  'Total1','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Impuestos')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'JasperPOS', 10,  'Impuestos','Encabezado','CFDVentaMovImpuestoEst',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'JasperPOS', 11,  'Total4','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Serielote')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'JasperPOS', 5,  'Serielote','Detalle','CFDVentaPedimento',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle2')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'JasperPOS', 6,  'Detalle2','Encabezado','CFDVentaDPOS',1,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total3')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'JasperPOS', 9,  'Total3','','CFDVenta',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Retenciones')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'JasperPOS', 8,  'Retenciones','','CFDVentaMovRetencion',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'CadenaOriginal')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'JasperPOS', 12,  'CadenaOriginal','Encabezado','CFDVentaCadenaOriginal',0,'' 
IF NOT EXISTS(SELECT * FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Fin')      INSERT INTO eDocD (Modulo, eDoc, Orden, Seccion, SubSeccionDe, Vista , Cierre, TablaSt) SELECT 'VTAS', 'JasperPOS', 13,  'Fin','','CFDVenta',0,'' 
GO
 
/* VTAS-JasperPOS-eDocDMapeoCampo*/
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[RFCEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[RFCEmpresa]',  'EmpresaRFC','',0,1,'<RFCEmpresa></RFCEmpresa>', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NombreEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[NombreEmpresa]',  'UPPER(EmpresaNombre)','',0,0,' ', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CalleEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[CalleEmpresa]',  'EmpresaCalle','',0,0,' ', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumeroExteriorEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[NumeroExteriorEmpresa]',  'EmpresaNumeroExterior','',0,0,' ', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ColoniaEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[ColoniaEmpresa]',  'EmpresaColonia','',0,0,' ', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[LocalidadEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[LocalidadEmpresa]',  'EmpresaLocalidad','',0,0,' ', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[MunicipioEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[MunicipioEmpresa]',  'EmpresaMunicipio','',0,0,' ', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[EstadoEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[EstadoEmpresa]',  'EmpresaEstado','',0,0,' ', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[PaisEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[PaisEmpresa]',  'EmpresaPais','',0,0,' ', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CodigoPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[CodigoPostal]',  'EmpresaCodigoPostal','',0,0,' ', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FechaRegistro]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[FechaRegistro]',  'VentaFechaRegistro','AAAA-MM-DDTHH:NN:SS',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SerieMovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[SerieMovID]',  'VentaSerie','',0,0,'serie=""', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumeroMovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[NumeroMovID]',  'VentaFolio','',0,0,' ', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Condicion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[Condicion]',  'VentaCondicion','',0,0,' ', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[SubTotal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[SubTotal]',  'CONVERT(DECIMAL(20,2),VentaSubTotal+ISNULL(VentaDescuentoImporte,0))','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[DescuentoImporte]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[DescuentoImporte]',  'VentaDescuentoImporte','',0,0,' ', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoComprobante]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[VentaTipoComprobante]',  'Lower(VentaTipoComprobante)','',0,0,' ', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[Total]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[Total]',  'VentaTotal','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[FormaPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[FormaPago]',  '(SELECT dbo.fneDocPOSCobroReferenciaMetodoCobro(CFDModuloID, 0))','',0,0,'metodoDePago=""', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CampoTipoComprobanteDeMovTipo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[CampoTipoComprobanteDeMovTipo]',  'Lower(VentaTipoComprobante)','',0,0,' ', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CodigoPostalEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[CodigoPostalEmpresa]',  'EmpresaCodigoPostal','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CondicionFormaDePago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[CondicionFormaDePago]',  'ISNULL(CondicionFormaDePago,''DIVERSAS'')','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnNoInterior]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[ExpedidoEnNoInterior]',  'SucursalNumeroInterior','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnMunicipio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[ExpedidoEnMunicipio]',  'SucursalMunicipio','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnPais]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[ExpedidoEnPais]',  'SucursalPais','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnColonia]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[ExpedidoEnColonia]',  'SucursalColonia','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnEstado]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[ExpedidoEnEstado]',  'SucursalEstado','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnNoExt]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[ExpedidoEnNoExt]',  'SucursalNumeroExterior','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnCalle]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[ExpedidoEnCalle]',  'SucursalCalle','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnCodigoPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[ExpedidoEnCodigoPostal]',  'SucursalCodigoPostal','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[ExpedidoEnLocalidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[ExpedidoEnLocalidad]',  'SucursalLocalidad','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[LugarExpedicion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[LugarExpedicion]',  'SucursalLocalidad','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[NumCtaPago]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[NumCtaPago]',  '(SELECT dbo.fneDocVentaReferenciaMetodoCobro(ID, 1))','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaMoneda]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[VentaMoneda]',  'VentaMoneda','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[VentaTipoCambio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[VentaTipoCambio]',  'VentaTipoCambio','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CFDanoAprobacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[CFDanoAprobacion]',  'CFDanoAprobacion','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Encabezado' AND eddmc.CampoXML = '[CFDnoAprobacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Encabezado'), '[CFDnoAprobacion]',  'CFDnoAprobacion','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'RegimenFiscal' AND eddmc.CampoXML = '[EmisorRegimenFiscal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'RegimenFiscal'), '[EmisorRegimenFiscal]',  'EmisorRegimenFiscal','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[RFCCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Receptor'), '[RFCCliente]',  'ClienteRFC','',0,0,' ', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[NombreCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Receptor'), '[NombreCliente]',  'ClienteNombre','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[CalleCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Receptor'), '[CalleCliente]',  'ClienteCalle','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[NumeroExteriorCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Receptor'), '[NumeroExteriorCliente]',  'ClienteNumeroExterior','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[NumeroInteriorCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Receptor'), '[NumeroInteriorCliente]',  'ClienteNumeroInterior','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[ColoniaCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Receptor'), '[ColoniaCliente]',  'ClienteColonia','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[LocalidadCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Receptor'), '[LocalidadCliente]',  'ClienteLocalidad','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[MunicipioCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Receptor'), '[MunicipioCliente]',  'ClienteMunicipio','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[EstadoCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Receptor'), '[EstadoCliente]',  'ClienteEstado','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[PaisCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Receptor'), '[PaisCliente]',  'ClientePais','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Receptor' AND eddmc.CampoXML = '[CodigoPostalCliente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Receptor'), '[CodigoPostalCliente]',  'ClienteCodigoPostal','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Cantidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[Cantidad]',  'VentaDCantidad','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Unidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[Unidad]',  'VentaDUnidad','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Articulo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[Articulo]',  'VentaDArticulo','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[DescripcionArticulo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[DescripcionArticulo]',  'VentaDDescripcion','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Precio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[Precio]',  'VentaDPrecio','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Importe]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[Importe]',  'VentaDPrecioTotal','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDRenglon]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDRenglon]',  'VentaDRenglon','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDRenglonSub]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDRenglonSub]',  'VentaDRenglonSub','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDRenglonID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDRenglonID]',  'VentaDRenglonID','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDRenglonTipo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDRenglonTipo]',  'VentaDRenglonTipo','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDAlmacen]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDAlmacen]',  'VentaDAlmacen','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDEnviarA]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDEnviarA]',  'VentaDEnviarA','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDCodigo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDCodigo]',  'VentaDCodigo','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDSubCuenta]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDSubCuenta]',  'VentaDSubCuenta','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDPrecioSugerido]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDPrecioSugerido]',  'VentaDPrecioSugerido','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDDescuentoTipo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDDescuentoTipo]',  'VentaDDescuentoTipo','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDImpuesto3]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDImpuesto3]',  'VentaDImpuesto3','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDDescripcionExtra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDDescripcionExtra]',  'VentaDDescripcionExtra','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDCosto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDCosto]',  'VentaDCosto','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDCostoActividad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDCostoActividad]',  'VentaDCostoActividad','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDPaquete]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDPaquete]',  'VentaDPaquete','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDContUso]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDContUso]',  'VentaDContUso','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDComision]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDComision]',  'VentaDComision','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDAplica]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDAplica]',  'VentaDAplica','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDAplicaID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDAplicaID]',  'VentaDAplicaID','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDCantidadPendiente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDCantidadPendiente]',  'VentaDCantidadPendiente','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDCantidadReservada]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDCantidadReservada]',  'VentaDCantidadReservada','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDCantidadCancelada]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDCantidadCancelada]',  'VentaDCantidadCancelada','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDCantidadOrdenada]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDCantidadOrdenada]',  'VentaDCantidadOrdenada','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDCantidadEmbarcada]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDCantidadEmbarcada]',  'VentaDCantidadEmbarcada','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDCantidadA]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDCantidadA]',  'VentaDCantidadA','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDFactor]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDFactor]',  'VentaDFactor','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDSustitutoArticulo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDSustitutoArticulo]',  'VentaDSustitutoArticulo','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDSustitutoSubCuenta]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDSustitutoSubCuenta]',  'VentaDSustitutoSubCuenta','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDFechaRequerida]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDFechaRequerida]',  'VentaDFechaRequerida','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDHoraRequerida]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDHoraRequerida]',  'VentaDHoraRequerida','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDInstruccion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDInstruccion]',  'VentaDInstruccion','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDAgente]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDAgente]',  'VentaDAgente','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDDepartamento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDDepartamento]',  'VentaDDepartamento','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDUltimoReservadoCantidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDUltimoReservadoCantidad]',  'VentaDUltimoReservadoCantidad','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDUltimoReservadoFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDUltimoReservadoFecha]',  'VentaDUltimoReservadoFecha','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDSucursal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDSucursal]',  'VentaDSucursal','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDPoliticaPrecios]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDPoliticaPrecios]',  'VentaDPoliticaPrecios','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDSucursalOrigen]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDSucursalOrigen]',  'VentaDSucursalOrigen','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDAutoLocalidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDAutoLocalidad]',  'VentaDAutoLocalidad','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDUEN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDUEN]',  'VentaDUEN','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDEspacio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDEspacio]',  'VentaDEspacio','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDCantidadAlterna]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDCantidadAlterna]',  'VentaDCantidadAlterna','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDPrecioMoneda]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDPrecioMoneda]',  'VentaDPrecioMoneda','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDPrecioTipoCambio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDPrecioTipoCambio]',  'VentaDPrecioTipoCambio','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDEstado]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDEstado]',  'VentaDEstado','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDServicioNumero]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDServicioNumero]',  'VentaDServicioNumero','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDAgentesAsignados]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDAgentesAsignados]',  'VentaDAgentesAsignados','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDAFArticulo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDAFArticulo]',  'VentaDAFArticulo','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDExcluirPlaneacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDExcluirPlaneacion]',  'VentaDExcluirPlaneacion','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDAnexo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDAnexo]',  'VentaDAnexo','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDAjusteCosteo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDAjusteCosteo]',  'VentaDAjusteCosteo','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDCostoUEPS]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDCostoUEPS]',  'VentaDCostoUEPS','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDCostoPEPS]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDCostoPEPS]',  'VentaDCostoPEPS','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDUltimoCosto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDUltimoCosto]',  'VentaDUltimoCosto','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDPrecioLista]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDPrecioLista]',  'VentaDPrecioLista','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDDepartamentoDetallista]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDDepartamentoDetallista]',  'VentaDDepartamentoDetallista','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDPresupuestoEsp]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDPresupuestoEsp]',  'VentaDPresupuestoEsp','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDPosicion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDPosicion]',  'VentaDPosicion','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDPuntos]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDPuntos]',  'VentaDPuntos','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDCantidadObsequio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDCantidadObsequio]',  'VentaDCantidadObsequio','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDOfertaID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDOfertaID]',  'VentaDOfertaID','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDProveedorRef]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDProveedorRef]',  'VentaDProveedorRef','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDTransferirA]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDTransferirA]',  'VentaDTransferirA','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDArtEstatus]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDArtEstatus]',  'VentaDArtEstatus','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDArtSituacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDArtSituacion]',  'VentaDArtSituacion','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDTarima]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDTarima]',  'VentaDTarima','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDExcluirISAN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDExcluirISAN]',  'VentaDExcluirISAN','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDContUso2]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDContUso2]',  'VentaDContUso2','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDContUso3]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDContUso3]',  'VentaDContUso3','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDCostoEstandar]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDCostoEstandar]',  'VentaDCostoEstandar','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDABC]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDABC]',  'VentaDABC','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDOrdenCompra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDOrdenCompra]',  'VentaDOrdenCompra','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDTipoImpuesto1]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDTipoImpuesto1]',  'VentaDTipoImpuesto1','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDTipoImpuesto2]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDTipoImpuesto2]',  'VentaDTipoImpuesto2','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDTipoImpuesto3]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDTipoImpuesto3]',  'VentaDTipoImpuesto3','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDCostoPromedio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDCostoPromedio]',  'VentaDCostoPromedio','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDCostoReposicion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDCostoReposicion]',  'VentaDCostoReposicion','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDTipoComprobante]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDTipoComprobante]',  'VentaDTipoComprobante','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDSustentoComprobante]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDSustentoComprobante]',  'VentaDSustentoComprobante','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDTipoIdentificacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDTipoIdentificacion]',  'VentaDTipoIdentificacion','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDDerechoDevolucion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDDerechoDevolucion]',  'VentaDDerechoDevolucion','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDEstablecimiento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDEstablecimiento]',  'VentaDEstablecimiento','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDPuntoEmision]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDPuntoEmision]',  'VentaDPuntoEmision','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDSecuencialSRI]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDSecuencialSRI]',  'VentaDSecuencialSRI','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDAutorizacionSRI]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDAutorizacionSRI]',  'VentaDAutorizacionSRI','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDVigenteA]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDVigenteA]',  'VentaDVigenteA','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDSecuenciaRetencion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDSecuenciaRetencion]',  'VentaDSecuenciaRetencion','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDComprobante]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDComprobante]',  'VentaDComprobante','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDFechaContableMov]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDFechaContableMov]',  'VentaDFechaContableMov','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDTipoRetencion1]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDTipoRetencion1]',  'VentaDTipoRetencion1','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDTipoRetencion2]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDTipoRetencion2]',  'VentaDTipoRetencion2','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDTipoRetencion3]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDTipoRetencion3]',  'VentaDTipoRetencion3','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDRetencion1]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDRetencion1]',  'VentaDRetencion1','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDRetencion2]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDRetencion2]',  'VentaDRetencion2','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[VentaDRetencion3]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[VentaDRetencion3]',  'VentaDRetencion3','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Campo1]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[Campo1]',  '''Campo1''','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Campo2]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[Campo2]',  '''Campo2''','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Campo3]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[Campo3]',  '''Campo3''','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Campo4]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[Campo4]',  '''Campo4''','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Detalle' AND eddmc.CampoXML = '[Campo5]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Detalle'), '[Campo5]',  '''Campo5''','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total1' AND eddmc.CampoXML = '[TotalImpuestosImporte]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total1'), '[TotalImpuestosImporte]',  '(SELECT dbo.fneDocPOSEstTotalImpuestos(CFDModuloID))','',0,1,'<Traslados/>', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total1' AND eddmc.CampoXML = '[TotalImpuestosRetenidos]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total1'), '[TotalImpuestosRetenidos]',  'VentaRetencionTotal','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[Impuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Impuestos'), '[Impuesto]',  'Impuesto','',0,1,'<Traslados/>', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[PorcentajeImpuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Impuestos'), '[PorcentajeImpuesto]',  'Tasa','',0,1,'<DomicilioFiscal/>', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Impuestos' AND eddmc.CampoXML = '[ImporteImpuesto]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Impuestos'), '[ImporteImpuesto]',  'Importe','',0,0,' ', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDModulo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDModulo]',  'CFDModulo','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDModuloID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDModuloID]',  'CFDModuloID','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDFecha]',  'CFDFecha','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDEjercicio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDEjercicio]',  'CFDEjercicio','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDPeriodo]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDPeriodo]',  'CFDPeriodo','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDEmpresa]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDEmpresa]',  'CFDEmpresa','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDMovID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDMovID]',  'CFDMovID','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDSerie]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDSerie]',  'CFDSerie','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDFolio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDFolio]',  'CFDFolio','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDRFC]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDRFC]',  'CFDRFC','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDAprobacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDAprobacion]',  'CFDAprobacion','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDImporte]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDImporte]',  'CFDImporte','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDImpuesto1]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDImpuesto1]',  'CFDImpuesto1','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDImpuesto2]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDImpuesto2]',  'CFDImpuesto2','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDFechaCancelacion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDFechaCancelacion]',  'CFDFechaCancelacion','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDnoCertificado]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDnoCertificado]',  'CFDnoCertificado','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDSello]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDSello]',  'CFDSello','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDCadenaOriginal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDCadenaOriginal]',  'CFDCadenaOriginal','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDCadenaOriginal1]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDCadenaOriginal1]',  'CFDCadenaOriginal1','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDCadenaOriginal2]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDCadenaOriginal2]',  'CFDCadenaOriginal2','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDCadenaOriginal3]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDCadenaOriginal3]',  'CFDCadenaOriginal3','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDCadenaOriginal4]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDCadenaOriginal4]',  'CFDCadenaOriginal4','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDCadenaOriginal5]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDCadenaOriginal5]',  'CFDCadenaOriginal5','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDGenerarPDF]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDGenerarPDF]',  'CFDGenerarPDF','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDRetencion1]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDRetencion1]',  'CFDRetencion1','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDRetencion2]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDRetencion2]',  'CFDRetencion2','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDTipoCambio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDTipoCambio]',  'CFDTipoCambio','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDTimbrado]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDTimbrado]',  'CFDTimbrado','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDUUID]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDUUID]',  'CONVERT(varchar(50),CFDUUID)','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDFechaTimbrado]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDFechaTimbrado]',  'CFDFechaTimbrado','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDSelloSAT]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDSelloSAT]',  'CFDSelloSAT','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDTFDVersion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDTFDVersion]',  'CFDTFDVersion','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CFDnoCertificadoSAT]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CFDnoCertificadoSAT]',  'CFDnoCertificadoSAT','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[VentaVencimiento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[VentaVencimiento]',  'VentaVencimiento','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CteEnviarAGLN]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CteEnviarAGLN]',  'CteEnviarAGLN','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CteEnviarANombre]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CteEnviarANombre]',  'CteEnviarANombre','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CteEnviarACalle]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CteEnviarACalle]',  'CteEnviarACalle','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CteEnviarANumeroExterior]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CteEnviarANumeroExterior]',  'CteEnviarANumeroExterior','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CteEnviarANumeroInterior]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CteEnviarANumeroInterior]',  'CteEnviarANumeroInterior','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CteEnviarAColonia]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CteEnviarAColonia]',  'CteEnviarAColonia','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CteEnviarALocalidad]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CteEnviarALocalidad]',  'CteEnviarALocalidad','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CteEnviarAMunicipio]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CteEnviarAMunicipio]',  'CteEnviarAMunicipio','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CteEnviarAEstado]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CteEnviarAEstado]',  'CteEnviarAEstado','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CteEnviarAPais]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CteEnviarAPais]',  'CteEnviarAPais','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CteEnviarACodigoPostal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CteEnviarACodigoPostal]',  'CteEnviarACodigoPostal','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[CteEnviarAClave]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[CteEnviarAClave]',  'CteEnviarAClave','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[VentaFechaRequerida]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[VentaFechaRequerida]',  'VentaFechaRequerida','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[VentaOrdenCompra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[VentaOrdenCompra]',  'VentaOrdenCompra','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[VentaFechaOrdenCompra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[VentaFechaOrdenCompra]',  'VentaFechaOrdenCompra','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[VentaReferenciaOrdenCompra]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[VentaReferenciaOrdenCompra]',  'VentaReferenciaOrdenCompra','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[VentaAtencion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[VentaAtencion]',  'VentaAtencion','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[VentaObservaciones]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[VentaObservaciones]',  'VentaObservaciones','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[VentaAtencionTelefono]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[VentaAtencionTelefono]',  'VentaAtencionTelefono','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[Campo1]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[Campo1]',  '''Campo1''','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[Campo2]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[Campo2]',  '''Campo2''','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[Campo3]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[Campo3]',  '''Campo3''','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[Campo4]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[Campo4]',  '''Campo4''','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Total4' AND eddmc.CampoXML = '[Campo5]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Total4'), '[Campo5]',  '''Campo5''','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Serielote' AND eddmc.CampoXML = '[Pedimento]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Serielote'), '[Pedimento]',  'Propiedades','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Serielote' AND eddmc.CampoXML = '[PedimentoFecha]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Serielote'), '[PedimentoFecha]',  'Fecha1','AAAA-MM-DD',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Serielote' AND eddmc.CampoXML = '[PedimentoAduana]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Serielote'), '[PedimentoAduana]',  'Aduana','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Retenciones' AND eddmc.CampoXML = '[ImpuestoRetencion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Retenciones'), '[ImpuestoRetencion]',  'Impuesto','',0,0,'', '', NULL,1,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'Retenciones' AND eddmc.CampoXML = '[ImporteRetencion]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'Retenciones'), '[ImporteRetencion]',  'Importe','',0,0,'', '', NULL,0,0,1,0 
IF NOT EXISTS(SELECT * FROM eDocDMapeoCampo eddmc JOIN eDocD edd ON edd.RID = eddmc.IDSeccion WHERE eddmc.Modulo = 'VTAS' AND eddmc.eDoc = 'JasperPOS' AND edd.Seccion = 'CadenaOriginal' AND eddmc.CampoXML = '[PDFCadenaOriginal]')  INSERT eDocDMapeoCampo (Modulo, eDoc, IDSeccion, CampoXML, CampoVista, FormatoOpcional, Traducir, Opcional, BorrarSiOpcional, TablaSt, Decimales, CaracterExtendidoAASCII, ConvertirPaginaCodigo437, ConvertirComillaDobleAASCII, NumericoNuloACero) SELECT 'VTAS', 'JasperPOS', (SELECT RID FROM eDocD WHERE Modulo = 'VTAS' AND eDoc = 'JasperPOS' AND Seccion = 'CadenaOriginal'), '[PDFCadenaOriginal]',  'CadenaOriginal','',0,0,'', '', NULL,1,0,1,0 
GO

